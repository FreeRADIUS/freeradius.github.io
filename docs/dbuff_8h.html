<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/util/dbuff.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_862598e893fc0f1bed46c00d00206efb.html">util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">dbuff.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A generic data buffer structure for encoding and decoding.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/missing.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/debug.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/net.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for dbuff.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h__incl.svg" width="100%" height="417"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dbuff_8h__dep__incl.svg" width="202" height="171"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="dbuff_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a788996dcfd921f497ca6fc8329a25cc3"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(_func, ...)</td></tr>
<tr class="memdesc:a788996dcfd921f497ca6fc8329a25cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic wrapper macro to return if there's insufficient memory to satisfy the request on the dbuff.  <a href="#a788996dcfd921f497ca6fc8329a25cc3">More...</a><br /></td></tr>
<tr class="separator:a788996dcfd921f497ca6fc8329a25cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adc7f2831dbfa07e048535efad874d264"><td class="memItemLeft" align="right" valign="top">typedef size_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#adc7f2831dbfa07e048535efad874d264">fr_dbuff_extend_t</a>) (<a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff, size_t req_extension)</td></tr>
<tr class="memdesc:adc7f2831dbfa07e048535efad874d264"><td class="mdescLeft">&#160;</td><td class="mdescRight">dbuff extension callback  <a href="#adc7f2831dbfa07e048535efad874d264">More...</a><br /></td></tr>
<tr class="separator:adc7f2831dbfa07e048535efad874d264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba47cf778c891b541c68fcf78954775"><td class="memItemLeft" align="right" valign="top">typedef struct fr_dbuff_marker_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></td></tr>
<tr class="memdesc:a2ba47cf778c891b541c68fcf78954775"><td class="mdescLeft">&#160;</td><td class="mdescRight">A position marker associated with a dbuff.  <a href="#a2ba47cf778c891b541c68fcf78954775">More...</a><br /></td></tr>
<tr class="separator:a2ba47cf778c891b541c68fcf78954775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ab727e4c61835ac6ee275f8140a9f6"><td class="memItemLeft" align="right" valign="top">typedef struct fr_dbuff_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></td></tr>
<tr class="memdesc:a03ab727e4c61835ac6ee275f8140a9f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A dbuff.  <a href="#a03ab727e4c61835ac6ee275f8140a9f6">More...</a><br /></td></tr>
<tr class="separator:a03ab727e4c61835ac6ee275f8140a9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialisers</h2></td></tr>
<tr class="memitem:af23b1899f99e31c4312eb383f73d2a4f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#af23b1899f99e31c4312eb383f73d2a4f">FR_DBUFF_NO_ADVANCE</a>(_dbuff)</td></tr>
<tr class="memdesc:af23b1899f99e31c4312eb383f73d2a4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevent an dbuff being advanced by operations on its child.  <a href="#af23b1899f99e31c4312eb383f73d2a4f">More...</a><br /></td></tr>
<tr class="separator:af23b1899f99e31c4312eb383f73d2a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f667a96f6caa0f59265584cfd85affa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a9f667a96f6caa0f59265584cfd85affa">FR_DBUFF_RESERVE</a>(_dbuff,  _reserve)&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, _reserve, <a class="el" href="abinary_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="memdesc:a9f667a96f6caa0f59265584cfd85affa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve _reserve bytes in the dbuff when passing it to another function.  <a href="#a9f667a96f6caa0f59265584cfd85affa">More...</a><br /></td></tr>
<tr class="separator:a9f667a96f6caa0f59265584cfd85affa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceeddf8aa7baa8d4145f416621afe55d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#aceeddf8aa7baa8d4145f416621afe55d">FR_DBUFF_RESERVE_NO_ADVANCE</a>(_dbuff,  _reserve)&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, _reserve, <a class="el" href="abinary_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:aceeddf8aa7baa8d4145f416621afe55d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve _reserve bytes in the dbuff when passing it to another function.  <a href="#aceeddf8aa7baa8d4145f416621afe55d">More...</a><br /></td></tr>
<tr class="separator:aceeddf8aa7baa8d4145f416621afe55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc3cf45b3bdb5c902c36ce2e9c2a3ca"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a4fc3cf45b3bdb5c902c36ce2e9c2a3ca">FR_DBUFF_MAX</a>(_dbuff,  _max)&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) &gt; (_max)) ? (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) - (_max)) : 0, <a class="el" href="abinary_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="memdesc:a4fc3cf45b3bdb5c902c36ce2e9c2a3ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit the maximum number of bytes available in the dbuff when passing it to another function.  <a href="#a4fc3cf45b3bdb5c902c36ce2e9c2a3ca">More...</a><br /></td></tr>
<tr class="separator:a4fc3cf45b3bdb5c902c36ce2e9c2a3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9db39f44fd1b2c5b5711802ff4bd7a4"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#ab9db39f44fd1b2c5b5711802ff4bd7a4">FR_DBUFF_MAX_NO_ADVANCE</a>(_dbuff,  _max)&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) &gt; (_max)) ? (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) - (_max)) : 0, <a class="el" href="abinary_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:ab9db39f44fd1b2c5b5711802ff4bd7a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit the maximum number of bytes available in the dbuff when passing it to another function.  <a href="#ab9db39f44fd1b2c5b5711802ff4bd7a4">More...</a><br /></td></tr>
<tr class="separator:ab9db39f44fd1b2c5b5711802ff4bd7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3371d1ef887d1aba02a37c7cb3cbbfa8"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a3371d1ef887d1aba02a37c7cb3cbbfa8">fr_dbuff_init</a>(_out,  _start,  _len_or_end)</td></tr>
<tr class="memdesc:a3371d1ef887d1aba02a37c7cb3cbbfa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise an dbuff for encoding or decoding.  <a href="#a3371d1ef887d1aba02a37c7cb3cbbfa8">More...</a><br /></td></tr>
<tr class="separator:a3371d1ef887d1aba02a37c7cb3cbbfa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef8bf7cdb114451dad4a96f65299e24"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#afef8bf7cdb114451dad4a96f65299e24">FR_DBUFF_TMP</a>(_start,  _len_or_end)</td></tr>
<tr class="memdesc:afef8bf7cdb114451dad4a96f65299e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a compound literal to pass into functions which accept a dbuff.  <a href="#afef8bf7cdb114451dad4a96f65299e24">More...</a><br /></td></tr>
<tr class="separator:afef8bf7cdb114451dad4a96f65299e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6852ade1f6954ac0ca1c55f1c1a39018"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a6852ade1f6954ac0ca1c55f1c1a39018">_fr_dbuff_extend_talloc</a> (<a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff, size_t extension)</td></tr>
<tr class="memdesc:a6852ade1f6954ac0ca1c55f1c1a39018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocate the current buffer.  <a href="#a6852ade1f6954ac0ca1c55f1c1a39018">More...</a><br /></td></tr>
<tr class="separator:a6852ade1f6954ac0ca1c55f1c1a39018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae109ead816d3ab29a6e36d49b29865"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#aaae109ead816d3ab29a6e36d49b29865">fr_dbuff_init_talloc</a> (TALLOC_CTX *ctx, <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff, fr_dbuff_uctx_talloc_t *tctx, size_t <a class="el" href="fuzzer_8c.html#a50300ba6e38ec30121edcc07ebac42c6">init</a>, size_t max)</td></tr>
<tr class="memdesc:aaae109ead816d3ab29a6e36d49b29865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a special dbuff which automatically extends as additional data is written.  <a href="#aaae109ead816d3ab29a6e36d49b29865">More...</a><br /></td></tr>
<tr class="separator:aaae109ead816d3ab29a6e36d49b29865"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Extension requests</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp0eb57247406d3a5c0273a6b19b089603"></a>These functions/macros may be used to request that the underlying buffer is either extended to accomodate more data, or that data is shifted out of the buffer, and that the buffer is refilled. </p>
</td></tr>
<tr class="memitem:a95d4692c42cf1b8bb2fd8058c1163df5"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a95d4692c42cf1b8bb2fd8058c1163df5">FR_DBUFF_FLAG_EXTENDABLE</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a95d4692c42cf1b8bb2fd8058c1163df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating a dbuff is extendable.  <a href="#a95d4692c42cf1b8bb2fd8058c1163df5">More...</a><br /></td></tr>
<tr class="separator:a95d4692c42cf1b8bb2fd8058c1163df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f532736992fa5c7b305b8a089b27a13"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a0f532736992fa5c7b305b8a089b27a13">FR_DBUFF_FLAG_EXTENDED</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:a0f532736992fa5c7b305b8a089b27a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating that during the last extend call the dbuff was extended.  <a href="#a0f532736992fa5c7b305b8a089b27a13">More...</a><br /></td></tr>
<tr class="separator:a0f532736992fa5c7b305b8a089b27a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87e8760a373b4a55564fcc3337a16de"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#ac87e8760a373b4a55564fcc3337a16de">fr_dbuff_is_extendable</a>(_status)&#160;&#160;&#160;((_status) &amp; <a class="el" href="dbuff_8h.html#a95d4692c42cf1b8bb2fd8058c1163df5">FR_DBUFF_FLAG_EXTENDABLE</a>)</td></tr>
<tr class="memdesc:ac87e8760a373b4a55564fcc3337a16de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a dbuff can be extended again.  <a href="#ac87e8760a373b4a55564fcc3337a16de">More...</a><br /></td></tr>
<tr class="separator:ac87e8760a373b4a55564fcc3337a16de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e46c0e85a74b91dc4400279388470db"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a3e46c0e85a74b91dc4400279388470db">fr_dbuff_was_extended</a>(_status)&#160;&#160;&#160;((_status) &amp; <a class="el" href="dbuff_8h.html#a0f532736992fa5c7b305b8a089b27a13">FR_DBUFF_FLAG_EXTENDED</a>)</td></tr>
<tr class="memdesc:a3e46c0e85a74b91dc4400279388470db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the dbuff was extended during the last extend call.  <a href="#a3e46c0e85a74b91dc4400279388470db">More...</a><br /></td></tr>
<tr class="separator:a3e46c0e85a74b91dc4400279388470db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69045029f34094a7c6802864c77d3dac"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(_status,  _dbuff_or_marker,  _lowat)</td></tr>
<tr class="memdesc:a69045029f34094a7c6802864c77d3dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend if we're below _lowat.  <a href="#a69045029f34094a7c6802864c77d3dac">More...</a><br /></td></tr>
<tr class="separator:a69045029f34094a7c6802864c77d3dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d5827668d3db714a6a41f561f57f8f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a20d5827668d3db714a6a41f561f57f8f">FR_DBUFF_EXTEND_LOWAT_OR_RETURN</a>(_dbuff_or_marker,  _lowat)</td></tr>
<tr class="memdesc:a20d5827668d3db714a6a41f561f57f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend if we're below _lowat and return if we can't extend above _lowat.  <a href="#a20d5827668d3db714a6a41f561f57f8f">More...</a><br /></td></tr>
<tr class="separator:a20d5827668d3db714a6a41f561f57f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7815a80f2377c78121c363d7ed2ce6bc"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a7815a80f2377c78121c363d7ed2ce6bc">fr_dbuff_extend</a>(_dbuff)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(NULL, _dbuff, 1)</td></tr>
<tr class="memdesc:a7815a80f2377c78121c363d7ed2ce6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend if no space remains.  <a href="#a7815a80f2377c78121c363d7ed2ce6bc">More...</a><br /></td></tr>
<tr class="separator:a7815a80f2377c78121c363d7ed2ce6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2ca1c962b57e274ba04530e696fbff"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbff">fr_dbuff_extend_status_t</a> { <br />
&#160;&#160;<a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbffa0e084500ae3ffdc3830cfb963e4148a4">FR_DBUFF_NOT_EXTENDABLE</a> = 0x00, 
<br />
&#160;&#160;<a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbffa8a4cc2a2014bd0cea65ea59d11bd67e4">FR_DBUFF_EXTENDABLE</a> = FR_DBUFF_FLAG_EXTENDABLE, 
<br />
&#160;&#160;<a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbffabcc0856cec5d57bd7792ede9798320ed">FR_DBUFF_EXTENDABLE_EXTENDED</a> = FR_DBUFF_FLAG_EXTENDABLE | FR_DBUFF_FLAG_EXTENDED, 
<br />
&#160;&#160;<a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbffa72f7a83feb33678d78f0dd5e2eeb04d7">FR_DBUFF_EXTENDED</a> = FR_DBUFF_FLAG_EXTENDED
<br />
 }<tr class="memdesc:a3f2ca1c962b57e274ba04530e696fbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the buffer is currently extendable and whether it was extended.  <a href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbff">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a3f2ca1c962b57e274ba04530e696fbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Extension callback helpers</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp87d8a209e91d575dc5e9423b59526db4"></a>These public functions are intended to be called by extension callbacks to fixup dbuffs after the underlying buffer or its contents has been altered. </p>
</td></tr>
<tr class="memitem:aa30c687f387443a89139399929a88090"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#aa30c687f387443a89139399929a88090">fr_dbuff_update</a> (<a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff, uint8_t *new_buff, size_t new_len)</td></tr>
<tr class="memdesc:aa30c687f387443a89139399929a88090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all markers and pointers in the set of dbuffs to point to new_buff.  <a href="#aa30c687f387443a89139399929a88090">More...</a><br /></td></tr>
<tr class="separator:aa30c687f387443a89139399929a88090"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Length checks</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp5b6e8be0e832e1d948ebfe4bbd3a11db"></a>These macros return the amount of data used/remaining relative to the dbuff or marker's 'start', 'current', and 'end' pointers.</p>
<p>In the majority of cases these macros should not be used and the extension request functions should be used instead. The only exception to this is if the caller is certain the <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> is not extensible. </p>
</td></tr>
<tr class="memitem:a81c1cb8286821434b6ec9902655316aa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a81c1cb8286821434b6ec9902655316aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes remaining between the dbuff or marker and the end of the buffer.  <a href="#a81c1cb8286821434b6ec9902655316aa">More...</a><br /></td></tr>
<tr class="separator:a81c1cb8286821434b6ec9902655316aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c469e00b4391f0e862cab31916e2cd"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#aa4c469e00b4391f0e862cab31916e2cd">FR_DBUFF_REMAINING_RETURN</a>(_dbuff_or_marker,  _len)&#160;&#160;&#160;<a class="el" href="acutest_8h.html#a28855fa01b85a12f2d0ce002f5131535">if</a> ((_len) &gt; <a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker)) <a class="el" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> -((_len) - <a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker))</td></tr>
<tr class="memdesc:aa4c469e00b4391f0e862cab31916e2cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if _len bytes are available in the dbuff and if not return the number of bytes we'd need.  <a href="#aa4c469e00b4391f0e862cab31916e2cd">More...</a><br /></td></tr>
<tr class="separator:aa4c469e00b4391f0e862cab31916e2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3c7ddf8755664d62b07773c5e4cc46"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a0e3c7ddf8755664d62b07773c5e4cc46">fr_dbuff_used</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a0e3c7ddf8755664d62b07773c5e4cc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes remaining between the start of the dbuff or marker and the current position.  <a href="#a0e3c7ddf8755664d62b07773c5e4cc46">More...</a><br /></td></tr>
<tr class="separator:a0e3c7ddf8755664d62b07773c5e4cc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2474c0bff370c0723a0d667cb8f79728"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a2474c0bff370c0723a0d667cb8f79728">fr_dbuff_len</a>(_dbuff_or_marker)&#160;&#160;&#160;((size_t)(<a class="el" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker) - <a class="el" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker)))</td></tr>
<tr class="memdesc:a2474c0bff370c0723a0d667cb8f79728"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of the underlying buffer.  <a href="#a2474c0bff370c0723a0d667cb8f79728">More...</a><br /></td></tr>
<tr class="separator:a2474c0bff370c0723a0d667cb8f79728"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Accessors</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp04cb611d2bf0c8edd5b113799b30e174"></a>Caching the pointers returned by the accessors is strongly discouraged.</p>
<p>Cached pointers can become invalidated if the <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> is extended, as the extensions callback may use realloc or memmove on the underlying buffer.</p>
<div class="fragment"><div class="line"><a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> dbuff;</div><div class="line">fr_dbuff_uctx_talloc_t tctx;</div><div class="line">uint8_t *p;</div><div class="line"></div><div class="line"><a class="code" href="dbuff_8h.html#aaae109ead816d3ab29a6e36d49b29865">fr_dbuff_init_talloc</a>(NULL, &amp;dbuff, &amp;tctx, 512, SIZE_MAX);</div><div class="line"></div><div class="line">p = <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(&amp;dbuff);                   <span class="comment">// Cache the start pointer</span></div><div class="line"><a class="code" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(&amp;dbuff, 1024);            <span class="comment">// Extension call triggers realloc</span></div><div class="line"></div><div class="line">printf(<span class="stringliteral">&quot;%s&quot;</span>, p);                                <span class="comment">// Should print an empty string but may</span></div><div class="line">                                                <span class="comment">// SEGV as p may now be invalid.</span></div></div><!-- fragment --><p>If offsets of a <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> need to be accessed, markers should be used. If a dbuff is extended all markers associated with it will be updated so that the content they point to remains constant.</p>
<div class="fragment"><div class="line"><a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> dbuff;</div><div class="line">fr_dbuff_uctx_talloc_t tctx;</div><div class="line"><a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> m;</div><div class="line"></div><div class="line"><a class="code" href="dbuff_8h.html#aaae109ead816d3ab29a6e36d49b29865">fr_dbuff_init_talloc</a>(NULL, &amp;dbuff, &amp;tctx, 512, SIZE_MAX);</div><div class="line"><a class="code" href="dbuff_8h.html#acd105ff335478c3daf2ecfa994f95e44">fr_dbuff_marker</a>(&amp;m, &amp;dbuff);</div><div class="line"></div><div class="line"><a class="code" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(&amp;dbuff, 1024);            <span class="comment">// Extension call triggers realloc</span></div><div class="line"></div><div class="line">printf(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(&amp;m));             <span class="comment">// Marker was updated when the dbuff</span></div><div class="line">                                                <span class="comment">// was extended.  All is well.</span></div></div><!-- fragment --><p>Using offsets of the pointers returned by accessor functions is also strongly discouraged as it invalidates many of the protections dbuffs give.</p>
<div class="fragment"><div class="line">uint8_t buff[2];</div><div class="line"><a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> dbuff;</div><div class="line"></div><div class="line"><a class="code" href="dbuff_8h.html#a3371d1ef887d1aba02a37c7cb3cbbfa8">fr_dbuff_init</a>(&amp;dbuff, buff, <span class="keyword">sizeof</span>(buff));</div><div class="line"><a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(&amp;dbuff)[2] = 0x00;             <span class="comment">// Write to invalid memory</span></div></div><!-- fragment --> </td></tr>
<tr class="memitem:a1e30f2291341ac600bdc2b3cca6a2df7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a1e30f2291341ac600bdc2b3cca6a2df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the dbuff.  <a href="#a1e30f2291341ac600bdc2b3cca6a2df7">More...</a><br /></td></tr>
<tr class="separator:a1e30f2291341ac600bdc2b3cca6a2df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841aad16acdeb3bde59c046347c8bf1a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a841aad16acdeb3bde59c046347c8bf1a">fr_dbuff_ptr_const</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a841aad16acdeb3bde59c046347c8bf1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a const pointer to the dbuff.  <a href="#a841aad16acdeb3bde59c046347c8bf1a">More...</a><br /></td></tr>
<tr class="separator:a841aad16acdeb3bde59c046347c8bf1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f8621574691541265dba8f1c2ae14b"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a40f8621574691541265dba8f1c2ae14b">fr_dbuff_buff</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a40f8621574691541265dba8f1c2ae14b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the underlying buffer in a dbuff or one of marker.  <a href="#a40f8621574691541265dba8f1c2ae14b">More...</a><br /></td></tr>
<tr class="separator:a40f8621574691541265dba8f1c2ae14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350f6766c77392e54cd4bc229739a837"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a350f6766c77392e54cd4bc229739a837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the 'start' position of a dbuff or marker.  <a href="#a350f6766c77392e54cd4bc229739a837">More...</a><br /></td></tr>
<tr class="separator:a350f6766c77392e54cd4bc229739a837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e26cea78c94b2818ede7b3f4738e0e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a30e26cea78c94b2818ede7b3f4738e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the 'current' position of a dbuff or marker.  <a href="#a30e26cea78c94b2818ede7b3f4738e0e">More...</a><br /></td></tr>
<tr class="separator:a30e26cea78c94b2818ede7b3f4738e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754feddf4370648ba512dda175efac1e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker)</td></tr>
<tr class="memdesc:a754feddf4370648ba512dda175efac1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current 'end' position of a dbuff or marker.  <a href="#a754feddf4370648ba512dda175efac1e">More...</a><br /></td></tr>
<tr class="separator:a754feddf4370648ba512dda175efac1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Position modification (recursive)</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc6dde0b258b8a536fb41d0e83a816a9e"></a>Modify the 'current' position pointer of a dbuff or marker. </p>
</td></tr>
<tr class="memitem:a32cfc2950393f2d4e92e906b1de1cf18"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dst,  _src)</td></tr>
<tr class="memdesc:a32cfc2950393f2d4e92e906b1de1cf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the 'current' position in a dbuff or marker using another dbuff or marker, a char pointer, or a length value.  <a href="#a32cfc2950393f2d4e92e906b1de1cf18">More...</a><br /></td></tr>
<tr class="separator:a32cfc2950393f2d4e92e906b1de1cf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42768c96b22edeaa6619400ae96549e7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a42768c96b22edeaa6619400ae96549e7">FR_DBUFF_SET_RETURN</a>(_dst,  _src)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>, _dst, _src)</td></tr>
<tr class="memdesc:a42768c96b22edeaa6619400ae96549e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the 'current' position in a dbuff or marker returning if _src is out of range.  <a href="#a42768c96b22edeaa6619400ae96549e7">More...</a><br /></td></tr>
<tr class="separator:a42768c96b22edeaa6619400ae96549e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0a91bc998e927bfb71f573dd93bd38"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a0a0a91bc998e927bfb71f573dd93bd38">fr_dbuff_advance</a>(_dbuff_or_marker,  _len)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, (<a class="el" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker) + (_len)))</td></tr>
<tr class="memdesc:a0a0a91bc998e927bfb71f573dd93bd38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance 'current' position in dbuff or marker by _len bytes.  <a href="#a0a0a91bc998e927bfb71f573dd93bd38">More...</a><br /></td></tr>
<tr class="separator:a0a0a91bc998e927bfb71f573dd93bd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e70c535bd39dd25df79ac67ba055f55"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a1e70c535bd39dd25df79ac67ba055f55">FR_DBUFF_ADVANCE_RETURN</a>(_dbuff_or_marker,  _len)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a0a0a91bc998e927bfb71f573dd93bd38">fr_dbuff_advance</a>, _dbuff_or_marker, _len)</td></tr>
<tr class="memdesc:a1e70c535bd39dd25df79ac67ba055f55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the 'current' position in dbuff or marker by _len bytes returning if _len is out of range.  <a href="#a1e70c535bd39dd25df79ac67ba055f55">More...</a><br /></td></tr>
<tr class="separator:a1e70c535bd39dd25df79ac67ba055f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d47a9cf57ee282c5f0322eade799476"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a3d47a9cf57ee282c5f0322eade799476">fr_dbuff_set_to_start</a>(_dbuff_or_marker)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, <a class="el" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker))</td></tr>
<tr class="memdesc:a3d47a9cf57ee282c5f0322eade799476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the 'current' position of the dbuff or marker to the 'start' of the buffer.  <a href="#a3d47a9cf57ee282c5f0322eade799476">More...</a><br /></td></tr>
<tr class="separator:a3d47a9cf57ee282c5f0322eade799476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5236ac800af99d04d0162e3cd6742ef"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#aa5236ac800af99d04d0162e3cd6742ef">fr_dbuff_set_to_end</a>(_dbuff_or_marker)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, <a class="el" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker))</td></tr>
<tr class="memdesc:aa5236ac800af99d04d0162e3cd6742ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the 'current' position of the dbuff or marker to the 'end' of the buffer.  <a href="#aa5236ac800af99d04d0162e3cd6742ef">More...</a><br /></td></tr>
<tr class="separator:aa5236ac800af99d04d0162e3cd6742ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Marker management</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp03ac318543496d4a485ad9ae525d7b5c"></a>Markers serve two purposes:</p>
<ul>
<li>Markers allow the caller to track content in a dbuff as the dbuff is extended. If the caller referred to content using a pointer into the underlying buffer, that pointer may be invalidated if the buffer were extended.</li>
<li>Markers prevent content being shifted out of the buffer during an extension.</li>
</ul>
<p>Most operations that can be performed on an <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> can also be performed on a <a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775" title="A position marker associated with a dbuff. ">fr_dbuff_marker_t</a>.</p>
<p>It is recommended that markers be created against a stack-frame-local dbuff so that they are automatically released when the framed is popped.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775" title="A position marker associated with a dbuff. ">fr_dbuff_marker_t</a> </dd></dl>
</td></tr>
<tr class="memitem:acd105ff335478c3daf2ecfa994f95e44"><td class="memItemLeft" align="right" valign="top">static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#acd105ff335478c3daf2ecfa994f95e44">fr_dbuff_marker</a> (<a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *m, <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff)</td></tr>
<tr class="memdesc:acd105ff335478c3daf2ecfa994f95e44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises a new marker pointing to the 'current' position of the dbuff.  <a href="#acd105ff335478c3daf2ecfa994f95e44">More...</a><br /></td></tr>
<tr class="separator:acd105ff335478c3daf2ecfa994f95e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96960c1d07ba400e6d851bfbd6dc045"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#ab96960c1d07ba400e6d851bfbd6dc045">fr_dbuff_marker_release</a> (<a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *m)</td></tr>
<tr class="memdesc:ab96960c1d07ba400e6d851bfbd6dc045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the specified marker and any markers added before it.  <a href="#ab96960c1d07ba400e6d851bfbd6dc045">More...</a><br /></td></tr>
<tr class="separator:ab96960c1d07ba400e6d851bfbd6dc045"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
"in" functions (copy data into a dbuff)</h2></td></tr>
<tr class="memitem:a9acfcebaa04bdd517adb4e31f8330a4f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a9acfcebaa04bdd517adb4e31f8330a4f">fr_dbuff_in_memcpy</a>(_out,  _in,  _inlen)</td></tr>
<tr class="memdesc:a9acfcebaa04bdd517adb4e31f8330a4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy exactly _inlen bytes into a dbuff or marker.  <a href="#a9acfcebaa04bdd517adb4e31f8330a4f">More...</a><br /></td></tr>
<tr class="separator:a9acfcebaa04bdd517adb4e31f8330a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec9fef69c790077c6a0c9b5a68cf55b"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a0ec9fef69c790077c6a0c9b5a68cf55b">FR_DBUFF_IN_MEMCPY_RETURN</a>(_out,  _in,  _inlen)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a9acfcebaa04bdd517adb4e31f8330a4f">fr_dbuff_in_memcpy</a>, _out, _in, _inlen)</td></tr>
<tr class="memdesc:a0ec9fef69c790077c6a0c9b5a68cf55b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy exactly _inlen bytes into dbuff or marker returning if there's insufficient space.  <a href="#a0ec9fef69c790077c6a0c9b5a68cf55b">More...</a><br /></td></tr>
<tr class="separator:a0ec9fef69c790077c6a0c9b5a68cf55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f9610d5e2d49eb49a7903a6789d6d7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#ab6f9610d5e2d49eb49a7903a6789d6d7">fr_dbuff_in_memcpy_partial</a>(_out,  _in,  _inlen)</td></tr>
<tr class="memdesc:ab6f9610d5e2d49eb49a7903a6789d6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy at most _inlen bytes into the dbuff.  <a href="#ab6f9610d5e2d49eb49a7903a6789d6d7">More...</a><br /></td></tr>
<tr class="separator:ab6f9610d5e2d49eb49a7903a6789d6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0616b79f8777a4f9652dd2c87ca89f90"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a0616b79f8777a4f9652dd2c87ca89f90">fr_dbuff_in_bytes_partial</a>(_dbuff, ...)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#ab6f9610d5e2d49eb49a7903a6789d6d7">fr_dbuff_in_memcpy_partial</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td></tr>
<tr class="memdesc:a0616b79f8777a4f9652dd2c87ca89f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a partial byte sequence into a dbuff.  <a href="#a0616b79f8777a4f9652dd2c87ca89f90">More...</a><br /></td></tr>
<tr class="separator:a0616b79f8777a4f9652dd2c87ca89f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e04eab645c37ab9167682733503f57a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a3e04eab645c37ab9167682733503f57a">fr_dbuff_in_bytes</a>(_dbuff, ...)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a9acfcebaa04bdd517adb4e31f8330a4f">fr_dbuff_in_memcpy</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td></tr>
<tr class="memdesc:a3e04eab645c37ab9167682733503f57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a byte sequence into a dbuff.  <a href="#a3e04eab645c37ab9167682733503f57a">More...</a><br /></td></tr>
<tr class="separator:a3e04eab645c37ab9167682733503f57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c930ebbfebeaa6dda3d185f0565d4e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a86c930ebbfebeaa6dda3d185f0565d4e">FR_DBUFF_IN_BYTES_RETURN</a>(_dbuff, ...)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a0ec9fef69c790077c6a0c9b5a68cf55b">FR_DBUFF_IN_MEMCPY_RETURN</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td></tr>
<tr class="memdesc:a86c930ebbfebeaa6dda3d185f0565d4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a byte sequence into a dbuff returning if there's insufficient space.  <a href="#a86c930ebbfebeaa6dda3d185f0565d4e">More...</a><br /></td></tr>
<tr class="separator:a86c930ebbfebeaa6dda3d185f0565d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5763f14e44df7edd92112d19a596dcec"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a5763f14e44df7edd92112d19a596dcec">fr_dbuff_memset</a>(_dbuff_or_marker,  _c,  _inlen)&#160;&#160;&#160;_fr_dbuff_memset(_fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _c, _inlen)</td></tr>
<tr class="memdesc:a5763f14e44df7edd92112d19a596dcec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set _inlen bytes of a dbuff or marker to _c.  <a href="#a5763f14e44df7edd92112d19a596dcec">More...</a><br /></td></tr>
<tr class="separator:a5763f14e44df7edd92112d19a596dcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b165a38c53671d5ba37d61a6a570ab"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a63b165a38c53671d5ba37d61a6a570ab">FR_DBUFF_MEMSET_RETURN</a>(_dbuff_or_marker,  _c,  _inlen)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a5763f14e44df7edd92112d19a596dcec">fr_dbuff_memset</a>, _dbuff_or_marker, _c, _inlen)</td></tr>
<tr class="memdesc:a63b165a38c53671d5ba37d61a6a570ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set _inlen bytes of a dbuff or marker to _c returning if there is insufficient space.  <a href="#a63b165a38c53671d5ba37d61a6a570ab">More...</a><br /></td></tr>
<tr class="separator:a63b165a38c53671d5ba37d61a6a570ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75a89dfc3714aedd1d482a8082825ee"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#af75a89dfc3714aedd1d482a8082825ee">fr_dbuff_in</a>(_out,  _in)</td></tr>
<tr class="memdesc:af75a89dfc3714aedd1d482a8082825ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from a fixed sized C type into a dbuff.  <a href="#af75a89dfc3714aedd1d482a8082825ee">More...</a><br /></td></tr>
<tr class="separator:af75a89dfc3714aedd1d482a8082825ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf0a1dbaf5c01a32e9e54b96acc5463"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a5cf0a1dbaf5c01a32e9e54b96acc5463">FR_DBUFF_IN_RETURN</a>(_out,  _in)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#af75a89dfc3714aedd1d482a8082825ee">fr_dbuff_in</a>, _out, _in)</td></tr>
<tr class="memdesc:a5cf0a1dbaf5c01a32e9e54b96acc5463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from a fixed sized C type into a dbuff returning if there is insufficient space.  <a href="#a5cf0a1dbaf5c01a32e9e54b96acc5463">More...</a><br /></td></tr>
<tr class="separator:a5cf0a1dbaf5c01a32e9e54b96acc5463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e470db6b2be6695677a5df74bb865c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a94e470db6b2be6695677a5df74bb865c">fr_dbuff_in_uint64v</a>(_dbuff_or_marker,  _num)&#160;&#160;&#160;_fr_dbuff_in_uint64v(_fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _num)</td></tr>
<tr class="memdesc:a94e470db6b2be6695677a5df74bb865c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an integer value into a dbuff or marker using our internal variable length encoding.  <a href="#a94e470db6b2be6695677a5df74bb865c">More...</a><br /></td></tr>
<tr class="separator:a94e470db6b2be6695677a5df74bb865c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bf617a49a7d8c0dc8adbab1ec991fd"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a86bf617a49a7d8c0dc8adbab1ec991fd">FR_DBUFF_IN_UINT64V</a>(_dbuff_or_marker,  _num)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a94e470db6b2be6695677a5df74bb865c">fr_dbuff_in_uint64v</a>, _dbuff_or_marker, _num)</td></tr>
<tr class="memdesc:a86bf617a49a7d8c0dc8adbab1ec991fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an integer value into a dbuff or marker using our internal variable length encoding returning if there is insufficient space.  <a href="#a86bf617a49a7d8c0dc8adbab1ec991fd">More...</a><br /></td></tr>
<tr class="separator:a86bf617a49a7d8c0dc8adbab1ec991fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
"move" functions (copy data between dbuffs and markers)</h2></td></tr>
<tr class="memitem:acdc4613e38057267d322af7538c28f21"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21">fr_dbuff_move</a>(_out,  _in,  _len)</td></tr>
<tr class="memdesc:acdc4613e38057267d322af7538c28f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy in as many bytes as possible from one dbuff or marker to another.  <a href="#acdc4613e38057267d322af7538c28f21">More...</a><br /></td></tr>
<tr class="separator:acdc4613e38057267d322af7538c28f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
"out" functions (copy data out of a dbuff)</h2></td></tr>
<tr class="memitem:a69718eae541acd0c894a5024148b58a2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a69718eae541acd0c894a5024148b58a2">fr_dbuff_out_memcpy</a>(_out,  _in,  _outlen)</td></tr>
<tr class="memdesc:a69718eae541acd0c894a5024148b58a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy exactly _outlen bytes from the dbuff.  <a href="#a69718eae541acd0c894a5024148b58a2">More...</a><br /></td></tr>
<tr class="separator:a69718eae541acd0c894a5024148b58a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587e543f0f9158f3ffef05f82fca401e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a587e543f0f9158f3ffef05f82fca401e">FR_DBUFF_OUT_MEMCPY_RETURN</a>(_out,  _in,  _outlen)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a69718eae541acd0c894a5024148b58a2">fr_dbuff_out_memcpy</a>, _out, _in, _outlen)</td></tr>
<tr class="memdesc:a587e543f0f9158f3ffef05f82fca401e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy outlen bytes from the dbuff returning if there's insufficient data in the dbuff.  <a href="#a587e543f0f9158f3ffef05f82fca401e">More...</a><br /></td></tr>
<tr class="separator:a587e543f0f9158f3ffef05f82fca401e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258172d7162abbfb76dc3993e9a6db26"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a258172d7162abbfb76dc3993e9a6db26">fr_dbuff_out</a>(_out,  _in)</td></tr>
<tr class="memdesc:a258172d7162abbfb76dc3993e9a6db26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from a dbuff or marker to a fixed sized C type.  <a href="#a258172d7162abbfb76dc3993e9a6db26">More...</a><br /></td></tr>
<tr class="separator:a258172d7162abbfb76dc3993e9a6db26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0bfd5b8743d1af5142599910b90990"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a6e0bfd5b8743d1af5142599910b90990">FR_DBUFF_OUT_RETURN</a>(_out,  _in)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a258172d7162abbfb76dc3993e9a6db26">fr_dbuff_out</a>, _out, _in)</td></tr>
<tr class="memdesc:a6e0bfd5b8743d1af5142599910b90990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from a dbuff or marker to a fixed sized C type returning if there is insufficient data.  <a href="#a6e0bfd5b8743d1af5142599910b90990">More...</a><br /></td></tr>
<tr class="separator:a6e0bfd5b8743d1af5142599910b90990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5d982c4246a4978e830aadc1f4f5f1"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#a2c5d982c4246a4978e830aadc1f4f5f1">fr_dbuff_out_uint64v</a>(_num,  _dbuff_or_marker,  _len)&#160;&#160;&#160;_fr_dbuff_out_uint64v(_num, _fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _len)</td></tr>
<tr class="memdesc:a2c5d982c4246a4978e830aadc1f4f5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read bytes from a dbuff or marker and interpret them as a network order unsigned integer.  <a href="#a2c5d982c4246a4978e830aadc1f4f5f1">More...</a><br /></td></tr>
<tr class="separator:a2c5d982c4246a4978e830aadc1f4f5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62b0db96cbc0365f4457b7aff8eda91"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbuff_8h.html#ab62b0db96cbc0365f4457b7aff8eda91">FR_DBUFF_UINT64V_OUT_RETURN</a>(_num,  _dbuff_or_marker,  _len)&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a2c5d982c4246a4978e830aadc1f4f5f1">fr_dbuff_out_uint64v</a>, _num, _dbuff_or_marker, _len)</td></tr>
<tr class="memdesc:ab62b0db96cbc0365f4457b7aff8eda91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read bytes from a dbuff or marker and interpret them as a network order unsigned integer.  <a href="#ab62b0db96cbc0365f4457b7aff8eda91">More...</a><br /></td></tr>
<tr class="separator:ab62b0db96cbc0365f4457b7aff8eda91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A generic data buffer structure for encoding and decoding. </p>
<p>Because doing manual length checks is error prone and a waste of everyone's time.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2020 Arran Cudbard-Bell <a href="#" onclick="location.href='mai'+'lto:'+'a.c'+'ud'+'bar'+'db'+'@fr'+'ee'+'rad'+'iu'+'s.o'+'rg'; return false;">a.cud<span style="display: none;">.nosp@m.</span>bard<span style="display: none;">.nosp@m.</span>b@fre<span style="display: none;">.nosp@m.</span>erad<span style="display: none;">.nosp@m.</span>ius.o<span style="display: none;">.nosp@m.</span>rg</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0a0a91bc998e927bfb71f573dd93bd38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0a91bc998e927bfb71f573dd93bd38">&#9670;&nbsp;</a></span>fr_dbuff_advance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_advance</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, (<a class="el" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker) + (_len)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance 'current' position in dbuff or marker by _len bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to advance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>How much to advance dbuff by. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 not advanced.</li>
<li>&gt;0 the number of bytes the dbuff or marker was advanced by.</li>
<li>&lt;0 the number of bytes required to complete the advancement </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00879">879</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a1e70c535bd39dd25df79ac67ba055f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e70c535bd39dd25df79ac67ba055f55">&#9670;&nbsp;</a></span>FR_DBUFF_ADVANCE_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_ADVANCE_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a0a0a91bc998e927bfb71f573dd93bd38">fr_dbuff_advance</a>, _dbuff_or_marker, _len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance the 'current' position in dbuff or marker by _len bytes returning if _len is out of range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to advance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>How much to advance dbuff by. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 not advanced.</li>
<li>&gt;0 the number of bytes the dbuff or marker was advanced by.</li>
<li>&lt;0 the number of bytes required to complete the advancement </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00885">885</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a40f8621574691541265dba8f1c2ae14b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40f8621574691541265dba8f1c2ae14b">&#9670;&nbsp;</a></span>fr_dbuff_buff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_buff</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_dbuff_or_marker), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                   : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;buff, \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *             : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;buff, \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *            : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;buff, \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *      : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;buff \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return the underlying buffer in a dbuff or one of marker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the buffer for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the start of the buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00730">730</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a30e26cea78c94b2818ede7b3f4738e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e26cea78c94b2818ede7b3f4738e0e">&#9670;&nbsp;</a></span>fr_dbuff_current</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_current</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(_Generic((_dbuff_or_marker), \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                  : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;p, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *            : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;p, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *           : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;p, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *     : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;p \</div><div class="line">        ))</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return the 'current' position of a dbuff or marker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the current position of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the current position of the buffer or marker. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00759">759</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a754feddf4370648ba512dda175efac1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a754feddf4370648ba512dda175efac1e">&#9670;&nbsp;</a></span>fr_dbuff_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_end</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(_Generic((_dbuff_or_marker), \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                  : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;end, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *            : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;end, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *           : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;end, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *     : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;end \</div><div class="line">        ))</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return the current 'end' position of a dbuff or marker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the end position of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the end position of the buffer or marker. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00786">786</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a7815a80f2377c78121c363d7ed2ce6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7815a80f2377c78121c363d7ed2ce6bc">&#9670;&nbsp;</a></span>fr_dbuff_extend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_extend</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(NULL, _dbuff, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extend if no space remains. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to extend. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if there are no bytes left in the buffer and we couldn't extend.</li>
<li>&gt;0 the number of bytes in the buffer after extending. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00576">576</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a69045029f34094a7c6802864c77d3dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69045029f34094a7c6802864c77d3dac">&#9670;&nbsp;</a></span>fr_dbuff_extend_lowat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_extend_lowat</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_status, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_lowat&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_fr_dbuff_extend_lowat(_status, \</div><div class="line">                               <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), \</div><div class="line">                               <a class="code" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker), _lowat)</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
<div class="ttc" id="dbuff_8h_html_a81c1cb8286821434b6ec9902655316aa"><div class="ttname"><a href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a></div><div class="ttdeci">#define fr_dbuff_remaining(_dbuff_or_marker)</div><div class="ttdoc">Return the number of bytes remaining between the dbuff or marker and the end of the buffer...</div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00612">dbuff.h:612</a></div></div>
</div><!-- fragment -->
<p>Extend if we're below _lowat. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_status</td><td>May be NULL. If fr_dbuff_extend_lowat is used in a copy loop, the caller should pass a pointer to a <a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbff" title="Whether the buffer is currently extendable and whether it was extended. ">fr_dbuff_extend_status_t</a>. The initial value of the <a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbff" title="Whether the buffer is currently extendable and whether it was extended. ">fr_dbuff_extend_status_t</a> variable should be <a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbffa8a4cc2a2014bd0cea65ea59d11bd67e4" title="dbuff can be extended ">FR_DBUFF_EXTENDABLE</a>, and will be updated to indicate whether the dbuff is extensible, whether it was extended, and whether it may be extended again. This information is used the loop condition to prevent spurious extension calls. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to extend. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_lowat</td><td>If bytes remaining are below the amount, extend. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if there are no bytes left in the buffer and we couldn't extend.</li>
<li>&gt;0 the number of bytes in the buffer after extending. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00531">531</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a20d5827668d3db714a6a41f561f57f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d5827668d3db714a6a41f561f57f8f">&#9670;&nbsp;</a></span>FR_DBUFF_EXTEND_LOWAT_OR_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_EXTEND_LOWAT_OR_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_lowat&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        size_t _remaining = <a class="code" href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a>(NULL, _dbuff_or_marker, _lowat); \</div><div class="line">        if (_remaining &lt; _lowat) <span class="keywordflow">return</span> -(_lowat - _remaining); \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="dbuff_8h_html_a69045029f34094a7c6802864c77d3dac"><div class="ttname"><a href="dbuff_8h.html#a69045029f34094a7c6802864c77d3dac">fr_dbuff_extend_lowat</a></div><div class="ttdeci">#define fr_dbuff_extend_lowat(_status, _dbuff_or_marker, _lowat)</div><div class="ttdoc">Extend if we&amp;#39;re below _lowat. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00531">dbuff.h:531</a></div></div>
</div><!-- fragment -->
<p>Extend if we're below _lowat and return if we can't extend above _lowat. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to extend. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_lowat</td><td>If bytes remaining are below the amount, extend. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if there are no bytes left in the buffer and we couldn't extend.</li>
<li>&gt;0 the number of bytes in the buffer after extending. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00544">544</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a95d4692c42cf1b8bb2fd8058c1163df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d4692c42cf1b8bb2fd8058c1163df5">&#9670;&nbsp;</a></span>FR_DBUFF_FLAG_EXTENDABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_FLAG_EXTENDABLE&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating a dbuff is extendable. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00453">453</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a0f532736992fa5c7b305b8a089b27a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f532736992fa5c7b305b8a089b27a13">&#9670;&nbsp;</a></span>FR_DBUFF_FLAG_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_FLAG_EXTENDED&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating that during the last extend call the dbuff was extended. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00457">457</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="af75a89dfc3714aedd1d482a8082825ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75a89dfc3714aedd1d482a8082825ee">&#9670;&nbsp;</a></span>fr_dbuff_in</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_in), \</div><div class="line">                int8_t          : <a class="code" href="dbuff_8h.html#a3e04eab645c37ab9167682733503f57a">fr_dbuff_in_bytes</a>(_out, (int8_t)_in), \</div><div class="line">                int16_t         : _fr_dbuff_in_int16(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (int16_t)_in), \</div><div class="line">                int32_t         : _fr_dbuff_in_int32(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (int32_t)_in), \</div><div class="line">                int64_t         : _fr_dbuff_in_int64(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (int64_t)_in), \</div><div class="line">                uint8_t         : <a class="code" href="dbuff_8h.html#a3e04eab645c37ab9167682733503f57a">fr_dbuff_in_bytes</a>(_out, (uint8_t)_in), \</div><div class="line">                uint16_t        : _fr_dbuff_in_uint16(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint16_t)_in), \</div><div class="line">                uint32_t        : _fr_dbuff_in_uint32(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint32_t)_in), \</div><div class="line">                uint64_t        : _fr_dbuff_in_uint64(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint64_t)_in), \</div><div class="line">                <span class="keywordtype">float</span>           : _fr_dbuff_in_float(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (<span class="keywordtype">float</span>)_in), \</div><div class="line">                <span class="keywordtype">double</span>          : _fr_dbuff_in_double(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (<span class="keywordtype">double</span>)_in) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a3e04eab645c37ab9167682733503f57a"><div class="ttname"><a href="dbuff_8h.html#a3e04eab645c37ab9167682733503f57a">fr_dbuff_in_bytes</a></div><div class="ttdeci">#define fr_dbuff_in_bytes(_dbuff,...)</div><div class="ttdoc">Copy a byte sequence into a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l01146">dbuff.h:1146</a></div></div>
<div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
</div><!-- fragment -->
<p>Copy data from a fixed sized C type into a dbuff. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_out</td><td>dbuff to write to. Integer types will be automatically converted to big endian byte order. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Value to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to complete the conversion.</li>
<li>&gt;0 the number of bytes _in was advanced by. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01247">1247</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a3e04eab645c37ab9167682733503f57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e04eab645c37ab9167682733503f57a">&#9670;&nbsp;</a></span>fr_dbuff_in_bytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in_bytes</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a9acfcebaa04bdd517adb4e31f8330a4f">fr_dbuff_in_memcpy</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a byte sequence into a dbuff. </p>
<p>Copy exactly _inlen bytes into a dbuff or marker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to copy byte sequence into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>bytes to copy. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01146">1146</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a0616b79f8777a4f9652dd2c87ca89f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0616b79f8777a4f9652dd2c87ca89f90">&#9670;&nbsp;</a></span>fr_dbuff_in_bytes_partial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in_bytes_partial</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#ab6f9610d5e2d49eb49a7903a6789d6d7">fr_dbuff_in_memcpy_partial</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a partial byte sequence into a dbuff. </p>
<p>Copy at most _inlen bytes into the dbuff.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to copy byte sequence into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>bytes to copy. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01136">1136</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a86c930ebbfebeaa6dda3d185f0565d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c930ebbfebeaa6dda3d185f0565d4e">&#9670;&nbsp;</a></span>FR_DBUFF_IN_BYTES_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_IN_BYTES_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a0ec9fef69c790077c6a0c9b5a68cf55b">FR_DBUFF_IN_MEMCPY_RETURN</a>(_dbuff, ((uint8_t []){ __VA_ARGS__ }), sizeof((uint8_t []){ __VA_ARGS__ }))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a byte sequence into a dbuff returning if there's insufficient space. </p>
<p>Copy exactly _inlen bytes into a dbuff or marker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to copy byte sequence into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>bytes to copy. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01153">1153</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a9acfcebaa04bdd517adb4e31f8330a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9acfcebaa04bdd517adb4e31f8330a4f">&#9670;&nbsp;</a></span>fr_dbuff_in_memcpy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in_memcpy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_inlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_in), \</div><div class="line">                uint8_t *               : _fr_dbuff_in_memcpy(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint8_t <span class="keyword">const</span> *)(_in), _inlen), \</div><div class="line">                uint8_t <span class="keyword">const</span> *         : _fr_dbuff_in_memcpy(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint8_t <span class="keyword">const</span> *)(_in), _inlen), \</div><div class="line">                <span class="keywordtype">char</span> *                  : _fr_dbuff_in_memcpy(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint8_t <span class="keyword">const</span> *)(_in), (<span class="keywordtype">size_t</span>)(_inlen) == SIZE_MAX ? strlen((<span class="keywordtype">char</span> <span class="keyword">const</span> *)(_in)) : (_inlen)), \</div><div class="line">                <span class="keywordtype">char</span> <span class="keyword">const</span> *            : _fr_dbuff_in_memcpy(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), (uint8_t <span class="keyword">const</span> *)(_in), (<span class="keywordtype">size_t</span>)(_inlen) == SIZE_MAX ? strlen((<span class="keywordtype">char</span> <span class="keyword">const</span> *)(_in)) : (_inlen)), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *            : _fr_dbuff_in_memcpy_dbuff(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), &amp;((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_in))-&gt;p, ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_in)), _inlen), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *     : _fr_dbuff_in_memcpy_dbuff(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), &amp;((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_in))-&gt;p, ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_in))-&gt;parent, _inlen) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
<div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Copy exactly _inlen bytes into a dbuff or marker. </p>
<p>If _in is a dbuff and _inlen is greater than the number of bytes available in that dbuff, the copy operation will fail.</p>
<dl class="section note"><dt>Note</dt><dd>_in will not be advanced. If this is required <a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21" title="Copy in as many bytes as possible from one dbuff or marker to another. ">fr_dbuff_move</a> should be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>Where to copy data to. May be a dbuff or marker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Data to copy to dbuff or marker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_inlen</td><td>How much data we need to copy. If _in is a <code>char *</code> or <code>dbuff *</code> and SIZE_MAX is passed, then _inlen will be substituted for the length of the data in the dbuff. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data copied.</li>
<li>&gt;0 the number of bytes copied to the dbuff.</li>
<li>&lt;0 the number of bytes we would have needed to complete the copy operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01047">1047</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="ab6f9610d5e2d49eb49a7903a6789d6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f9610d5e2d49eb49a7903a6789d6d7">&#9670;&nbsp;</a></span>fr_dbuff_in_memcpy_partial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in_memcpy_partial</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_inlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_in), \</div><div class="line">                uint8_t *               : _fr_dbuff_in_memcpy_partial(_fr_dbuff_current_ptr(_out), _out, (uint8_t <span class="keyword">const</span> *)_in, _inlen), \</div><div class="line">                uint8_t <span class="keyword">const</span> *         : _fr_dbuff_in_memcpy_partial(_fr_dbuff_current_ptr(_out), _out, (uint8_t <span class="keyword">const</span> *)_in, _inlen), \</div><div class="line">                <span class="keywordtype">char</span> *                  : _fr_dbuff_in_memcpy_partial(_fr_dbuff_current_ptr(_out), _out, (uint8_t <span class="keyword">const</span> *)_in, _inlen == SIZE_MAX ? strlen((<span class="keywordtype">char</span> <span class="keyword">const</span> *)_in) : _inlen), \</div><div class="line">                <span class="keywordtype">char</span> <span class="keyword">const</span> *            : _fr_dbuff_in_memcpy_partial(_fr_dbuff_current_ptr(_out), _out, (uint8_t <span class="keyword">const</span> *)_in, _inlen == SIZE_MAX ? strlen((<span class="keywordtype">char</span> <span class="keyword">const</span> *)_in) : _inlen), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *            : _fr_dbuff_in_memcpy_partial_dbuff(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), &amp;((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_in))-&gt;p, ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_in)), _inlen), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *     : _fr_dbuff_in_memcpy_partial_dbuff(_fr_dbuff_current_ptr(_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_out), &amp;((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_in))-&gt;p, ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_in))-&gt;parent, _inlen) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
<div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Copy at most _inlen bytes into the dbuff. </p>
<p>Use this variant when writing data to a streaming buffer where partial writes will be tracked.</p>
<p>If _in is a <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> and _inlen is greater than the number of bytes available in that dbuff, the copy operation will truncated.</p>
<dl class="section note"><dt>Note</dt><dd>_in will not be advanced. If this is required <a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21" title="Copy in as many bytes as possible from one dbuff or marker to another. ">fr_dbuff_move</a> should be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>to copy data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Data to copy to dbuff. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_inlen</td><td>How much data we need to copy. If _in is a char * or dbuff * and SIZE_MAX is passed, then _inlen will be substituted for the length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data copied.</li>
<li>&gt;0 the number of bytes copied to the dbuff. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01119">1119</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a0ec9fef69c790077c6a0c9b5a68cf55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec9fef69c790077c6a0c9b5a68cf55b">&#9670;&nbsp;</a></span>FR_DBUFF_IN_MEMCPY_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_IN_MEMCPY_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_inlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a9acfcebaa04bdd517adb4e31f8330a4f">fr_dbuff_in_memcpy</a>, _out, _in, _inlen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy exactly _inlen bytes into dbuff or marker returning if there's insufficient space. </p>
<p>If _in is a dbuff and _inlen is greater than the number of bytes available in that dbuff, the copy operation will fail.</p>
<dl class="section note"><dt>Note</dt><dd>_in will not be advanced. If this is required <a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21" title="Copy in as many bytes as possible from one dbuff or marker to another. ">fr_dbuff_move</a> should be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>Where to copy data to. May be a dbuff or marker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Data to copy to dbuff or marker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_inlen</td><td>How much data we need to copy. If _in is a <code>char *</code> or <code>dbuff *</code> and SIZE_MAX is passed, then _inlen will be substituted for the length of the data in the dbuff. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data copied.</li>
<li>&gt;0 the number of bytes copied to the dbuff.</li>
<li>&lt;0 the number of bytes we would have needed to complete the copy operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01060">1060</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a5cf0a1dbaf5c01a32e9e54b96acc5463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf0a1dbaf5c01a32e9e54b96acc5463">&#9670;&nbsp;</a></span>FR_DBUFF_IN_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_IN_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#af75a89dfc3714aedd1d482a8082825ee">fr_dbuff_in</a>, _out, _in)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data from a fixed sized C type into a dbuff returning if there is insufficient space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_out</td><td>dbuff to write to. Integer types will be automatically converted to big endian byte order. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Value to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to complete the conversion.</li>
<li>&gt;0 the number of bytes _in was advanced by. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01265">1265</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a94e470db6b2be6695677a5df74bb865c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e470db6b2be6695677a5df74bb865c">&#9670;&nbsp;</a></span>fr_dbuff_in_uint64v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_in_uint64v</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_num&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_fr_dbuff_in_uint64v(_fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _num)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an integer value into a dbuff or marker using our internal variable length encoding. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_dbuff_or_marker</td><td>to copy integer value to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_num</td><td>to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to encode the integer value.</li>
<li>&gt;0 the number of bytes used to represent the integer value. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01288">1288</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a86bf617a49a7d8c0dc8adbab1ec991fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86bf617a49a7d8c0dc8adbab1ec991fd">&#9670;&nbsp;</a></span>FR_DBUFF_IN_UINT64V</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_IN_UINT64V</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_num&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a94e470db6b2be6695677a5df74bb865c">fr_dbuff_in_uint64v</a>, _dbuff_or_marker, _num)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an integer value into a dbuff or marker using our internal variable length encoding returning if there is insufficient space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_dbuff_or_marker</td><td>to copy integer value to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_num</td><td>to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to encode the integer value.</li>
<li>&gt;0 the number of bytes used to represent the integer value. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01295">1295</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a3371d1ef887d1aba02a37c7cb3cbbfa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3371d1ef887d1aba02a37c7cb3cbbfa8">&#9670;&nbsp;</a></span>fr_dbuff_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len_or_end&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_fr_dbuff_init(_out, \</div><div class="line">               (uint8_t <span class="keyword">const</span> *)(_start), \</div><div class="line">               _Generic((_len_or_end), \</div><div class="line">                        <span class="keywordtype">size_t</span>          : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                        <span class="keywordtype">long</span>            : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                        <span class="keywordtype">int</span>             : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                        uint8_t *       : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                        uint8_t <span class="keyword">const</span> * : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                        <span class="keywordtype">char</span> *          : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                        <span class="keywordtype">char</span> <span class="keyword">const</span> *    : (uint8_t <span class="keyword">const</span> *)(_len_or_end) \</div><div class="line">               ), \</div><div class="line">               _Generic((_start), \</div><div class="line">                        uint8_t *       : <span class="keyword">false</span>, \</div><div class="line">                        uint8_t <span class="keyword">const</span> * : <span class="keyword">true</span>, \</div><div class="line">                        <span class="keywordtype">char</span> *          : <span class="keyword">false</span>, \</div><div class="line">                        <span class="keywordtype">char</span> <span class="keyword">const</span> *    : <span class="keyword">true</span> \</div><div class="line">               ))</div></div><!-- fragment -->
<p>Initialise an dbuff for encoding or decoding. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_out</td><td>Pointer to buffer to parse </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_start</td><td>Start of the buffer to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len_or_end</td><td>Either an end pointer or the length of the buffer we're deconding. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00327">327</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="ac87e8760a373b4a55564fcc3337a16de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac87e8760a373b4a55564fcc3337a16de">&#9670;&nbsp;</a></span>fr_dbuff_is_extendable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_is_extendable</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_status</td><td>)</td>
          <td>&#160;&#160;&#160;((_status) &amp; <a class="el" href="dbuff_8h.html#a95d4692c42cf1b8bb2fd8058c1163df5">FR_DBUFF_FLAG_EXTENDABLE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a dbuff can be extended again. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00481">481</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a2474c0bff370c0723a0d667cb8f79728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2474c0bff370c0723a0d667cb8f79728">&#9670;&nbsp;</a></span>fr_dbuff_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_len</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td>&#160;&#160;&#160;((size_t)(<a class="el" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker) - <a class="el" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The length of the underlying buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the length of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the underlying buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00645">645</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a4fc3cf45b3bdb5c902c36ce2e9c2a3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc3cf45b3bdb5c902c36ce2e9c2a3ca">&#9670;&nbsp;</a></span>FR_DBUFF_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_MAX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_max&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) &gt; (_max)) ? (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) - (_max)) : 0, <a class="el" href="abinary_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Limit the maximum number of bytes available in the dbuff when passing it to another function. </p>
<div class="fragment"><div class="line">my_child_encoder(&amp;<a class="code" href="dbuff_8h.html#a4fc3cf45b3bdb5c902c36ce2e9c2a3ca">FR_DBUFF_MAX</a>(dbuff, 253), <a class="code" href="util_2pair_8h.html#ac283ca220bc7c8c819c33dadbb0def84">vp</a>);</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Do not use to re-initialise the contents of _dbuff, i.e. to permanently shrink the exiting dbuff. The parent pointer will loop.</dd>
<dd>
Do not modify the "child" dbuff directly. Use the functions supplied as part of this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to reserve bytes in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_max</td><td>The maximum number of bytes the caller is allowed to write to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00280">280</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="ab9db39f44fd1b2c5b5711802ff4bd7a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9db39f44fd1b2c5b5711802ff4bd7a4">&#9670;&nbsp;</a></span>FR_DBUFF_MAX_NO_ADVANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_MAX_NO_ADVANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_max&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) &gt; (_max)) ? (<a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff) - (_max)) : 0, <a class="el" href="abinary_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Limit the maximum number of bytes available in the dbuff when passing it to another function. </p>
<div class="fragment"><div class="line"><a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> tlv = <a class="code" href="dbuff_8h.html#ab9db39f44fd1b2c5b5711802ff4bd7a4">FR_DBUFF_MAX_NO_ADVANCE</a>(dbuff, UINT8_MAX);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (my_child_encoder(&amp;tlv, <a class="code" href="util_2pair_8h.html#ac283ca220bc7c8c819c33dadbb0def84">vp</a>) &lt; 0) <span class="keywordflow">return</span> -1;</div><div class="line"></div><div class="line"><span class="keywordflow">return</span> <a class="code" href="dbuff_8h.html#a0a0a91bc998e927bfb71f573dd93bd38">fr_dbuff_advance</a>(dbuff, <a class="code" href="dbuff_8h.html#a0e3c7ddf8755664d62b07773c5e4cc46">fr_dbuff_used</a>(tlv))</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Do not use to re-initialise the contents of _dbuff, i.e. to permanently shrink the exiting dbuff. The parent pointer will loop.</dd>
<dd>
Do not modify the "child" dbuff directly. Use the functions supplied as part of this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to reserve bytes in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_max</td><td>The maximum number of bytes the caller is allowed to write to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00302">302</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a5763f14e44df7edd92112d19a596dcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5763f14e44df7edd92112d19a596dcec">&#9670;&nbsp;</a></span>fr_dbuff_memset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_memset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_inlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_fr_dbuff_memset(_fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _c, _inlen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set _inlen bytes of a dbuff or marker to _c. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to copy data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_c</td><td>Value to set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_inlen</td><td>How much data we need to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data set.</li>
<li>&gt;0 the number of bytes set in the dbuff.</li>
<li>&lt;0 the number of bytes required. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01181">1181</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a63b165a38c53671d5ba37d61a6a570ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b165a38c53671d5ba37d61a6a570ab">&#9670;&nbsp;</a></span>FR_DBUFF_MEMSET_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_MEMSET_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_inlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a5763f14e44df7edd92112d19a596dcec">fr_dbuff_memset</a>, _dbuff_or_marker, _c, _inlen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set _inlen bytes of a dbuff or marker to _c returning if there is insufficient space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to copy data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_c</td><td>Value to set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_inlen</td><td>How much data we need to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data set.</li>
<li>&gt;0 the number of bytes set in the dbuff.</li>
<li>&lt;0 the number of bytes required. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01188">1188</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="acdc4613e38057267d322af7538c28f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc4613e38057267d322af7538c28f21">&#9670;&nbsp;</a></span>fr_dbuff_move</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_move</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_out), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *            : \</div><div class="line">                _Generic((_in), \</div><div class="line">                        <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *            : _fr_dbuff_move_dbuff_to_dbuff((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)_out, \</div><div class="line">                                                                                (<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)_in, \</div><div class="line">                                                                                _len), \</div><div class="line">                        <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *     : _fr_dbuff_move_dbuff_marker_to_dbuff((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)_out, \</div><div class="line">                                                                                       (<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)_in, \</div><div class="line">                                                                                       _len) \</div><div class="line">                ), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *     : \</div><div class="line">                _Generic((_in), \</div><div class="line">                        <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *            : _fr_dbuff_move_dbuff_to_dbuff_marker((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)_out, \</div><div class="line">                                                                                       (<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)_in, \</div><div class="line">                                                                                       _len), \</div><div class="line">                        <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *     : _fr_dbuff_move_dbuff_marker_to_dbuff_marker((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)_out, \</div><div class="line">                                                                                              (<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)_in, \</div><div class="line">                                                                                              _len) \</div><div class="line">                ) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Copy in as many bytes as possible from one dbuff or marker to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>to copy into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>to copy from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>The maximum length to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes to copy. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01328">1328</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="af23b1899f99e31c4312eb383f73d2a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af23b1899f99e31c4312eb383f73d2a4f">&#9670;&nbsp;</a></span>FR_DBUFF_NO_ADVANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_NO_ADVANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a>) \</div><div class="line">{ \</div><div class="line">        .buff           = (_dbuff)-&gt;buff, \</div><div class="line">        .start          = (_dbuff)-&gt;p, \</div><div class="line">        .end            = (_dbuff)-&gt;end, \</div><div class="line">        .p              = (_dbuff)-&gt;p, \</div><div class="line">        .is_const       = (_dbuff)-&gt;is_const, \</div><div class="line">        .adv_parent     = <span class="keyword">false</span>, \</div><div class="line">        .extend         = (_dbuff)-&gt;extend, \</div><div class="line">        .uctx           = (_dbuff)-&gt;uctx, \</div><div class="line">        .parent         = (_dbuff) \</div><div class="line">}</div><div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Prevent an dbuff being advanced by operations on its child. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to make an ephemeral copy of. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00192">192</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a258172d7162abbfb76dc3993e9a6db26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258172d7162abbfb76dc3993e9a6db26">&#9670;&nbsp;</a></span>fr_dbuff_out</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_out</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_out), \</div><div class="line">                uint8_t *       : _fr_dbuff_out_memcpy((uint8_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in), 1), \</div><div class="line">                uint16_t *      : _fr_dbuff_out_uint16((uint16_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                uint32_t *      : _fr_dbuff_out_uint32((uint32_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                uint64_t *      : _fr_dbuff_out_uint64((uint64_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                int8_t *        : _fr_dbuff_out_memcpy((uint8_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in), 1), \</div><div class="line">                int16_t *       : _fr_dbuff_out_int16((int16_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                int32_t *       : _fr_dbuff_out_int32((int32_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                int64_t *       : _fr_dbuff_out_int64((int64_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                <span class="keywordtype">float</span> *         : _fr_dbuff_out_uint32((uint32_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)), \</div><div class="line">                <span class="keywordtype">double</span> *        : _fr_dbuff_out_uint64((uint64_t *)(_out), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in)) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
</div><!-- fragment -->
<p>Copy data from a dbuff or marker to a fixed sized C type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_out</td><td>Where to write the data. If out is an integer type a byteswap will be performed if native endianess is not big endian. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>A dbuff or marker to copy data from. The dbuff or marker will be advanced by the number of bytes consumed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to complete the conversion.</li>
<li>&gt;0 the number of bytes _in was advanced by. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01448">1448</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a69718eae541acd0c894a5024148b58a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69718eae541acd0c894a5024148b58a2">&#9670;&nbsp;</a></span>fr_dbuff_out_memcpy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_out_memcpy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_outlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_out), \</div><div class="line">                 uint8_t *              : _fr_dbuff_out_memcpy((uint8_t *)(_out), _fr_dbuff_current_ptr(_in), _in, _outlen), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *           : _fr_dbuff_out_memcpy_dbuff(_fr_dbuff_current_ptr((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)(_out)), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in), _outlen), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *    : _fr_dbuff_out_memcpy_dbuff(_fr_dbuff_current_ptr((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)_out), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)(_out)), _fr_dbuff_current_ptr(_in), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_in), _outlen) \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
<div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Copy exactly _outlen bytes from the dbuff. </p>
<p>If _out is a dbuff and _outlen is greater than the number of bytes available in that dbuff, the copy operation will fail.</p>
<dl class="section note"><dt>Note</dt><dd>_out will not be advanced. If this is required <a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21" title="Copy in as many bytes as possible from one dbuff or marker to another. ">fr_dbuff_move</a> should be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>to copy data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Data to copy to dbuff. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_outlen</td><td>How much data we need to copy. If _out is <code>fr_dbuff_t *</code> and SIZE_MAX is passed, then _inlen will be substituted for the length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data copied.</li>
<li>&gt;0 the number of bytes copied.</li>
<li>&lt;0 the number of bytes we would have needed to complete the copy operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01402">1402</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a587e543f0f9158f3ffef05f82fca401e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587e543f0f9158f3ffef05f82fca401e">&#9670;&nbsp;</a></span>FR_DBUFF_OUT_MEMCPY_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_OUT_MEMCPY_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_outlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a69718eae541acd0c894a5024148b58a2">fr_dbuff_out_memcpy</a>, _out, _in, _outlen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy outlen bytes from the dbuff returning if there's insufficient data in the dbuff. </p>
<p>If _out is a dbuff and _outlen is greater than the number of bytes available in that dbuff, the copy operation will fail.</p>
<dl class="section note"><dt>Note</dt><dd>_out will not be advanced. If this is required <a class="el" href="dbuff_8h.html#acdc4613e38057267d322af7538c28f21" title="Copy in as many bytes as possible from one dbuff or marker to another. ">fr_dbuff_move</a> should be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_out</td><td>to copy data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>Data to copy to dbuff. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_outlen</td><td>How much data we need to copy. If _out is <code>fr_dbuff_t *</code> and SIZE_MAX is passed, then _inlen will be substituted for the length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data copied.</li>
<li>&gt;0 the number of bytes copied.</li>
<li>&lt;0 the number of bytes we would have needed to complete the copy operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01413">1413</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a6e0bfd5b8743d1af5142599910b90990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0bfd5b8743d1af5142599910b90990">&#9670;&nbsp;</a></span>FR_DBUFF_OUT_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_OUT_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_out, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_in&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a258172d7162abbfb76dc3993e9a6db26">fr_dbuff_out</a>, _out, _in)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data from a dbuff or marker to a fixed sized C type returning if there is insufficient data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_out</td><td>Where to write the data. If out is an integer type a byteswap will be performed if native endianess is not big endian. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_in</td><td>A dbuff or marker to copy data from. The dbuff or marker will be advanced by the number of bytes consumed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&lt;0 the number of bytes we would have needed to complete the conversion.</li>
<li>&gt;0 the number of bytes _in was advanced by. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01466">1466</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a2c5d982c4246a4978e830aadc1f4f5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5d982c4246a4978e830aadc1f4f5f1">&#9670;&nbsp;</a></span>fr_dbuff_out_uint64v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_out_uint64v</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_num, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_fr_dbuff_out_uint64v(_num, _fr_dbuff_current_ptr(_dbuff_or_marker), <a class="el" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dbuff_or_marker), _len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read bytes from a dbuff or marker and interpret them as a network order unsigned integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_num</td><td>points to a uint64_t to store the integer in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>data to copy bytes from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>number of bytes to read (must be positive and less than eight)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data read.</li>
<li>&gt;0 the number of bytes read.</li>
<li>&lt;0 the number of bytes we would have needed to complete the read operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01496">1496</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a1e30f2291341ac600bdc2b3cca6a2df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e30f2291341ac600bdc2b3cca6a2df7">&#9670;&nbsp;</a></span>fr_dbuff_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_ptr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_dbuff_or_marker), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                   : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *)(_dbuff_or_marker)), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *            : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *)(_dbuff_or_marker))-&gt;parent \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return a pointer to the dbuff. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return a pointer to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the dbuff. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00706">706</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a841aad16acdeb3bde59c046347c8bf1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a841aad16acdeb3bde59c046347c8bf1a">&#9670;&nbsp;</a></span>fr_dbuff_ptr_const</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_ptr_const</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Generic((_dbuff_or_marker), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                   : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker)), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *             : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker)), \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *            : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent, \</div><div class="line">                 <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *      : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent \</div><div class="line">        )</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return a const pointer to the dbuff. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return a pointer to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the dbuff. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00717">717</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a81c1cb8286821434b6ec9902655316aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81c1cb8286821434b6ec9902655316aa">&#9670;&nbsp;</a></span>fr_dbuff_remaining</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_remaining</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((size_t)(<a class="code" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker) &lt; <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker) ? \</div><div class="line">                0 : (<a class="code" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker) - <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker))))</div><div class="ttc" id="dbuff_8h_html_a30e26cea78c94b2818ede7b3f4738e0e"><div class="ttname"><a href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a></div><div class="ttdeci">#define fr_dbuff_current(_dbuff_or_marker)</div><div class="ttdoc">Return the &amp;#39;current&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00759">dbuff.h:759</a></div></div>
<div class="ttc" id="dbuff_8h_html_a754feddf4370648ba512dda175efac1e"><div class="ttname"><a href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a></div><div class="ttdeci">#define fr_dbuff_end(_dbuff_or_marker)</div><div class="ttdoc">Return the current &amp;#39;end&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00786">dbuff.h:786</a></div></div>
</div><!-- fragment -->
<p>Return the number of bytes remaining between the dbuff or marker and the end of the buffer. </p>
<dl class="section note"><dt>Note</dt><dd>Do not use this in functions that may be used for stream decoding unless you're sure you know what you're doing. The value return does not reflect the number of bytes that may be potentially read from the stream, only the number of bytes until the end of the current chunk.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the number of bytes remaining for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&gt;0 the number of bytes remaining before we reach the end of the buffer.</li>
<li>-0 we're at the end of the buffer. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00612">612</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="aa4c469e00b4391f0e862cab31916e2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c469e00b4391f0e862cab31916e2cd">&#9670;&nbsp;</a></span>FR_DBUFF_REMAINING_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_REMAINING_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="acutest_8h.html#a28855fa01b85a12f2d0ce002f5131535">if</a> ((_len) &gt; <a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker)) <a class="el" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> -((_len) - <a class="el" href="dbuff_8h.html#a81c1cb8286821434b6ec9902655316aa">fr_dbuff_remaining</a>(_dbuff_or_marker))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if _len bytes are available in the dbuff and if not return the number of bytes we'd need. </p>
<dl class="section note"><dt>Note</dt><dd>Do not use this in functions that may be used for stream decoding unless you're sure you know what you're doing. The value return does not reflect the number of bytes that may be potentially read from the stream, only the number of bytes until the end of the current chunk.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the number of bytes remaining for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>Minimum remaining bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>&gt;0 the number of bytes remaining before we reach the end of the buffer.</li>
<li>-0 we're at the end of the buffer. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00630">630</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a9f667a96f6caa0f59265584cfd85affa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f667a96f6caa0f59265584cfd85affa">&#9670;&nbsp;</a></span>FR_DBUFF_RESERVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_RESERVE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_reserve&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, _reserve, <a class="el" href="abinary_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve _reserve bytes in the dbuff when passing it to another function. </p>
<div class="fragment"><div class="line">my_child_encoder(&amp;<a class="code" href="dbuff_8h.html#a9f667a96f6caa0f59265584cfd85affa">FR_DBUFF_RESERVE</a>(dbuff, 5), <a class="code" href="util_2pair_8h.html#ac283ca220bc7c8c819c33dadbb0def84">vp</a>);</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Do not use to re-initialise the contents of _dbuff, i.e. to permanently shrink the exiting dbuff. The parent pointer will loop.</dd>
<dd>
Do not modify the "child" dbuff directly. Use the functions supplied as part of this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to reserve bytes in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_reserve</td><td>The number of bytes to reserve. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00242">242</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="aceeddf8aa7baa8d4145f416621afe55d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceeddf8aa7baa8d4145f416621afe55d">&#9670;&nbsp;</a></span>FR_DBUFF_RESERVE_NO_ADVANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_RESERVE_NO_ADVANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_reserve&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_FR_DBUFF_RESERVE(_dbuff, _reserve, <a class="el" href="abinary_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve _reserve bytes in the dbuff when passing it to another function. </p>
<div class="fragment"><div class="line"><a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> tlv = <a class="code" href="dbuff_8h.html#aceeddf8aa7baa8d4145f416621afe55d">FR_DBUFF_RESERVE_NO_ADVANCE</a>(dbuff, UINT8_MAX);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (my_child_encoder(&amp;tlv, <a class="code" href="util_2pair_8h.html#ac283ca220bc7c8c819c33dadbb0def84">vp</a>) &lt; 0) <span class="keywordflow">return</span> -1;</div><div class="line"></div><div class="line"><span class="keywordflow">return</span> <a class="code" href="dbuff_8h.html#a0a0a91bc998e927bfb71f573dd93bd38">fr_dbuff_advance</a>(dbuff, <a class="code" href="dbuff_8h.html#a0e3c7ddf8755664d62b07773c5e4cc46">fr_dbuff_used</a>(tlv));</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Do not use to re-initialise the contents of _dbuff, i.e. to permanently shrink the exiting dbuff. The parent pointer will loop.</dd>
<dd>
Do not modify the "child" dbuff directly. Use the functions supplied as part of this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff</td><td>to reserve bytes in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_reserve</td><td>The number of bytes to reserve. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00263">263</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a788996dcfd921f497ca6fc8329a25cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a788996dcfd921f497ca6fc8329a25cc3">&#9670;&nbsp;</a></span>FR_DBUFF_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        ssize_t _slen = _func(__VA_ARGS__ ); \</div><div class="line">        if (_slen &lt; 0) <a class="code" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> _slen; \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">return</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00425">rlm_securid.c:425</a></div></div>
</div><!-- fragment -->
<p>Generic wrapper macro to return if there's insufficient memory to satisfy the request on the dbuff. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00176">176</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a32cfc2950393f2d4e92e906b1de1cf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32cfc2950393f2d4e92e906b1de1cf18">&#9670;&nbsp;</a></span>fr_dbuff_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_src&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_fr_dbuff_set(\</div><div class="line">        _fr_dbuff_current_ptr(_dst), <a class="code" href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a>(_dst), \</div><div class="line">        _Generic((_src), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                    : <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_src)), \</div><div class="line">                <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *             : <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_src)), \</div><div class="line">                uint8_t <span class="keyword">const</span> *                 : (uint8_t <span class="keyword">const</span> *)(_src), \</div><div class="line">                uint8_t *                       : (uint8_t <span class="keyword">const</span> *)(_src), \</div><div class="line">                <span class="keywordtype">size_t</span>                          : (<a class="code" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dst) + (uintptr_t)(_src)), \</div><div class="line">                <span class="keywordtype">long</span>                            : (<a class="code" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dst) + (uintptr_t)(_src)), \</div><div class="line">                <span class="keywordtype">int</span>                             : (<a class="code" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dst) + (uintptr_t)(_src)) \</div><div class="line">        ) \</div><div class="line">)</div><div class="ttc" id="dbuff_8h_html_a1e30f2291341ac600bdc2b3cca6a2df7"><div class="ttname"><a href="dbuff_8h.html#a1e30f2291341ac600bdc2b3cca6a2df7">fr_dbuff_ptr</a></div><div class="ttdeci">#define fr_dbuff_ptr(_dbuff_or_marker)</div><div class="ttdoc">Return a pointer to the dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00706">dbuff.h:706</a></div></div>
<div class="ttc" id="dbuff_8h_html_a30e26cea78c94b2818ede7b3f4738e0e"><div class="ttname"><a href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a></div><div class="ttdeci">#define fr_dbuff_current(_dbuff_or_marker)</div><div class="ttdoc">Return the &amp;#39;current&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00759">dbuff.h:759</a></div></div>
<div class="ttc" id="dbuff_8h_html_a350f6766c77392e54cd4bc229739a837"><div class="ttname"><a href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a></div><div class="ttdeci">#define fr_dbuff_start(_dbuff_or_marker)</div><div class="ttdoc">Return the &amp;#39;start&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00746">dbuff.h:746</a></div></div>
<div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Set the 'current' position in a dbuff or marker using another dbuff or marker, a char pointer, or a length value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dst</td><td>dbuff or marker to set the position for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_src</td><td>Variable to glean new position from. Behaviour here depends on the type of the variable.<ul>
<li>dbuff, the current position of the dbuff.</li>
<li>marker, the current position of the marker.</li>
<li>pointer, the position of the pointer.</li>
<li>size_t, _dst-&gt;start + _src. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 not advanced.</li>
<li>&gt;0 the number of bytes the dbuff was advanced by.</li>
<li>&lt;0 the number of bytes required to complete the advancement </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00850">850</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a42768c96b22edeaa6619400ae96549e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42768c96b22edeaa6619400ae96549e7">&#9670;&nbsp;</a></span>FR_DBUFF_SET_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_SET_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_src&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>, _dst, _src)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the 'current' position in a dbuff or marker returning if _src is out of range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dst</td><td>dbuff or marker to set the position for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_src</td><td>Variable to glean new position from. Behaviour here depends on the type of the variable.<ul>
<li>dbuff, the current position of the dbuff.</li>
<li>marker, the current position of the marker.</li>
<li>pointer, the position of the pointer.</li>
<li>size_t, _dst-&gt;start + _src. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 not advanced.</li>
<li>&gt;0 the number of bytes the dbuff was advanced by.</li>
<li>&lt;0 the number of bytes required to complete the advancement </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00868">868</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="aa5236ac800af99d04d0162e3cd6742ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5236ac800af99d04d0162e3cd6742ef">&#9670;&nbsp;</a></span>fr_dbuff_set_to_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_set_to_end</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, <a class="el" href="dbuff_8h.html#a754feddf4370648ba512dda175efac1e">fr_dbuff_end</a>(_dbuff_or_marker))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the 'current' position of the dbuff or marker to the 'end' of the buffer. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00896">896</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a3d47a9cf57ee282c5f0322eade799476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d47a9cf57ee282c5f0322eade799476">&#9670;&nbsp;</a></span>fr_dbuff_set_to_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_set_to_start</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a32cfc2950393f2d4e92e906b1de1cf18">fr_dbuff_set</a>(_dbuff_or_marker, <a class="el" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the 'current' position of the dbuff or marker to the 'start' of the buffer. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00890">890</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a350f6766c77392e54cd4bc229739a837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350f6766c77392e54cd4bc229739a837">&#9670;&nbsp;</a></span>fr_dbuff_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_start</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(_Generic((_dbuff_or_marker), \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *                  : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;start, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *            : ((<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;start, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *           : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;start, \</div><div class="line">                  <a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *     : ((<a class="code" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> <span class="keyword">const</span> *)(_dbuff_or_marker))-&gt;parent-&gt;start \</div><div class="line">        ))</div><div class="ttc" id="dbuff_8h_html_a2ba47cf778c891b541c68fcf78954775"><div class="ttname"><a href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></div><div class="ttdeci">struct fr_dbuff_marker_s fr_dbuff_marker_t</div><div class="ttdoc">A position marker associated with a dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00081">dbuff.h:81</a></div></div>
<div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Return the 'start' position of a dbuff or marker. </p>
<p>The start position is not necessarily the start of the buffer, and is advanced every time a dbuff is copied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>to return the start position of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the start position of the buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00746">746</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="afef8bf7cdb114451dad4a96f65299e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afef8bf7cdb114451dad4a96f65299e24">&#9670;&nbsp;</a></span>FR_DBUFF_TMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_TMP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len_or_end&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a>){ \</div><div class="line">        .start_i        = (uint8_t <span class="keyword">const</span> *)(_start), \</div><div class="line">        .end_i          = _Generic((_len_or_end), \</div><div class="line">                                <span class="keywordtype">size_t</span>          : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                                <span class="keywordtype">long</span>            : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                                <span class="keywordtype">int</span>             : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    : (uint8_t <span class="keyword">const</span> *)(_start) + (<span class="keywordtype">size_t</span>)(_len_or_end), \</div><div class="line">                                uint8_t *       : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                                uint8_t <span class="keyword">const</span> * : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                                <span class="keywordtype">char</span> *          : (uint8_t <span class="keyword">const</span> *)(_len_or_end), \</div><div class="line">                                <span class="keywordtype">char</span> <span class="keyword">const</span> *    : (uint8_t <span class="keyword">const</span> *)(_len_or_end) \</div><div class="line">                        ), \</div><div class="line">        .p_i            = _start, \</div><div class="line">        .is_const       = _Generic((_start), \</div><div class="line">                                uint8_t *       : <span class="keyword">false</span>, \</div><div class="line">                                uint8_t <span class="keyword">const</span> * : <span class="keyword">true</span>, \</div><div class="line">                                <span class="keywordtype">char</span> *          : <span class="keyword">false</span>, \</div><div class="line">                                <span class="keywordtype">char</span> <span class="keyword">const</span> *    : <span class="keyword">true</span> \</div><div class="line">                        ) \</div><div class="line">}</div><div class="ttc" id="dbuff_8h_html_a03ab727e4c61835ac6ee275f8140a9f6"><div class="ttname"><a href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></div><div class="ttdeci">struct fr_dbuff_s fr_dbuff_t</div><div class="ttdoc">A dbuff. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00065">dbuff.h:65</a></div></div>
</div><!-- fragment -->
<p>Creates a compound literal to pass into functions which accept a dbuff. </p>
<dl class="section note"><dt>Note</dt><dd>The return value of the function should be used to determine how much data was written to the buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_start</td><td>of the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len_or_end</td><td>Length of the buffer or the end pointer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00419">419</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="ab62b0db96cbc0365f4457b7aff8eda91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab62b0db96cbc0365f4457b7aff8eda91">&#9670;&nbsp;</a></span>FR_DBUFF_UINT64V_OUT_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_DBUFF_UINT64V_OUT_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_num, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="dbuff_8h.html#a788996dcfd921f497ca6fc8329a25cc3">FR_DBUFF_RETURN</a>(<a class="el" href="dbuff_8h.html#a2c5d982c4246a4978e830aadc1f4f5f1">fr_dbuff_out_uint64v</a>, _num, _dbuff_or_marker, _len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read bytes from a dbuff or marker and interpret them as a network order unsigned integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_num</td><td>points to a uint64_t to store the integer in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_dbuff_or_marker</td><td>data to copy bytes from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_len</td><td>number of bytes to read (must be positive and less than eight)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no data read.</li>
<li>&gt;0 the number of bytes read.</li>
<li>&lt;0 the number of bytes we would have needed to complete the read operation. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l01503">1503</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a0e3c7ddf8755664d62b07773c5e4cc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3c7ddf8755664d62b07773c5e4cc46">&#9670;&nbsp;</a></span>fr_dbuff_used</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_used</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_dbuff_or_marker</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((size_t)(<a class="code" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker) &gt; <a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker) ? \</div><div class="line">                0 : (<a class="code" href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a>(_dbuff_or_marker) - <a class="code" href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a>(_dbuff_or_marker))))</div><div class="ttc" id="dbuff_8h_html_a30e26cea78c94b2818ede7b3f4738e0e"><div class="ttname"><a href="dbuff_8h.html#a30e26cea78c94b2818ede7b3f4738e0e">fr_dbuff_current</a></div><div class="ttdeci">#define fr_dbuff_current(_dbuff_or_marker)</div><div class="ttdoc">Return the &amp;#39;current&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00759">dbuff.h:759</a></div></div>
<div class="ttc" id="dbuff_8h_html_a350f6766c77392e54cd4bc229739a837"><div class="ttname"><a href="dbuff_8h.html#a350f6766c77392e54cd4bc229739a837">fr_dbuff_start</a></div><div class="ttdeci">#define fr_dbuff_start(_dbuff_or_marker)</div><div class="ttdoc">Return the &amp;#39;start&amp;#39; position of a dbuff or marker. </div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8h_source.html#l00746">dbuff.h:746</a></div></div>
</div><!-- fragment -->
<p>Return the number of bytes remaining between the start of the dbuff or marker and the current position. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00636">636</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a3e46c0e85a74b91dc4400279388470db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e46c0e85a74b91dc4400279388470db">&#9670;&nbsp;</a></span>fr_dbuff_was_extended</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> fr_dbuff_was_extended</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_status</td><td>)</td>
          <td>&#160;&#160;&#160;((_status) &amp; <a class="el" href="dbuff_8h.html#a0f532736992fa5c7b305b8a089b27a13">FR_DBUFF_FLAG_EXTENDED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the dbuff was extended during the last extend call. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00485">485</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adc7f2831dbfa07e048535efad874d264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7f2831dbfa07e048535efad874d264">&#9670;&nbsp;</a></span>fr_dbuff_extend_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef size_t(* fr_dbuff_extend_t) (<a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *dbuff, size_t req_extension)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dbuff extension callback </p>
<p>This callback is used to extend the underlying buffer.</p>
<ul>
<li>Where the buffer is being used to aggregate data, this callback will usually call realloc to extend the buffer.</li>
<li>Where the buffer is being used for stream decoding, this callback will usually shift the existing data in the buffer to the left, and read in more data from the stream.</li>
</ul>
<p>After performing an operation on the underlying buffer, this callback should call <a class="el" href="dbuff_8h.html#aa30c687f387443a89139399929a88090" title="Update all markers and pointers in the set of dbuffs to point to new_buff. ">fr_dbuff_update</a> to fix position pointers in the current dbuff and its parents and markers.</p>
<p>Generally the caller will request the minimum amount the buffer should be extended by. This callback may choose to ignore the request and extend the buffer by more than the requested amount.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dbuff</td><td>to extend. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_extension</td><td>How much the caller wants to extend the buffer by. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>How much the buffer was extended by. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="dbuff_8h.html#aa30c687f387443a89139399929a88090" title="Update all markers and pointers in the set of dbuffs to point to new_buff. ">fr_dbuff_update</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00108">108</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a2ba47cf778c891b541c68fcf78954775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba47cf778c891b541c68fcf78954775">&#9670;&nbsp;</a></span>fr_dbuff_marker_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct fr_dbuff_marker_s <a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A position marker associated with a dbuff. </p>
<p>Markers are used whenever the caller needs to access part of the underlying buffer other than the 'start', 'current' or 'end' positions described by the a <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a>.</p>
<p>Markers are needed because if a <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6" title="A dbuff. ">fr_dbuff_t</a> is extended, pointers into the underlying buffer may be invalidated by a realloc or memmove.</p>
<p>Markers are intended to be allocated on the stack and associated with a stack-frame-local <code>fr_dbuff_t</code>. Using a stack-frame-local dbuff ensures markers are automatically released when the stack frame is popped so that markers are not leaked. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00081">81</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<a id="a03ab727e4c61835ac6ee275f8140a9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ab727e4c61835ac6ee275f8140a9f6">&#9670;&nbsp;</a></span>fr_dbuff_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct fr_dbuff_s <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A dbuff. </p>
<p>dbuffs wrap an underlying buffer, maintaining 'start', 'current', and 'end' position pointers.</p>
<p>dbuffs also contain information on if and how the underlying buffer can be extended.</p>
<p>For encoding extending means reallocing the underlying buffer so that there's addition space to write data to.</p>
<p>For stream decoding extending means shifting out existing data and refilling the underlying buffer from a data source.</p>
<p>dbuffs are intended to be organised into hierarchies, with one dbuff per stack frame, initialised from a parent in a higher stack frame.</p>
<p>Each time a dbuff is copied (using one of the provided FR_DBUFF_COPY_* macros), the copy's 'start' position is updated to be the 'current' position of its parent. This ensures length macros report only spaced used/available in the new dbuff and not its parent. Other copy macros may move the 'end' position, to artificially limit the amount of data available. </p>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00065">65</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a3f2ca1c962b57e274ba04530e696fbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2ca1c962b57e274ba04530e696fbff">&#9670;&nbsp;</a></span>fr_dbuff_extend_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dbuff_8h.html#a3f2ca1c962b57e274ba04530e696fbff">fr_dbuff_extend_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the buffer is currently extendable and whether it was extended. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3f2ca1c962b57e274ba04530e696fbffa0e084500ae3ffdc3830cfb963e4148a4"></a>FR_DBUFF_NOT_EXTENDABLE&#160;</td><td class="fielddoc"><p>dbuff cannot be extended </p>
</td></tr>
<tr><td class="fieldname"><a id="a3f2ca1c962b57e274ba04530e696fbffa8a4cc2a2014bd0cea65ea59d11bd67e4"></a>FR_DBUFF_EXTENDABLE&#160;</td><td class="fielddoc"><p>dbuff can be extended </p>
</td></tr>
<tr><td class="fieldname"><a id="a3f2ca1c962b57e274ba04530e696fbffabcc0856cec5d57bd7792ede9798320ed"></a>FR_DBUFF_EXTENDABLE_EXTENDED&#160;</td><td class="fielddoc"><p>dbuff was extended in the last extend call and may be extended again </p>
</td></tr>
<tr><td class="fieldname"><a id="a3f2ca1c962b57e274ba04530e696fbffa72f7a83feb33678d78f0dd5e2eeb04d7"></a>FR_DBUFF_EXTENDED&#160;</td><td class="fielddoc"><p>dbuff was extended in the last extend call but cannot be extended again </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00461">461</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6852ade1f6954ac0ca1c55f1c1a39018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6852ade1f6954ac0ca1c55f1c1a39018">&#9670;&nbsp;</a></span>_fr_dbuff_extend_talloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t _fr_dbuff_extend_talloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *&#160;</td>
          <td class="paramname"><em>dbuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reallocate the current buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dbuff</td><td>to be extended. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extension</td><td>How many additional bytes should be allocated in the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 the extension operation failed.</li>
<li>&gt;0 the number of bytes the buffer was extended by. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8c_source.html#l00112">112</a> of file <a class="el" href="dbuff_8c_source.html">dbuff.c</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_a6852ade1f6954ac0ca1c55f1c1a39018_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_a6852ade1f6954ac0ca1c55f1c1a39018_icgraph.svg" width="100%" height="568"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aaae109ead816d3ab29a6e36d49b29865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae109ead816d3ab29a6e36d49b29865">&#9670;&nbsp;</a></span>fr_dbuff_init_talloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a>* fr_dbuff_init_talloc </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *&#160;</td>
          <td class="paramname"><em>dbuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fr_dbuff_uctx_talloc_t *&#160;</td>
          <td class="paramname"><em>tctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise a special dbuff which automatically extends as additional data is written. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>to allocate buffer in. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dbuff</td><td>to initialise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tctx</td><td>to initialise. Must have a lifetime &gt;= to the dbuff. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init</td><td>The length of the initial buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>The maximum length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>The passed dbuff on success.</li>
<li>NULL on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00372">372</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_aaae109ead816d3ab29a6e36d49b29865_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_aaae109ead816d3ab29a6e36d49b29865_icgraph.svg" width="100%" height="574"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acd105ff335478c3daf2ecfa994f95e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd105ff335478c3daf2ecfa994f95e44">&#9670;&nbsp;</a></span>fr_dbuff_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t* fr_dbuff_marker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *&#160;</td>
          <td class="paramname"><em>dbuff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialises a new marker pointing to the 'current' position of the dbuff. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">m</td><td>to initialise. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dbuff</td><td>to associate marker with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The position the marker was set to. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00927">927</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_acd105ff335478c3daf2ecfa994f95e44_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab96960c1d07ba400e6d851bfbd6dc045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96960c1d07ba400e6d851bfbd6dc045">&#9670;&nbsp;</a></span>fr_dbuff_marker_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fr_dbuff_marker_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a2ba47cf778c891b541c68fcf78954775">fr_dbuff_marker_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the specified marker and any markers added before it. </p>
<p>Pointers should be released in the inverse order to allocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>to release. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8h_source.html#l00945">945</a> of file <a class="el" href="dbuff_8h_source.html">dbuff.h</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_ab96960c1d07ba400e6d851bfbd6dc045_icgraph.svg" width="100%" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa30c687f387443a89139399929a88090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30c687f387443a89139399929a88090">&#9670;&nbsp;</a></span>fr_dbuff_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_dbuff_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dbuff_8h.html#a03ab727e4c61835ac6ee275f8140a9f6">fr_dbuff_t</a> *&#160;</td>
          <td class="paramname"><em>dbuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>new_buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update all markers and pointers in the set of dbuffs to point to new_buff. </p>
<p>This function should be used if the underlying buffer is realloced.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dbuff</td><td>to update. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_buff</td><td>to assign to to sbuff. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_len</td><td>Length of the new buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbuff_8c_source.html#l00076">76</a> of file <a class="el" href="dbuff_8c_source.html">dbuff.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dbuff_8h_aa30c687f387443a89139399929a88090_cgraph.svg" width="214" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dbuff_8h_aa30c687f387443a89139399929a88090_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 14 2020 17:33:56 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
