<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/modules/rlm_couchbase/mod.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_c0ad2dfde6aafe701e8c32cce4326dbb.html">rlm_couchbase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mod.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function prototypes and datatypes used in the module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/server/base.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/pool.h&gt;</code><br />
<code>#include &lt;freeradius-devel/json/base.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for mod.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h__incl.svg" width="512" height="156"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h__dep__incl.svg" width="456" height="186"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="mod_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrlm__couchbase__handle__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#structrlm__couchbase__handle__t">rlm_couchbase_handle_t</a></td></tr>
<tr class="memdesc:structrlm__couchbase__handle__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Couchbase instance specific information.  <a href="mod_8h.html#structrlm__couchbase__handle__t">More...</a><br /></td></tr>
<tr class="separator:structrlm__couchbase__handle__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structrlm__couchbase__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#structrlm__couchbase__t">rlm_couchbase_t</a></td></tr>
<tr class="memdesc:structrlm__couchbase__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main module instance.  <a href="mod_8h.html#structrlm__couchbase__t">More...</a><br /></td></tr>
<tr class="separator:structrlm__couchbase__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a61504903c4144f98e49063d95c67dc60"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a61504903c4144f98e49063d95c67dc60">MAX_KEY_SIZE</a>&#160;&#160;&#160;250</td></tr>
<tr class="separator:a61504903c4144f98e49063d95c67dc60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbe8667aff6d42a70de59c7c557727c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a3cbe8667aff6d42a70de59c7c557727c">MAX_VALUE_SIZE</a>&#160;&#160;&#160;20480</td></tr>
<tr class="separator:a3cbe8667aff6d42a70de59c7c557727c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a155ed7b1db8038d16c2360042c186edd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a155ed7b1db8038d16c2360042c186edd">mod_attribute_to_element</a> (const char *<a class="el" href="rlm__redis__ippool__tool_8c.html#a5f1de76dd5d451949e12c0fbc966ca70">name</a>, json_object *<a class="el" href="rlm__expr_8c.html#a67a61c02f0eccbad6b342dd9adeb7994">map</a>, void *buf)</td></tr>
<tr class="memdesc:a155ed7b1db8038d16c2360042c186edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map attributes to JSON element names.  <a href="#a155ed7b1db8038d16c2360042c186edd">More...</a><br /></td></tr>
<tr class="separator:a155ed7b1db8038d16c2360042c186edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04678a7841472fe04e062de290e2b5b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a04678a7841472fe04e062de290e2b5b0">mod_build_api_opts</a> (<a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *<a class="el" href="radsniff_8c.html#ae9b08c8e16b52f7ab0e5c13fb7775156">conf</a>, void *instance)</td></tr>
<tr class="memdesc:a04678a7841472fe04e062de290e2b5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a couchbase_opts_t structure from the configuration "couchbase_api" list.  <a href="#a04678a7841472fe04e062de290e2b5b0">More...</a><br /></td></tr>
<tr class="separator:a04678a7841472fe04e062de290e2b5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd46732d5958d7db89dc80ca58b2aeca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#abd46732d5958d7db89dc80ca58b2aeca">mod_build_attribute_element_map</a> (<a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *<a class="el" href="radsniff_8c.html#ae9b08c8e16b52f7ab0e5c13fb7775156">conf</a>, void *instance)</td></tr>
<tr class="memdesc:abd46732d5958d7db89dc80ca58b2aeca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a JSON object map from the configuration "map" list.  <a href="#abd46732d5958d7db89dc80ca58b2aeca">More...</a><br /></td></tr>
<tr class="separator:abd46732d5958d7db89dc80ca58b2aeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00e07904005e002c9bc32d7fe66f250"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#af00e07904005e002c9bc32d7fe66f250">mod_client_map_section</a> (<a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *client, <a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> const *<a class="el" href="rlm__expr_8c.html#a67a61c02f0eccbad6b342dd9adeb7994">map</a>, json_object *json, char const *docid)</td></tr>
<tr class="separator:af00e07904005e002c9bc32d7fe66f250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d84a026cd015239f8e1fd37f9f36a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#af1d84a026cd015239f8e1fd37f9f36a1">mod_conn_alive</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> void *instance, void *handle)</td></tr>
<tr class="memdesc:af1d84a026cd015239f8e1fd37f9f36a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the health of a connection handle.  <a href="#af1d84a026cd015239f8e1fd37f9f36a1">More...</a><br /></td></tr>
<tr class="separator:af1d84a026cd015239f8e1fd37f9f36a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e7ecb751cd7a0b7004162eaf8fc636"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#aa9e7ecb751cd7a0b7004162eaf8fc636">mod_conn_create</a> (TALLOC_CTX *ctx, void *instance, <a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a> <a class="el" href="dhcpclient_8c.html#ae73d456a0605d7523a3a5de0533681f7">timeout</a>)</td></tr>
<tr class="memdesc:aa9e7ecb751cd7a0b7004162eaf8fc636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection pool handle.  <a href="#aa9e7ecb751cd7a0b7004162eaf8fc636">More...</a><br /></td></tr>
<tr class="separator:aa9e7ecb751cd7a0b7004162eaf8fc636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae858c99a549f09013aead3eb4f8c6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#adae858c99a549f09013aead3eb4f8c6d">mod_ensure_start_timestamp</a> (json_object *json, <a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *vps)</td></tr>
<tr class="memdesc:adae858c99a549f09013aead3eb4f8c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure accounting documents always contain a valid timestamp.  <a href="#adae858c99a549f09013aead3eb4f8c6d">More...</a><br /></td></tr>
<tr class="separator:adae858c99a549f09013aead3eb4f8c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1da03d55c4a8614103a97a683b5746"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a5f1da03d55c4a8614103a97a683b5746">mod_free_api_opts</a> (void *instance)</td></tr>
<tr class="memdesc:a5f1da03d55c4a8614103a97a683b5746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a object built by <a class="el" href="mod_8c.html#a04678a7841472fe04e062de290e2b5b0" title="Build a couchbase_opts_t structure from the configuration &quot;couchbase_api&quot; list. ">mod_build_api_opts()</a>  <a href="#a5f1da03d55c4a8614103a97a683b5746">More...</a><br /></td></tr>
<tr class="separator:a5f1da03d55c4a8614103a97a683b5746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cd764496e26408c51bff88063c26d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a65cd764496e26408c51bff88063c26d5">mod_json_object_to_map</a> (TALLOC_CTX *ctx, <a class="el" href="cursor_8h.html#structfr__cursor__t">fr_cursor_t</a> *<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, json_object *json, <a class="el" href="server_2tmpl_8h.html#ad48907736e5fac08127f58b0df3b4b14">pair_list_t</a> list)</td></tr>
<tr class="memdesc:a65cd764496e26408c51bff88063c26d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build value pairs from the passed JSON object and add to the request.  <a href="#a65cd764496e26408c51bff88063c26d5">More...</a><br /></td></tr>
<tr class="separator:a65cd764496e26408c51bff88063c26d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e0ca7d9f8ac3c934b4538a8adc9b63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#a73e0ca7d9f8ac3c934b4538a8adc9b63">mod_load_client_documents</a> (<a class="el" href="mod_8h.html#structrlm__couchbase__t">rlm_couchbase_t</a> *<a class="el" href="rlm__passwd_8c.html#a5a012410c9dc2b8d34d0c5a49231a7e7">inst</a>, <a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *tmpl, <a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *<a class="el" href="rlm__expr_8c.html#a67a61c02f0eccbad6b342dd9adeb7994">map</a>)</td></tr>
<tr class="memdesc:a73e0ca7d9f8ac3c934b4538a8adc9b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load client entries from Couchbase client documents on startup.  <a href="#a73e0ca7d9f8ac3c934b4538a8adc9b63">More...</a><br /></td></tr>
<tr class="separator:a73e0ca7d9f8ac3c934b4538a8adc9b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ad376cb6b1ca6b777d7b3f19518cec"><td class="memItemLeft" align="right" valign="top">json_object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod_8h.html#ad6ad376cb6b1ca6b777d7b3f19518cec">mod_value_pair_to_json_object</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *<a class="el" href="util_2pair_8h.html#ac283ca220bc7c8c819c33dadbb0def84">vp</a>)</td></tr>
<tr class="memdesc:ad6ad376cb6b1ca6b777d7b3f19518cec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert value pairs to json objects.  <a href="#ad6ad376cb6b1ca6b777d7b3f19518cec">More...</a><br /></td></tr>
<tr class="separator:ad6ad376cb6b1ca6b777d7b3f19518cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function prototypes and datatypes used in the module. </p>
<dl class="section rcs"><dt>Id</dt><dd>9993e1fb9a01cf2bb4e5abb7b18b50aba6f8f7a9 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aaron Hurt (<a href="#" onclick="location.href='mai'+'lto:'+'ahu'+'rt'+'@an'+'bc'+'s.c'+'om'; return false;">ahurt<span style="display: none;">.nosp@m.</span>@anb<span style="display: none;">.nosp@m.</span>cs.co<span style="display: none;">.nosp@m.</span>m</a>) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2013-2014 The FreeRADIUS Server Project. </dd></dl>

<p class="definition">Definition in file <a class="el" href="mod_8h_source.html">mod.h</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrlm__couchbase__handle__t" id="structrlm__couchbase__handle__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrlm__couchbase__handle__t">&#9670;&nbsp;</a></span>rlm_couchbase_handle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rlm_couchbase_handle_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Couchbase instance specific information. </p>
<p>This struct contains the Couchbase connection handle as well as a cookie pointer to store fetched document payloads. </p>

<p class="definition">Definition at line <a class="el" href="mod_8h_source.html#l00071">71</a> of file <a class="el" href="mod_8h_source.html">mod.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a4165c4fb3d8f9795e0054771b2e34009"></a>void *</td>
<td class="fieldname">
cookie</td>
<td class="fielddoc">
Couchbase cookie (<code><a class="el" href="couchbase_8h.html#unioncookie__u" title="Union of constant and non-constant pointers. ">cookie_u</a></code> <code><a class="el" href="couchbase_8h.html#structcookie__t" title="Information relating to the parsing of Couchbase document payloads. ">cookie_t</a></code>). </td></tr>
<tr><td class="fieldtype">
<a id="a6f4f37d81354b225d4b71043e8b5e47d"></a>void *</td>
<td class="fieldname">
handle</td>
<td class="fielddoc">
Real couchbase instance. </td></tr>
</table>

</div>
</div>
<a name="structrlm__couchbase__t" id="structrlm__couchbase__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrlm__couchbase__t">&#9670;&nbsp;</a></span>rlm_couchbase_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rlm_couchbase_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The main module instance. </p>
<p>This struct contains the core module configuration. </p>

<p class="definition">Definition at line <a class="el" href="mod_8h_source.html#l00044">44</a> of file <a class="el" href="mod_8h_source.html">mod.h</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for rlm_couchbase_t:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structrlm__couchbase__t__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="abc9b4de7d04f555f8391120331950daa"></a><a class="el" href="server_2tmpl_8h.html#ab59ad3d0e1f259dd7dff0be6d621f691">tmpl_t</a> *</td>
<td class="fieldname">
acct_key</td>
<td class="fielddoc">
Accounting document key. </td></tr>
<tr><td class="fieldtype">
<a id="a4add55f38feeed420af280919931e828"></a>void *</td>
<td class="fieldname">
api_opts</td>
<td class="fielddoc">
Couchbase API internal options. </td></tr>
<tr><td class="fieldtype">
<a id="a126feb1a54bc2dd5abcc721cd1088eab"></a>char const  *</td>
<td class="fieldname">
bucket</td>
<td class="fielddoc">
Couchbase bucket. </td></tr>
<tr><td class="fieldtype">
<a id="a487112e6c718af61564e6eaa4dac3c26"></a>const char *</td>
<td class="fieldname">
client_view</td>
<td class="fielddoc">
Couchbase view that returns client documents. </td></tr>
<tr><td class="fieldtype">
<a id="ae2cbcf781c69e43af167e4eefedbf1eb"></a>char const  *</td>
<td class="fieldname">
doctype</td>
<td class="fielddoc">
Value of accounting 'docType' element name. </td></tr>
<tr><td class="fieldtype">
<a id="a5f594463238aab2ba1d3660a159983d4"></a>uint32_t</td>
<td class="fieldname">
expire</td>
<td class="fielddoc">
Accounting document expire time in seconds. </td></tr>
<tr><td class="fieldtype">
<a id="ab4a224385487ccc2337f4dcc601aebbd"></a>json_object *</td>
<td class="fieldname">
map</td>
<td class="fielddoc">
Json object to hold user defined attribute map. </td></tr>
<tr><td class="fieldtype">
<a id="ab21a0219909a728a32bf83abb1fc156d"></a>char const  *</td>
<td class="fieldname">
name</td>
<td class="fielddoc">
Module instance name. </td></tr>
<tr><td class="fieldtype">
<a id="af5f4d1eecd0cba9012cfe750009a93be"></a>char const  *</td>
<td class="fieldname">
password</td>
<td class="fielddoc">
Couchbase bucket password. </td></tr>
<tr><td class="fieldtype">
<a id="ae39d49bb427ad29c8fc13a0d7b713439"></a><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *</td>
<td class="fieldname">
pool</td>
<td class="fielddoc">
Connection pool. </td></tr>
<tr><td class="fieldtype">
<a id="a4f3f1af6774fdf0ee60a9675f7237a19"></a>bool</td>
<td class="fieldname">
read_clients</td>
<td class="fielddoc">
Toggle for loading client records. </td></tr>
<tr><td class="fieldtype">
<a id="a89b04b35a41e82a5df9557acd85acdfc"></a>char const  *</td>
<td class="fieldname">
server</td>
<td class="fielddoc">
Couchbase server list. </td></tr>
<tr><td class="fieldtype">
<a id="a454eb079fc310126435bd65b213a28dd"></a>char const  *</td>
<td class="fieldname">
server_raw</td>
<td class="fielddoc">
Raw server string before parsing. </td></tr>
<tr><td class="fieldtype">
<a id="a5a4fa0f7f5ab21fce2349b020fc4be13"></a><a class="el" href="server_2tmpl_8h.html#ab59ad3d0e1f259dd7dff0be6d621f691">tmpl_t</a> *</td>
<td class="fieldname">
user_key</td>
<td class="fielddoc">
User document key. </td></tr>
<tr><td class="fieldtype">
<a id="ac2cf450c38ac298b3fdcdbd48daf9454"></a>char const  *</td>
<td class="fieldname">
username</td>
<td class="fielddoc">
Couchbase bucket username. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a61504903c4144f98e49063d95c67dc60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61504903c4144f98e49063d95c67dc60">&#9670;&nbsp;</a></span>MAX_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> MAX_KEY_SIZE&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod_8h_source.html#l00038">38</a> of file <a class="el" href="mod_8h_source.html">mod.h</a>.</p>

</div>
</div>
<a id="a3cbe8667aff6d42a70de59c7c557727c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbe8667aff6d42a70de59c7c557727c">&#9670;&nbsp;</a></span>MAX_VALUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> MAX_VALUE_SIZE&#160;&#160;&#160;20480</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod_8h_source.html#l00035">35</a> of file <a class="el" href="mod_8h_source.html">mod.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a155ed7b1db8038d16c2360042c186edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155ed7b1db8038d16c2360042c186edd">&#9670;&nbsp;</a></span>mod_attribute_to_element()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_attribute_to_element </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map attributes to JSON element names. </p>
<p>Attempt to map the passed attribute name to the configured JSON element name using the JSON object map <a class="el" href="mod_8c.html#abd46732d5958d7db89dc80ca58b2aeca" title="Build a JSON object map from the configuration &quot;map&quot; list. ">mod_build_attribute_element_map()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The character name of the requested attribute. </td></tr>
    <tr><td class="paramname">map</td><td>The JSON object map to use for the lookup. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer where the given element will be stored if found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>-1 on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00314">314</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a155ed7b1db8038d16c2360042c186edd_cgraph.svg" width="362" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a155ed7b1db8038d16c2360042c186edd_icgraph.svg" width="348" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a04678a7841472fe04e062de290e2b5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04678a7841472fe04e062de290e2b5b0">&#9670;&nbsp;</a></span>mod_build_api_opts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_build_api_opts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a couchbase_opts_t structure from the configuration "couchbase_api" list. </p>
<p>Parse the "couchbase_api" list from the module configuration file and store this as a couchbase_opts_t object (key/value list).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>Configuration list. </td></tr>
    <tr><td class="paramname">instance</td><td>The module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
</ul>
</dd></dl>
<ul>
<li>-1 on failure. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00094">94</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_a04678a7841472fe04e062de290e2b5b0_cgraph.svg" width="100%" height="556"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a04678a7841472fe04e062de290e2b5b0_icgraph.svg" width="311" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abd46732d5958d7db89dc80ca58b2aeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd46732d5958d7db89dc80ca58b2aeca">&#9670;&nbsp;</a></span>mod_build_attribute_element_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_build_attribute_element_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a JSON object map from the configuration "map" list. </p>
<p>Parse the "map" list from the module configuration file and store this as a JSON object (key/value list) in the module instance. This map will be used to lookup and map attributes for all incoming accounting requests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>Configuration list. </td></tr>
    <tr><td class="paramname">instance</td><td>The module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
</ul>
</dd></dl>
<ul>
<li>-1 on failure. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00239">239</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_abd46732d5958d7db89dc80ca58b2aeca_cgraph.svg" width="100%" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_abd46732d5958d7db89dc80ca58b2aeca_icgraph.svg" width="308" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af00e07904005e002c9bc32d7fe66f250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00e07904005e002c9bc32d7fe66f250">&#9670;&nbsp;</a></span>mod_client_map_section()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_client_map_section </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> const *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>docid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af1d84a026cd015239f8e1fd37f9f36a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d84a026cd015239f8e1fd37f9f36a1">&#9670;&nbsp;</a></span>mod_conn_alive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_conn_alive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> void *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the health of a connection handle. </p>
<p>Attempt to determing the state of the Couchbase connection by requesting a cluster statistics report. Mark the connection as failed if the request returns anything other than success.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The module instance (currently unused). </td></tr>
    <tr><td class="paramname">handle</td><td>The connection handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success (alive).</li>
<li>-1 on failure (unavailable). </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00210">210</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_af1d84a026cd015239f8e1fd37f9f36a1_cgraph.svg" width="339" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_af1d84a026cd015239f8e1fd37f9f36a1_icgraph.svg" width="290" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa9e7ecb751cd7a0b7004162eaf8fc636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e7ecb751cd7a0b7004162eaf8fc636">&#9670;&nbsp;</a></span>mod_conn_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mod_conn_create </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new connection pool handle. </p>
<p>Create a new connection to Couchbase within the pool and initialize information associated with the connection instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The connection parent context. </td></tr>
    <tr><td class="paramname">instance</td><td>The module instance. </td></tr>
    <tr><td class="paramname">timeout</td><td>Maximum time to establish the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>New connection handle.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00156">156</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_aa9e7ecb751cd7a0b7004162eaf8fc636_cgraph.svg" width="100%" height="461"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adae858c99a549f09013aead3eb4f8c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae858c99a549f09013aead3eb4f8c6d">&#9670;&nbsp;</a></span>mod_ensure_start_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_ensure_start_timestamp </td>
          <td>(</td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *&#160;</td>
          <td class="paramname"><em>vps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ensure accounting documents always contain a valid timestamp. </p>
<p>Inspect the given JSON object representation of an accounting document fetched from Couchbase and ensuse it contains a valid (non NULL) timestamp value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td>JSON object representation of an accounting document. </td></tr>
    <tr><td class="paramname">vps</td><td>The value pairs associated with the current accounting request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>-1 on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00607">607</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_adae858c99a549f09013aead3eb4f8c6d_cgraph.svg" width="384" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_adae858c99a549f09013aead3eb4f8c6d_icgraph.svg" width="371" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5f1da03d55c4a8614103a97a683b5746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1da03d55c4a8614103a97a683b5746">&#9670;&nbsp;</a></span>mod_free_api_opts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_free_api_opts </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a object built by <a class="el" href="mod_8c.html#a04678a7841472fe04e062de290e2b5b0" title="Build a couchbase_opts_t structure from the configuration &quot;couchbase_api&quot; list. ">mod_build_api_opts()</a> </p>
<p>Release the underlying <a class="el" href="mod_8c.html#a04678a7841472fe04e062de290e2b5b0" title="Build a couchbase_opts_t structure from the configuration &quot;couchbase_api&quot; list. ">mod_build_api_opts()</a> objects</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00063">63</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a5f1da03d55c4a8614103a97a683b5746_icgraph.svg" width="284" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a65cd764496e26408c51bff88063c26d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65cd764496e26408c51bff88063c26d5">&#9670;&nbsp;</a></span>mod_json_object_to_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_json_object_to_map </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cursor_8h.html#structfr__cursor__t">fr_cursor_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_2tmpl_8h.html#ad48907736e5fac08127f58b0df3b4b14">pair_list_t</a>&#160;</td>
          <td class="paramname"><em>list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build value pairs from the passed JSON object and add to the request. </p>
<p>Parse the passed JSON object and create value pairs that will be injected into the given request for authorization.</p>
<p>Example JSON document structure: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;docType&quot;: &quot;raduser&quot;,</div><div class="line">  &quot;userName&quot;: &quot;test&quot;,</div><div class="line">  &quot;control&quot;: {</div><div class="line">    &quot;SHA-Password&quot;: {</div><div class="line">      &quot;value&quot;: &quot;a94a8fe5ccb19ba61c4c0873d391e987982fbbd3&quot;,</div><div class="line">      &quot;op&quot;: &quot;:=&quot;</div><div class="line">    }</div><div class="line">  },</div><div class="line">  &quot;reply&quot;: {</div><div class="line">    &quot;Reply-Message&quot;: {</div><div class="line">      &quot;value&quot;: &quot;Hidey Ho!&quot;,</div><div class="line">      &quot;op&quot;: &quot;=&quot;</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>to allocate maps in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>Cursor to append maps to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The request to which the generated pairs should be added. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">json</td><td>The JSON object representation of the user document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">list</td><td>The pair list PAIR_LIST_CONTROL or PAIR_LIST_REPLY. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 if no section found.</li>
<li>0 on success.</li>
<li>&lt;0 on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00376">376</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_a65cd764496e26408c51bff88063c26d5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a65cd764496e26408c51bff88063c26d5_icgraph.svg" width="336" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a73e0ca7d9f8ac3c934b4538a8adc9b63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73e0ca7d9f8ac3c934b4538a8adc9b63">&#9670;&nbsp;</a></span>mod_load_client_documents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mod_load_client_documents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mod_8h.html#structrlm__couchbase__t">rlm_couchbase_t</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>tmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load client entries from Couchbase client documents on startup. </p>
<p>This function executes the view defined in the module configuration and loops through all returned rows. The view is called with "stale=false" to ensure the most accurate data available when the view is called. This will force an index rebuild on this design document in Couchbase. However, since this function is only run once at server startup this should not be a concern.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inst</td><td>The module instance. </td></tr>
    <tr><td class="paramname">tmpl</td><td>Default values for new clients. </td></tr>
    <tr><td class="paramname">map</td><td>The client attribute configuration list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>-1 on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00708">708</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_a73e0ca7d9f8ac3c934b4538a8adc9b63_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_a73e0ca7d9f8ac3c934b4538a8adc9b63_icgraph.svg" width="360" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad6ad376cb6b1ca6b777d7b3f19518cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ad376cb6b1ca6b777d7b3f19518cec">&#9670;&nbsp;</a></span>mod_value_pair_to_json_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">json_object* mod_value_pair_to_json_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *&#160;</td>
          <td class="paramname"><em>vp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert value pairs to json objects. </p>
<p>Take the passed value pair and convert it to a json-c JSON object. This code is heavily based on the <a class="el" href="json_2base_8h.html#ad9d16e9be024dab2e15c8771472b9c91" title="Prints attribute as string, escaped suitably for use as JSON string. ">fr_json_from_pair()</a> function from src/lib/print.c.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The request object. </td></tr>
    <tr><td class="paramname">vp</td><td>The value pair to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A JSON object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mod_8c_source.html#l00513">513</a> of file <a class="el" href="mod_8c_source.html">mod.c</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="mod_8h_ad6ad376cb6b1ca6b777d7b3f19518cec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="mod_8h_ad6ad376cb6b1ca6b777d7b3f19518cec_icgraph.svg" width="339" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 13 2020 19:04:13 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
