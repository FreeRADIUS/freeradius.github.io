<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/redis/pipeline.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_efa02c211b4bb5072e90e61ec8101341.html">redis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pipeline.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Redis asynchronous command pipelining.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/server/connection.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/request.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/trunk.h&gt;</code><br />
<code>#include &lt;freeradius-devel/redis/io.h&gt;</code><br />
<code>#include &lt;hiredis/async.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for pipeline.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pipeline_8h__incl.svg" width="100%" height="417"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h__dep__incl.svg" width="416" height="171"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="pipeline_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9ce40fb4c884b7626f70bd15d10a897b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__cluster__thread__s">fr_redis_cluster_thread_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a></td></tr>
<tr class="separator:a9ce40fb4c884b7626f70bd15d10a897b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d66f0f46a5aad9fb5bbb9dad5b285f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a17d66f0f46a5aad9fb5bbb9dad5b285f">fr_redis_command_set_complete_t</a>) (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *completed, void *rctx)</td></tr>
<tr class="memdesc:a17d66f0f46a5aad9fb5bbb9dad5b285f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do something meaningful with the replies to the commands previously issued.  <a href="#a17d66f0f46a5aad9fb5bbb9dad5b285f">More...</a><br /></td></tr>
<tr class="separator:a17d66f0f46a5aad9fb5bbb9dad5b285f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8d9cc3853bb8339971448ee60a524f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a9a8d9cc3853bb8339971448ee60a524f">fr_redis_command_set_fail_t</a>) (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *completed, void *rctx)</td></tr>
<tr class="memdesc:a9a8d9cc3853bb8339971448ee60a524f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a failure result to the rctx so that the module is aware that the request failed.  <a href="#a9a8d9cc3853bb8339971448ee60a524f">More...</a><br /></td></tr>
<tr class="separator:a9a8d9cc3853bb8339971448ee60a524f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c94b534ad42707baa832003e160aadd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__command__set__s">fr_redis_command_set_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a></td></tr>
<tr class="separator:a6c94b534ad42707baa832003e160aadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125e53ac170b8de0fa81726b8f1a6715"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__command__s">fr_redis_command_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a125e53ac170b8de0fa81726b8f1a6715">fr_redis_command_t</a></td></tr>
<tr class="separator:a125e53ac170b8de0fa81726b8f1a6715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc83c13ea3495384ad6d3bba7bf3161"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__trunk__s">fr_redis_trunk_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a></td></tr>
<tr class="separator:a9dc83c13ea3495384ad6d3bba7bf3161"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa2376cb7dfec63e6041563c8ef06f4dc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a> { <br />
&#160;&#160;<a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dca0e956b6fecdf3a7d15bf5914fd236dcf">FR_REDIS_PIPELINE_OK</a> = 0, 
<br />
&#160;&#160;<a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dcac74f2f70ce2cbd0bb8f84a985a75f857">FR_REDIS_PIPELINE_BAD_CMDS</a>, 
<br />
&#160;&#160;<a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dcac98a8d71d42066501f497477d5065be4">FR_REDIS_PIPELINE_DST_UNAVAILABLE</a>, 
<br />
&#160;&#160;<a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dca2bd97381f5d745992a599666a4be74dc">FR_REDIS_PIPELINE_TOO_MANY_REDIRECTS</a>, 
<br />
&#160;&#160;<a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dcaf5c47e9c07b3beb8e9dc02fc31c3ceb8">FR_REDIS_PIPELINE_FAIL</a>
<br />
 }</td></tr>
<tr class="separator:aa2376cb7dfec63e6041563c8ef06f4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7b9e93c152ea72a1c44f06479454d2b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a7b9e93c152ea72a1c44f06479454d2b9">fr_redis_cluster_thread_alloc</a> (TALLOC_CTX *ctx, <a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *el, <a class="el" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a> const *tconf)</td></tr>
<tr class="memdesc:a7b9e93c152ea72a1c44f06479454d2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate per-thread, per-cluster instance.  <a href="#a7b9e93c152ea72a1c44f06479454d2b9">More...</a><br /></td></tr>
<tr class="separator:a7b9e93c152ea72a1c44f06479454d2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec74e22ce841b28334ee5db18d5974d"><td class="memItemLeft" align="right" valign="top">redisReply *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a8ec74e22ce841b28334ee5db18d5974d">fr_redis_command_get_result</a> (<a class="el" href="pipeline_8h.html#a125e53ac170b8de0fa81726b8f1a6715">fr_redis_command_t</a> *cmd)</td></tr>
<tr class="separator:a8ec74e22ce841b28334ee5db18d5974d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca452613956ef031bfece4f77a751a6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#aca452613956ef031bfece4f77a751a6f">fr_redis_command_preformatted_add</a> (<a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a> *cmds, char const *cmd_str, size_t cmd_len)</td></tr>
<tr class="memdesc:aca452613956ef031bfece4f77a751a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a preformatted/expanded command to the command set.  <a href="#aca452613956ef031bfece4f77a751a6f">More...</a><br /></td></tr>
<tr class="separator:aca452613956ef031bfece4f77a751a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a321ec901aeca23d35991702109b184aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a321ec901aeca23d35991702109b184aa">fr_redis_command_set_alloc</a> (TALLOC_CTX *ctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="pipeline_8h.html#a17d66f0f46a5aad9fb5bbb9dad5b285f">fr_redis_command_set_complete_t</a> complete, <a class="el" href="pipeline_8h.html#a9a8d9cc3853bb8339971448ee60a524f">fr_redis_command_set_fail_t</a> fail, void *rctx)</td></tr>
<tr class="memdesc:a321ec901aeca23d35991702109b184aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new command set.  <a href="#a321ec901aeca23d35991702109b184aa">More...</a><br /></td></tr>
<tr class="separator:a321ec901aeca23d35991702109b184aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1783c8caef2ebedfab3e0886489b322c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a1783c8caef2ebedfab3e0886489b322c">fr_redis_trunk_alloc</a> (<a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a> *rtcluster, <a class="el" href="lib_2redis_2io_8h.html#structfr__redis__io__conf__t">fr_redis_io_conf_t</a> const *<a class="el" href="radsniff_8c.html#ae9b08c8e16b52f7ab0e5c13fb7775156">conf</a>)</td></tr>
<tr class="memdesc:a1783c8caef2ebedfab3e0886489b322c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new trunk.  <a href="#a1783c8caef2ebedfab3e0886489b322c">More...</a><br /></td></tr>
<tr class="separator:a1783c8caef2ebedfab3e0886489b322c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b545d69e6898a2d278f063f27f19b0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipeline_8h.html#a6b545d69e6898a2d278f063f27f19b0d">redis_command_set_enqueue</a> (<a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a> *rtrunk, <a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a> *cmds)</td></tr>
<tr class="memdesc:a6b545d69e6898a2d278f063f27f19b0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a command set on a specific trunk.  <a href="#a6b545d69e6898a2d278f063f27f19b0d">More...</a><br /></td></tr>
<tr class="separator:a6b545d69e6898a2d278f063f27f19b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Redis asynchronous command pipelining. </p>
<dl class="section rcs"><dt>Id</dt><dd>ee222b75842a059a61ef1fe0d192d9764a6fe4f4 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2019 The FreeRADIUS server project </dd>
<dd>
2019 Network RADIUS SARL (<a href="#" onclick="location.href='mai'+'lto:'+'leg'+'al'+'@ne'+'tw'+'ork'+'ra'+'diu'+'s.'+'com'; return false;">legal<span style="display: none;">.nosp@m.</span>@net<span style="display: none;">.nosp@m.</span>workr<span style="display: none;">.nosp@m.</span>adiu<span style="display: none;">.nosp@m.</span>s.com</a>)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Arran Cudbard-Bell (<a href="#" onclick="location.href='mai'+'lto:'+'a.c'+'ud'+'bar'+'db'+'@fr'+'ee'+'rad'+'iu'+'s.o'+'rg'; return false;">a.cud<span style="display: none;">.nosp@m.</span>bard<span style="display: none;">.nosp@m.</span>b@fre<span style="display: none;">.nosp@m.</span>erad<span style="display: none;">.nosp@m.</span>ius.o<span style="display: none;">.nosp@m.</span>rg</a>) </dd></dl>

<p class="definition">Definition in file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a9ce40fb4c884b7626f70bd15d10a897b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce40fb4c884b7626f70bd15d10a897b">&#9670;&nbsp;</a></span>fr_redis_cluster_thread_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__cluster__thread__s">fr_redis_cluster_thread_s</a> <a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00049">49</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<a id="a17d66f0f46a5aad9fb5bbb9dad5b285f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d66f0f46a5aad9fb5bbb9dad5b285f">&#9670;&nbsp;</a></span>fr_redis_command_set_complete_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* fr_redis_command_set_complete_t) (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *completed, void *rctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do something meaningful with the replies to the commands previously issued. </p>
<p>Should mark the request as runnable, if there's a request. </p>

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00058">58</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<a id="a9a8d9cc3853bb8339971448ee60a524f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8d9cc3853bb8339971448ee60a524f">&#9670;&nbsp;</a></span>fr_redis_command_set_fail_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* fr_redis_command_set_fail_t) (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *completed, void *rctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a failure result to the rctx so that the module is aware that the request failed. </p>
<p>Should mark the request as runnable, if there's a request. </p>

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00064">64</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<a id="a6c94b534ad42707baa832003e160aadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c94b534ad42707baa832003e160aadd">&#9670;&nbsp;</a></span>fr_redis_command_set_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__command__set__s">fr_redis_command_set_s</a> <a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00051">51</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<a id="a125e53ac170b8de0fa81726b8f1a6715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a125e53ac170b8de0fa81726b8f1a6715">&#9670;&nbsp;</a></span>fr_redis_command_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__command__s">fr_redis_command_s</a> <a class="el" href="pipeline_8h.html#a125e53ac170b8de0fa81726b8f1a6715">fr_redis_command_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00050">50</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<a id="a9dc83c13ea3495384ad6d3bba7bf3161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc83c13ea3495384ad6d3bba7bf3161">&#9670;&nbsp;</a></span>fr_redis_trunk_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="pipeline_8c.html#structfr__redis__trunk__s">fr_redis_trunk_s</a> <a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00052">52</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa2376cb7dfec63e6041563c8ef06f4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2376cb7dfec63e6041563c8ef06f4dc">&#9670;&nbsp;</a></span>fr_redis_pipeline_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa2376cb7dfec63e6041563c8ef06f4dca0e956b6fecdf3a7d15bf5914fd236dcf"></a>FR_REDIS_PIPELINE_OK&#160;</td><td class="fielddoc"><p>No failure. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa2376cb7dfec63e6041563c8ef06f4dcac74f2f70ce2cbd0bb8f84a985a75f857"></a>FR_REDIS_PIPELINE_BAD_CMDS&#160;</td><td class="fielddoc"><p>Malformed command set. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa2376cb7dfec63e6041563c8ef06f4dcac98a8d71d42066501f497477d5065be4"></a>FR_REDIS_PIPELINE_DST_UNAVAILABLE&#160;</td><td class="fielddoc"><p>Cluster or host is down. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa2376cb7dfec63e6041563c8ef06f4dca2bd97381f5d745992a599666a4be74dc"></a>FR_REDIS_PIPELINE_TOO_MANY_REDIRECTS&#160;</td><td class="fielddoc"><p>Redirected too many times. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa2376cb7dfec63e6041563c8ef06f4dcaf5c47e9c07b3beb8e9dc02fc31c3ceb8"></a>FR_REDIS_PIPELINE_FAIL&#160;</td><td class="fielddoc"><p>Generic failure. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pipeline_8h_source.html#l00041">41</a> of file <a class="el" href="pipeline_8h_source.html">pipeline.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7b9e93c152ea72a1c44f06479454d2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9e93c152ea72a1c44f06479454d2b9">&#9670;&nbsp;</a></span>fr_redis_cluster_thread_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a>* fr_redis_cluster_thread_alloc </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a> const *&#160;</td>
          <td class="paramname"><em>tconf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate per-thread, per-cluster instance. </p>
<p>This structure represents all the connections for a given thread for a given cluster. The structures holds the trunk connections to talk to each cluster member. </p>

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00647">647</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a7b9e93c152ea72a1c44f06479454d2b9_icgraph.svg" width="366" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8ec74e22ce841b28334ee5db18d5974d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec74e22ce841b28334ee5db18d5974d">&#9670;&nbsp;</a></span>fr_redis_command_get_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">redisReply* fr_redis_command_get_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a125e53ac170b8de0fa81726b8f1a6715">fr_redis_command_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00270">270</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a8ec74e22ce841b28334ee5db18d5974d_icgraph.svg" width="560" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aca452613956ef031bfece4f77a751a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca452613956ef031bfece4f77a751a6f">&#9670;&nbsp;</a></span>fr_redis_command_preformatted_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a> fr_redis_command_preformatted_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a> *&#160;</td>
          <td class="paramname"><em>cmds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>cmd_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cmd_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a preformatted/expanded command to the command set. </p>
<p>The command must either be entirely static, or parented by the command set.</p>
<dl class="section note"><dt>Note</dt><dd>Caller should disallow "SUBSCRIBE" et al, if they're not appropriate. As subscribing to a stream where we're not expecting it would break things, badly.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmds</td><td>Command set to add command to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_str</td><td>A fully expanded/formatted command to send to redis. Must be static, or have the same lifetime as the command set (allocated with the command set as the parent). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_len</td><td>Length of the command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_REDIS_PIPELINE_BAD_CMDS if a bad command sequence is enqueued.</li>
<li>FR_REDIS_PIPELINE_OK if command was enqueued successfully. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00292">292</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_aca452613956ef031bfece4f77a751a6f_cgraph.svg" width="447" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_aca452613956ef031bfece4f77a751a6f_icgraph.svg" width="448" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a321ec901aeca23d35991702109b184aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a321ec901aeca23d35991702109b184aa">&#9670;&nbsp;</a></span>fr_redis_command_set_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a>* fr_redis_command_set_alloc </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a17d66f0f46a5aad9fb5bbb9dad5b285f">fr_redis_command_set_complete_t</a>&#160;</td>
          <td class="paramname"><em>complete</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a9a8d9cc3853bb8339971448ee60a524f">fr_redis_command_set_fail_t</a>&#160;</td>
          <td class="paramname"><em>fail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new command set. </p>
<p>This is a set of commands that the calling module wants to execute on the redis server in sequence.</p>
<p>Control will be returned to the caller via the registered complete and fail functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>to bind the command set's lifetime to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>to pass to places that need it. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">complete</td><td>Function to call when all commands have been processed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fail</td><td>Function to call if the command set was not executed or was partially executed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>Resume context to pass to complete and fail functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new or refurbished command set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00206">206</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a321ec901aeca23d35991702109b184aa_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a321ec901aeca23d35991702109b184aa_icgraph.svg" width="366" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1783c8caef2ebedfab3e0886489b322c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1783c8caef2ebedfab3e0886489b322c">&#9670;&nbsp;</a></span>fr_redis_trunk_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a>* fr_redis_trunk_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a9ce40fb4c884b7626f70bd15d10a897b">fr_redis_cluster_thread_t</a> *&#160;</td>
          <td class="paramname"><em>cluster_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2redis_2io_8h.html#structfr__redis__io__conf__t">fr_redis_io_conf_t</a> const *&#160;</td>
          <td class="paramname"><em>io_conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new trunk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cluster_thread</td><td>to allocate the trunk for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io_conf</td><td>Describing the connection to a single REDIS host. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>On success, a new fr_redis_trunk_t which can be used for pipelining commands.</li>
<li>NULL on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00615">615</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a1783c8caef2ebedfab3e0886489b322c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a1783c8caef2ebedfab3e0886489b322c_icgraph.svg" width="346" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6b545d69e6898a2d278f063f27f19b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b545d69e6898a2d278f063f27f19b0d">&#9670;&nbsp;</a></span>redis_command_set_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pipeline_8h.html#aa2376cb7dfec63e6041563c8ef06f4dc">fr_redis_pipeline_status_t</a> redis_command_set_enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a9dc83c13ea3495384ad6d3bba7bf3161">fr_redis_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>rtrunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pipeline_8h.html#a6c94b534ad42707baa832003e160aadd">fr_redis_command_set_t</a> *&#160;</td>
          <td class="paramname"><em>cmds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue a command set on a specific trunk. </p>
<p>The command set may be passed around several trunks before it is complete. This is to allow it to follow MOVED and ASK responses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtrunk</td><td>to enqueue command set on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmds</td><td>Command set to enqueue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_REDIS_PIPELINE_OK if commands were immediately enqueued or placed in the backlog.</li>
<li>FR_REDIS_PIPELINE_DST_UNAVAILABLE if the REDIS host is unreachable.</li>
<li>FR_REDIS_PIPELINE_FAIL any other general error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pipeline_8c_source.html#l00392">392</a> of file <a class="el" href="pipeline_8c_source.html">pipeline.c</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a6b545d69e6898a2d278f063f27f19b0d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pipeline_8h_a6b545d69e6898a2d278f063f27f19b0d_icgraph.svg" width="406" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 13 2020 19:41:42 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
