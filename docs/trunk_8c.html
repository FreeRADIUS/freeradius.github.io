<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/server/trunk.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_dd8369ac01888559ff22cc7524970144.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trunk.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A management API for bonding multiple connections together.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/server/trunk.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/connection.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/trigger.h&gt;</code><br />
<code>#include &lt;freeradius-devel/unlang/base.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/misc.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/syserror.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/table.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/stdatomic.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for trunk.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c__incl.svg" width="100%" height="417"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c__dep__incl.svg" width="202" height="171"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="trunk_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structfr__trunk__connection__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#structfr__trunk__connection__s">fr_trunk_connection_s</a></td></tr>
<tr class="memdesc:structfr__trunk__connection__s"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associates request queues with a connection.  <a href="trunk_8c.html#structfr__trunk__connection__s">More...</a><br /></td></tr>
<tr class="separator:structfr__trunk__connection__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__trunk__request__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#structfr__trunk__request__s">fr_trunk_request_s</a></td></tr>
<tr class="memdesc:structfr__trunk__request__s"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps a normal request.  <a href="trunk_8c.html#structfr__trunk__request__s">More...</a><br /></td></tr>
<tr class="separator:structfr__trunk__request__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__trunk__request__state__log__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#structfr__trunk__request__state__log__t">fr_trunk_request_state_log_t</a></td></tr>
<tr class="memdesc:structfr__trunk__request__state__log__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trace state machine changes for a particular request.  <a href="trunk_8c.html#structfr__trunk__request__state__log__t">More...</a><br /></td></tr>
<tr class="separator:structfr__trunk__request__state__log__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__trunk__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#structfr__trunk__s">fr_trunk_s</a></td></tr>
<tr class="memdesc:structfr__trunk__s"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main trunk management handle.  <a href="trunk_8c.html#structfr__trunk__s">More...</a><br /></td></tr>
<tr class="separator:structfr__trunk__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a745db0fcbef1e76908de4194d1f20d77"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a745db0fcbef1e76908de4194d1f20d77">_TRUNK_PRIVATE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a745db0fcbef1e76908de4194d1f20d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae115c8e0b28dbda2112600f1a03e96c2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae115c8e0b28dbda2112600f1a03e96c2">CONN_BAD_STATE_TRANSITION</a>(_new)</td></tr>
<tr class="separator:ae115c8e0b28dbda2112600f1a03e96c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032f39200a23c20ac1e2c6ad21a4ce6c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a032f39200a23c20ac1e2c6ad21a4ce6c">CONN_REORDER</a>(_tconn)</td></tr>
<tr class="memdesc:a032f39200a23c20ac1e2c6ad21a4ce6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorder the connections in the active heap.  <a href="#a032f39200a23c20ac1e2c6ad21a4ce6c">More...</a><br /></td></tr>
<tr class="separator:a032f39200a23c20ac1e2c6ad21a4ce6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3137e313d145842dad1eb79d5b11312c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3137e313d145842dad1eb79d5b11312c">CONN_STATE_TRANSITION</a>(_new,  _log)</td></tr>
<tr class="separator:a3137e313d145842dad1eb79d5b11312c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7658e07bb8aa52df3c6ee70a927808"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#abf7658e07bb8aa52df3c6ee70a927808">CONN_TRIGGER</a>(_state)</td></tr>
<tr class="separator:abf7658e07bb8aa52df3c6ee70a927808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb79474c0b5327058dec0e3eb2dd19d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#adeb79474c0b5327058dec0e3eb2dd19d">COUNT_BY_STATE</a>(_state,  _list)</td></tr>
<tr class="separator:adeb79474c0b5327058dec0e3eb2dd19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3cd48d6db4490ecff8303eed7b17f7e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aa3cd48d6db4490ecff8303eed7b17f7e">DEQUEUE_ALL</a>(_src_list,  _state)</td></tr>
<tr class="separator:aa3cd48d6db4490ecff8303eed7b17f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c2644dbf0ff4defb50b273a853bfea"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a86c2644dbf0ff4defb50b273a853bfea">DO_CONNECTION_ALLOC</a>(_tconn)</td></tr>
<tr class="memdesc:a86c2644dbf0ff4defb50b273a853bfea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new connection.  <a href="#a86c2644dbf0ff4defb50b273a853bfea">More...</a><br /></td></tr>
<tr class="separator:a86c2644dbf0ff4defb50b273a853bfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab608aff4a70b0150765a7d686d304ea1"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ab608aff4a70b0150765a7d686d304ea1">DO_CONNECTION_NOTIFY</a>(_tconn,  _events)</td></tr>
<tr class="memdesc:ab608aff4a70b0150765a7d686d304ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change what events the connection should be notified about.  <a href="#ab608aff4a70b0150765a7d686d304ea1">More...</a><br /></td></tr>
<tr class="separator:ab608aff4a70b0150765a7d686d304ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43732a8525f44ab523f73d4768c0bcfd"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a43732a8525f44ab523f73d4768c0bcfd">DO_REQUEST_CANCEL</a>(_treq,  _reason)</td></tr>
<tr class="memdesc:a43732a8525f44ab523f73d4768c0bcfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the cancel callback if set.  <a href="#a43732a8525f44ab523f73d4768c0bcfd">More...</a><br /></td></tr>
<tr class="separator:a43732a8525f44ab523f73d4768c0bcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9556a810b4a7d23f7846fc630485da00"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9556a810b4a7d23f7846fc630485da00">DO_REQUEST_CANCEL_MUX</a>(_tconn)</td></tr>
<tr class="memdesc:a9556a810b4a7d23f7846fc630485da00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write one or more cancellation requests to a connection.  <a href="#a9556a810b4a7d23f7846fc630485da00">More...</a><br /></td></tr>
<tr class="separator:a9556a810b4a7d23f7846fc630485da00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3955edd4556e0389818a2e91cca415fb"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3955edd4556e0389818a2e91cca415fb">DO_REQUEST_COMPLETE</a>(_treq)</td></tr>
<tr class="memdesc:a3955edd4556e0389818a2e91cca415fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the complete callback (if set)  <a href="#a3955edd4556e0389818a2e91cca415fb">More...</a><br /></td></tr>
<tr class="separator:a3955edd4556e0389818a2e91cca415fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9d6a0401b3219c78b92d3c15a31de3"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a4c9d6a0401b3219c78b92d3c15a31de3">DO_REQUEST_CONN_RELEASE</a>(_treq)</td></tr>
<tr class="memdesc:a4c9d6a0401b3219c78b92d3c15a31de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the "conn_release" callback (if set)  <a href="#a4c9d6a0401b3219c78b92d3c15a31de3">More...</a><br /></td></tr>
<tr class="separator:a4c9d6a0401b3219c78b92d3c15a31de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9938b66c31f9a1c27ef160b485ce64d5"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9938b66c31f9a1c27ef160b485ce64d5">DO_REQUEST_DEMUX</a>(_tconn)</td></tr>
<tr class="memdesc:a9938b66c31f9a1c27ef160b485ce64d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more requests from a connection.  <a href="#a9938b66c31f9a1c27ef160b485ce64d5">More...</a><br /></td></tr>
<tr class="separator:a9938b66c31f9a1c27ef160b485ce64d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840081f3720349fb1ce732fab974a540"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a840081f3720349fb1ce732fab974a540">DO_REQUEST_FAIL</a>(_treq,  _prev_state)</td></tr>
<tr class="memdesc:a840081f3720349fb1ce732fab974a540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the fail callback (if set)  <a href="#a840081f3720349fb1ce732fab974a540">More...</a><br /></td></tr>
<tr class="separator:a840081f3720349fb1ce732fab974a540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bc0b731a6a1f904430f0c2a8c3e62c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a28bc0b731a6a1f904430f0c2a8c3e62c">DO_REQUEST_FREE</a>(_treq)</td></tr>
<tr class="memdesc:a28bc0b731a6a1f904430f0c2a8c3e62c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the free callback (if set)  <a href="#a28bc0b731a6a1f904430f0c2a8c3e62c">More...</a><br /></td></tr>
<tr class="separator:a28bc0b731a6a1f904430f0c2a8c3e62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb96f0d1cf691422226a90d50043e79"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a6fb96f0d1cf691422226a90d50043e79">DO_REQUEST_MUX</a>(_tconn)</td></tr>
<tr class="memdesc:a6fb96f0d1cf691422226a90d50043e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write one or more requests to a connection.  <a href="#a6fb96f0d1cf691422226a90d50043e79">More...</a><br /></td></tr>
<tr class="separator:a6fb96f0d1cf691422226a90d50043e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8118cbb651b1796307f549d087d985c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac8118cbb651b1796307f549d087d985c">FR_TRUNK_REQUEST_STATE_LOG_MAX</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:ac8118cbb651b1796307f549d087d985c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of state logs to record per request.  <a href="#ac8118cbb651b1796307f549d087d985c">More...</a><br /></td></tr>
<tr class="separator:ac8118cbb651b1796307f549d087d985c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159f5a7f9eb7e9ec72cb78034a0f9728"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a159f5a7f9eb7e9ec72cb78034a0f9728">IN_HANDLER</a>(_trunk)&#160;&#160;&#160;(((_trunk)-&gt;in_handler) != NULL)</td></tr>
<tr class="separator:a159f5a7f9eb7e9ec72cb78034a0f9728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad151620e08a4d45b7bb9a9814a6c98cb"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ad151620e08a4d45b7bb9a9814a6c98cb">IN_REQUEST_CANCEL_MUX</a>(_trunk)&#160;&#160;&#160;(((_trunk)-&gt;funcs.request_cancel_mux) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;funcs.request_cancel_mux))</td></tr>
<tr class="separator:ad151620e08a4d45b7bb9a9814a6c98cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8365357ffe20a263822116bf9759bdf4"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a8365357ffe20a263822116bf9759bdf4">IN_REQUEST_DEMUX</a>(_trunk)&#160;&#160;&#160;(((_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a91734f47a4c6731f3a3cc434d41e0e57">funcs.request_demux</a>) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a91734f47a4c6731f3a3cc434d41e0e57">funcs.request_demux</a>))</td></tr>
<tr class="separator:a8365357ffe20a263822116bf9759bdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bddf23cfe02bda91b750fb76c04c62"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af8bddf23cfe02bda91b750fb76c04c62">IN_REQUEST_MUX</a>(_trunk)&#160;&#160;&#160;(((_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a3305dcbb1c5cd85ad338cd3b3f44b3e0">funcs.request_mux</a>) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a3305dcbb1c5cd85ad338cd3b3f44b3e0">funcs.request_mux</a>))</td></tr>
<tr class="separator:af8bddf23cfe02bda91b750fb76c04c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c740ca39f53ae75a70a135fc7ac5c2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a62c740ca39f53ae75a70a135fc7ac5c2">IS_SERVICEABLE</a>(_tconn)&#160;&#160;&#160;((_tconn)-&gt;pub.state &amp; <a class="el" href="trunk_8h.html#adc19c94c12a5018e00de7b513882b79f">FR_TRUNK_CONN_SERVICEABLE</a>)</td></tr>
<tr class="separator:a62c740ca39f53ae75a70a135fc7ac5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1d11681b36518afb9413f4194b18a6"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aae1d11681b36518afb9413f4194b18a6">LOG_PREFIX</a>&#160;&#160;&#160;&quot;%s - &quot;</td></tr>
<tr class="separator:aae1d11681b36518afb9413f4194b18a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1160f41bcf76f349186b6cfce11bcc"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#adf1160f41bcf76f349186b6cfce11bcc">LOG_PREFIX_ARGS</a>&#160;&#160;&#160;trunk-&gt;log_prefix</td></tr>
<tr class="separator:adf1160f41bcf76f349186b6cfce11bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9c35cc6a45a8f14e2e11cc837c751b"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3e9c35cc6a45a8f14e2e11cc837c751b">OVER_MAX_CHECK</a>&#160;&#160;&#160;<a class="el" href="acutest_8h.html#a28855fa01b85a12f2d0ce002f5131535">if</a> (++count &gt; max) <a class="el" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> (count - 1)</td></tr>
<tr class="separator:a3e9c35cc6a45a8f14e2e11cc837c751b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659652ee30a65d33f53f763e48cf38d5"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a659652ee30a65d33f53f763e48cf38d5">RECONNECT_BY_STATE</a>(_state,  _list)</td></tr>
<tr class="separator:a659652ee30a65d33f53f763e48cf38d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534b624276460d05be598277fa0429ce"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a534b624276460d05be598277fa0429ce">REQUEST_BAD_STATE_TRANSITION</a>(_new)</td></tr>
<tr class="separator:a534b624276460d05be598277fa0429ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bdf50f5abb612890eae23f3854e6c3d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a2bdf50f5abb612890eae23f3854e6c3d">REQUEST_EXTRACT_BACKLOG</a>(_treq)</td></tr>
<tr class="memdesc:a2bdf50f5abb612890eae23f3854e6c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the backlog.  <a href="#a2bdf50f5abb612890eae23f3854e6c3d">More...</a><br /></td></tr>
<tr class="separator:a2bdf50f5abb612890eae23f3854e6c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d083ea5f1c05b4fc7e48ee15457b543"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a4d083ea5f1c05b4fc7e48ee15457b543">REQUEST_EXTRACT_CANCEL</a>(_treq)&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;cancel, treq);</td></tr>
<tr class="memdesc:a4d083ea5f1c05b4fc7e48ee15457b543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the cancel list.  <a href="#a4d083ea5f1c05b4fc7e48ee15457b543">More...</a><br /></td></tr>
<tr class="separator:a4d083ea5f1c05b4fc7e48ee15457b543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd08e948d0231285df5596779a855ca"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a1cd08e948d0231285df5596779a855ca">REQUEST_EXTRACT_CANCEL_PARTIAL</a>(_treq)</td></tr>
<tr class="memdesc:a1cd08e948d0231285df5596779a855ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the cancel_partial slot.  <a href="#a1cd08e948d0231285df5596779a855ca">More...</a><br /></td></tr>
<tr class="separator:a1cd08e948d0231285df5596779a855ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb013a1cd30c44e78cdb9d07099bab55"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#afb013a1cd30c44e78cdb9d07099bab55">REQUEST_EXTRACT_CANCEL_SENT</a>(_treq)&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;cancel_sent, treq);</td></tr>
<tr class="memdesc:afb013a1cd30c44e78cdb9d07099bab55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the cancel sent list.  <a href="#afb013a1cd30c44e78cdb9d07099bab55">More...</a><br /></td></tr>
<tr class="separator:afb013a1cd30c44e78cdb9d07099bab55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710b2f431f5e54bd05a1e6cab3c3acff"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a710b2f431f5e54bd05a1e6cab3c3acff">REQUEST_EXTRACT_PARTIAL</a>(_treq)</td></tr>
<tr class="memdesc:a710b2f431f5e54bd05a1e6cab3c3acff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the partial slot.  <a href="#a710b2f431f5e54bd05a1e6cab3c3acff">More...</a><br /></td></tr>
<tr class="separator:a710b2f431f5e54bd05a1e6cab3c3acff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6e9bf532f8a02d83420c6658cbfcad"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9f6e9bf532f8a02d83420c6658cbfcad">REQUEST_EXTRACT_PENDING</a>(_treq)</td></tr>
<tr class="memdesc:a9f6e9bf532f8a02d83420c6658cbfcad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the pending list.  <a href="#a9f6e9bf532f8a02d83420c6658cbfcad">More...</a><br /></td></tr>
<tr class="separator:a9f6e9bf532f8a02d83420c6658cbfcad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c9b5de6687d9ed5e996e99ca9f8f21"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a08c9b5de6687d9ed5e996e99ca9f8f21">REQUEST_EXTRACT_SENT</a>(_treq)&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;sent, treq);</td></tr>
<tr class="memdesc:a08c9b5de6687d9ed5e996e99ca9f8f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the current request from the sent list.  <a href="#a08c9b5de6687d9ed5e996e99ca9f8f21">More...</a><br /></td></tr>
<tr class="separator:a08c9b5de6687d9ed5e996e99ca9f8f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21c45fd3eb0d5a43a2bddcae8c59429"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae21c45fd3eb0d5a43a2bddcae8c59429">REQUEST_STATE_TRANSITION</a>(_new)</td></tr>
<tr class="memdesc:ae21c45fd3eb0d5a43a2bddcae8c59429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record a request state transition and log appropriate output.  <a href="#ae21c45fd3eb0d5a43a2bddcae8c59429">More...</a><br /></td></tr>
<tr class="separator:ae21c45fd3eb0d5a43a2bddcae8c59429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00841116a277a737dcdc2799597f38a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae00841116a277a737dcdc2799597f38a">REQUEST_TRIGGER</a>(_state)</td></tr>
<tr class="separator:ae00841116a277a737dcdc2799597f38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aee0dc607323967c0febcf18667763f39"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__connection__s">fr_trunk_connection_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a></td></tr>
<tr class="separator:aee0dc607323967c0febcf18667763f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3eb131a80a4eb550e2f859d599144ea"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__request__s">fr_trunk_request_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a></td></tr>
<tr class="separator:ac3eb131a80a4eb550e2f859d599144ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989e62923fa467b83f977ae0a44ab51d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__s">fr_trunk_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a></td></tr>
<tr class="separator:a989e62923fa467b83f977ae0a44ab51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac07392ba9aab02197c5fa30cddc4ac41"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac07392ba9aab02197c5fa30cddc4ac41">_state_log_entry_free</a> (<a class="el" href="trunk_8c.html#structfr__trunk__request__state__log__t">fr_trunk_request_state_log_t</a> *slog)</td></tr>
<tr class="memdesc:ac07392ba9aab02197c5fa30cddc4ac41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for sanity checks to ensure all log entries have been freed.  <a href="#ac07392ba9aab02197c5fa30cddc4ac41">More...</a><br /></td></tr>
<tr class="separator:ac07392ba9aab02197c5fa30cddc4ac41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213ea6729e8bcd5958923a9bdbc743c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a213ea6729e8bcd5958923a9bdbc743c9">_trunk_connection_free</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a213ea6729e8bcd5958923a9bdbc743c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a connection.  <a href="#a213ea6729e8bcd5958923a9bdbc743c9">More...</a><br /></td></tr>
<tr class="separator:a213ea6729e8bcd5958923a9bdbc743c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7dc82680fd0d29e86525577b75de5b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aa7dc82680fd0d29e86525577b75de5b4">_trunk_connection_lifetime_expire</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *el, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now, void *uctx)</td></tr>
<tr class="memdesc:aa7dc82680fd0d29e86525577b75de5b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger a reconnection of the trunk connection.  <a href="#aa7dc82680fd0d29e86525577b75de5b4">More...</a><br /></td></tr>
<tr class="separator:aa7dc82680fd0d29e86525577b75de5b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35dbfa78abd25abe57c4e65bf7c82a1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a35dbfa78abd25abe57c4e65bf7c82a1e">_trunk_connection_on_closed</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:a35dbfa78abd25abe57c4e65bf7c82a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection failed after it was connected.  <a href="#a35dbfa78abd25abe57c4e65bf7c82a1e">More...</a><br /></td></tr>
<tr class="separator:a35dbfa78abd25abe57c4e65bf7c82a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad121aefa7ec92e92c50dcfc320181c43"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ad121aefa7ec92e92c50dcfc320181c43">_trunk_connection_on_connected</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:ad121aefa7ec92e92c50dcfc320181c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection transitioned to the connected state.  <a href="#ad121aefa7ec92e92c50dcfc320181c43">More...</a><br /></td></tr>
<tr class="separator:ad121aefa7ec92e92c50dcfc320181c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042d6051155af0dfef9dda606fbff1b7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a042d6051155af0dfef9dda606fbff1b7">_trunk_connection_on_connecting</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:a042d6051155af0dfef9dda606fbff1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection transitioned to the connecting state.  <a href="#a042d6051155af0dfef9dda606fbff1b7">More...</a><br /></td></tr>
<tr class="separator:a042d6051155af0dfef9dda606fbff1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504ef2d489a87b1b99629e7b8d0733b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a504ef2d489a87b1b99629e7b8d0733b0">_trunk_connection_on_failed</a> (<a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:a504ef2d489a87b1b99629e7b8d0733b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection failed.  <a href="#a504ef2d489a87b1b99629e7b8d0733b0">More...</a><br /></td></tr>
<tr class="separator:a504ef2d489a87b1b99629e7b8d0733b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86c3373f24f656cab9cc0392646c845"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae86c3373f24f656cab9cc0392646c845">_trunk_connection_on_halted</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:ae86c3373f24f656cab9cc0392646c845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection transitioned to the halted state.  <a href="#ae86c3373f24f656cab9cc0392646c845">More...</a><br /></td></tr>
<tr class="separator:ae86c3373f24f656cab9cc0392646c845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7594acf7604e0bcec4cb67ec9927ac00"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a7594acf7604e0bcec4cb67ec9927ac00">_trunk_connection_on_init</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:a7594acf7604e0bcec4cb67ec9927ac00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection transitioned to the the init state.  <a href="#a7594acf7604e0bcec4cb67ec9927ac00">More...</a><br /></td></tr>
<tr class="separator:a7594acf7604e0bcec4cb67ec9927ac00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf8514dfb66111bc5ebb69c1ade7232"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3cf8514dfb66111bc5ebb69c1ade7232">_trunk_connection_on_shutdown</a> (<a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *conn, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> prev, <a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a> state, void *uctx)</td></tr>
<tr class="memdesc:a3cf8514dfb66111bc5ebb69c1ade7232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection transitioned to the shutdown state.  <a href="#a3cf8514dfb66111bc5ebb69c1ade7232">More...</a><br /></td></tr>
<tr class="separator:a3cf8514dfb66111bc5ebb69c1ade7232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d55a4fb91e548c88147ad879a2d3e5"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a44d55a4fb91e548c88147ad879a2d3e5">_trunk_connection_order_by_shortest_queue</a> (void const *one, void const *two)</td></tr>
<tr class="memdesc:a44d55a4fb91e548c88147ad879a2d3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order connections by queue depth.  <a href="#a44d55a4fb91e548c88147ad879a2d3e5">More...</a><br /></td></tr>
<tr class="separator:a44d55a4fb91e548c88147ad879a2d3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c988bd2dd9051d0fcce3b732a3d3f8b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a1c988bd2dd9051d0fcce3b732a3d3f8b">_trunk_free</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:a1c988bd2dd9051d0fcce3b732a3d3f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a trunk, gracefully closing all connections.  <a href="#a1c988bd2dd9051d0fcce3b732a3d3f8b">More...</a><br /></td></tr>
<tr class="separator:a1c988bd2dd9051d0fcce3b732a3d3f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45442ee137c45c5b4619c65cd4fa4395"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a45442ee137c45c5b4619c65cd4fa4395">_trunk_request_free</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a45442ee137c45c5b4619c65cd4fa4395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actually free the trunk request.  <a href="#a45442ee137c45c5b4619c65cd4fa4395">More...</a><br /></td></tr>
<tr class="separator:a45442ee137c45c5b4619c65cd4fa4395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d74b46e2dd446629de20e3ad3828a5"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a18d74b46e2dd446629de20e3ad3828a5">_trunk_request_prioritise</a> (void const *a, void const *b)</td></tr>
<tr class="memdesc:a18d74b46e2dd446629de20e3ad3828a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two protocol requests.  <a href="#a18d74b46e2dd446629de20e3ad3828a5">More...</a><br /></td></tr>
<tr class="separator:a18d74b46e2dd446629de20e3ad3828a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7407640a03fd78e03cead327892576f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a7407640a03fd78e03cead327892576f1">_trunk_timer</a> (<a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *el, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now, void *uctx)</td></tr>
<tr class="memdesc:a7407640a03fd78e03cead327892576f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event to periodically call the connection management function.  <a href="#a7407640a03fd78e03cead327892576f1">More...</a><br /></td></tr>
<tr class="separator:a7407640a03fd78e03cead327892576f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92dca0b929806311bf7e3a48ab1e11ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a92dca0b929806311bf7e3a48ab1e11ba">fr_trunk_alloc</a> (TALLOC_CTX *ctx, <a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *el, <a class="el" href="trunk_8h.html#structfr__trunk__io__funcs__t">fr_trunk_io_funcs_t</a> const *funcs, <a class="el" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a> const *<a class="el" href="radsniff_8c.html#ae9b08c8e16b52f7ab0e5c13fb7775156">conf</a>, char const *log_prefix, void const *uctx, bool delay_start)</td></tr>
<tr class="memdesc:a92dca0b929806311bf7e3a48ab1e11ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new collection of connections.  <a href="#a92dca0b929806311bf7e3a48ab1e11ba">More...</a><br /></td></tr>
<tr class="separator:a92dca0b929806311bf7e3a48ab1e11ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e6ccfbaf63a45dbae642ebe11bfa0e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a67e6ccfbaf63a45dbae642ebe11bfa0e">fr_trunk_connection_count_by_state</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, int conn_state)</td></tr>
<tr class="memdesc:a67e6ccfbaf63a45dbae642ebe11bfa0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the count number of connections in the specified states.  <a href="#a67e6ccfbaf63a45dbae642ebe11bfa0e">More...</a><br /></td></tr>
<tr class="separator:a67e6ccfbaf63a45dbae642ebe11bfa0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f688617896dc9418d6c972ddb01eea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae9f688617896dc9418d6c972ddb01eea">fr_trunk_connection_in_state</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, int state)</td></tr>
<tr class="memdesc:ae9f688617896dc9418d6c972ddb01eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the trunk connection is in one of the specified states.  <a href="#ae9f688617896dc9418d6c972ddb01eea">More...</a><br /></td></tr>
<tr class="separator:ae9f688617896dc9418d6c972ddb01eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4793e6c5950288e59a61b6cac95bbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#afb4793e6c5950288e59a61b6cac95bbf">fr_trunk_connection_manage_schedule</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:afb4793e6c5950288e59a61b6cac95bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a trunk management event for the next time the event loop is executed.  <a href="#afb4793e6c5950288e59a61b6cac95bbf">More...</a><br /></td></tr>
<tr class="separator:afb4793e6c5950288e59a61b6cac95bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7e0724f1e350d91411accf2f3d2b43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aef7e0724f1e350d91411accf2f3d2b43">fr_trunk_connection_manage_start</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:aef7e0724f1e350d91411accf2f3d2b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow the trunk to open and close connections in response to load.  <a href="#aef7e0724f1e350d91411accf2f3d2b43">More...</a><br /></td></tr>
<tr class="separator:aef7e0724f1e350d91411accf2f3d2b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0e78d99fb37f2a5522253c311ffbd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a0d0e78d99fb37f2a5522253c311ffbd0">fr_trunk_connection_manage_stop</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:a0d0e78d99fb37f2a5522253c311ffbd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the trunk from opening and closing connections in response to load.  <a href="#a0d0e78d99fb37f2a5522253c311ffbd0">More...</a><br /></td></tr>
<tr class="separator:a0d0e78d99fb37f2a5522253c311ffbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410199905c8c7725d87a3d52c6580bbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a410199905c8c7725d87a3d52c6580bbe">fr_trunk_connection_pop_cancellation</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **treq_out, <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a410199905c8c7725d87a3d52c6580bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop a cancellation request off a connection's cancellation queue.  <a href="#a410199905c8c7725d87a3d52c6580bbe">More...</a><br /></td></tr>
<tr class="separator:a410199905c8c7725d87a3d52c6580bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f664d4dc57935a73ef1855900f5a5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a93f664d4dc57935a73ef1855900f5a5b">fr_trunk_connection_pop_request</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **treq_out, <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a93f664d4dc57935a73ef1855900f5a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop a request off a connection's pending queue.  <a href="#a93f664d4dc57935a73ef1855900f5a5b">More...</a><br /></td></tr>
<tr class="separator:a93f664d4dc57935a73ef1855900f5a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67069d7159583ef74d1cd099f2d07f30"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a67069d7159583ef74d1cd099f2d07f30">fr_trunk_connection_requests_requeue</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, int states, uint64_t max, bool fail_bound)</td></tr>
<tr class="memdesc:a67069d7159583ef74d1cd099f2d07f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move requests off of a connection and requeue elsewhere.  <a href="#a67069d7159583ef74d1cd099f2d07f30">More...</a><br /></td></tr>
<tr class="separator:a67069d7159583ef74d1cd099f2d07f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa126ae1972a2089056405f2f7b8b93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a1fa126ae1972a2089056405f2f7b8b93">fr_trunk_connection_signal_active</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a1fa126ae1972a2089056405f2f7b8b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a trunk connection is no longer full.  <a href="#a1fa126ae1972a2089056405f2f7b8b93">More...</a><br /></td></tr>
<tr class="separator:a1fa126ae1972a2089056405f2f7b8b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2e24f88f4b711bc17d9723f53892a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9c2e24f88f4b711bc17d9723f53892a1">fr_trunk_connection_signal_inactive</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a9c2e24f88f4b711bc17d9723f53892a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a trunk connection cannot accept more requests.  <a href="#a9c2e24f88f4b711bc17d9723f53892a1">More...</a><br /></td></tr>
<tr class="separator:a9c2e24f88f4b711bc17d9723f53892a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38296145eead678186a6433af330b35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aa38296145eead678186a6433af330b35">fr_trunk_connection_signal_readable</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:aa38296145eead678186a6433af330b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a trunk connection is readable.  <a href="#aa38296145eead678186a6433af330b35">More...</a><br /></td></tr>
<tr class="separator:aa38296145eead678186a6433af330b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae261bef1f663eb4a697804302be97a93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae261bef1f663eb4a697804302be97a93">fr_trunk_connection_signal_reconnect</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, <a class="el" href="connection_8h.html#ad824f2a71886751c780c24f98b76aa41">fr_connection_reason_t</a> reason)</td></tr>
<tr class="memdesc:ae261bef1f663eb4a697804302be97a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a trunk connection is no longer viable.  <a href="#ae261bef1f663eb4a697804302be97a93">More...</a><br /></td></tr>
<tr class="separator:ae261bef1f663eb4a697804302be97a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4622d45fe16ab018a7ff22f77bfcbcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae4622d45fe16ab018a7ff22f77bfcbcd">fr_trunk_connection_signal_writable</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:ae4622d45fe16ab018a7ff22f77bfcbcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a trunk connection is writable.  <a href="#ae4622d45fe16ab018a7ff22f77bfcbcd">More...</a><br /></td></tr>
<tr class="separator:ae4622d45fe16ab018a7ff22f77bfcbcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5571acb8992857d6c57dfc9919faa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a1c5571acb8992857d6c57dfc9919faa2">fr_trunk_reconnect</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, int states, <a class="el" href="connection_8h.html#ad824f2a71886751c780c24f98b76aa41">fr_connection_reason_t</a> reason)</td></tr>
<tr class="memdesc:a1c5571acb8992857d6c57dfc9919faa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force the trunk to re-establish its connections.  <a href="#a1c5571acb8992857d6c57dfc9919faa2">More...</a><br /></td></tr>
<tr class="separator:a1c5571acb8992857d6c57dfc9919faa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3414dcced7e253ba9d6c4e257b2fd10a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3414dcced7e253ba9d6c4e257b2fd10a">fr_trunk_request_alloc</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request)</td></tr>
<tr class="memdesc:a3414dcced7e253ba9d6c4e257b2fd10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Pre-)Allocate a new trunk request  <a href="#a3414dcced7e253ba9d6c4e257b2fd10a">More...</a><br /></td></tr>
<tr class="separator:a3414dcced7e253ba9d6c4e257b2fd10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0a08064485793b003756b197ca6622"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a4a0a08064485793b003756b197ca6622">fr_trunk_request_count_by_connection</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> const *tconn, int req_state)</td></tr>
<tr class="memdesc:a4a0a08064485793b003756b197ca6622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the count number of requests associated with a trunk connection.  <a href="#a4a0a08064485793b003756b197ca6622">More...</a><br /></td></tr>
<tr class="separator:a4a0a08064485793b003756b197ca6622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcfa1464e022ec96b90b8c975fe13b4"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a6dcfa1464e022ec96b90b8c975fe13b4">fr_trunk_request_count_by_state</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, int conn_state, int req_state)</td></tr>
<tr class="memdesc:a6dcfa1464e022ec96b90b8c975fe13b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a count of requests on a connection in a specific state.  <a href="#a6dcfa1464e022ec96b90b8c975fe13b4">More...</a><br /></td></tr>
<tr class="separator:a6dcfa1464e022ec96b90b8c975fe13b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429d29c8a4a45f6aef6576c668cd9195"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a429d29c8a4a45f6aef6576c668cd9195">fr_trunk_request_enqueue</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **treq_out, <a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *preq, void *rctx)</td></tr>
<tr class="memdesc:a429d29c8a4a45f6aef6576c668cd9195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a request that needs data written to the trunk.  <a href="#a429d29c8a4a45f6aef6576c668cd9195">More...</a><br /></td></tr>
<tr class="separator:a429d29c8a4a45f6aef6576c668cd9195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bad9ebfe3f085c0fb3faeee9e8a46b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a2bad9ebfe3f085c0fb3faeee9e8a46b3">fr_trunk_request_enqueue_on_conn</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **treq_out, <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *preq, void *rctx, bool ignore_limits)</td></tr>
<tr class="memdesc:a2bad9ebfe3f085c0fb3faeee9e8a46b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue additional requests on a specific connection.  <a href="#a2bad9ebfe3f085c0fb3faeee9e8a46b3">More...</a><br /></td></tr>
<tr class="separator:a2bad9ebfe3f085c0fb3faeee9e8a46b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccb4513f4a782e67c8d87c3949f7ff6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a0ccb4513f4a782e67c8d87c3949f7ff6">fr_trunk_request_free</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **treq_to_free)</td></tr>
<tr class="memdesc:a0ccb4513f4a782e67c8d87c3949f7ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the trunk request is freed then update the target requests.  <a href="#a0ccb4513f4a782e67c8d87c3949f7ff6">More...</a><br /></td></tr>
<tr class="separator:a0ccb4513f4a782e67c8d87c3949f7ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e34d33ea58c5c62d64d12c1620b819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a72e34d33ea58c5c62d64d12c1620b819">fr_trunk_request_requeue</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a72e34d33ea58c5c62d64d12c1620b819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-enqueue a request on the same connection.  <a href="#a72e34d33ea58c5c62d64d12c1620b819">More...</a><br /></td></tr>
<tr class="separator:a72e34d33ea58c5c62d64d12c1620b819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22df6123e7ec90e1fafbdab2ed388774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a22df6123e7ec90e1fafbdab2ed388774">fr_trunk_request_signal_cancel</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a22df6123e7ec90e1fafbdab2ed388774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a trunk request.  <a href="#a22df6123e7ec90e1fafbdab2ed388774">More...</a><br /></td></tr>
<tr class="separator:a22df6123e7ec90e1fafbdab2ed388774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a9f060ab945a71549c963550409e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af3a9f060ab945a71549c963550409e87">fr_trunk_request_signal_cancel_complete</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:af3a9f060ab945a71549c963550409e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a remote server acked our cancellation.  <a href="#af3a9f060ab945a71549c963550409e87">More...</a><br /></td></tr>
<tr class="separator:af3a9f060ab945a71549c963550409e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5490c0467c8046f8af5576e0cca9b95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af5490c0467c8046f8af5576e0cca9b95">fr_trunk_request_signal_cancel_partial</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:af5490c0467c8046f8af5576e0cca9b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a partial cancel write.  <a href="#af5490c0467c8046f8af5576e0cca9b95">More...</a><br /></td></tr>
<tr class="separator:af5490c0467c8046f8af5576e0cca9b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11334935e79d8a96c5a0e77b37c93dd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a11334935e79d8a96c5a0e77b37c93dd3">fr_trunk_request_signal_cancel_sent</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a11334935e79d8a96c5a0e77b37c93dd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a remote server has been notified of the cancellation.  <a href="#a11334935e79d8a96c5a0e77b37c93dd3">More...</a><br /></td></tr>
<tr class="separator:a11334935e79d8a96c5a0e77b37c93dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68df84abee6703937fcd841ef75797c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a68df84abee6703937fcd841ef75797c7">fr_trunk_request_signal_complete</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a68df84abee6703937fcd841ef75797c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a trunk request is complete.  <a href="#a68df84abee6703937fcd841ef75797c7">More...</a><br /></td></tr>
<tr class="separator:a68df84abee6703937fcd841ef75797c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac307f0d9ad6fd24637e1a27745521946"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac307f0d9ad6fd24637e1a27745521946">fr_trunk_request_signal_fail</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:ac307f0d9ad6fd24637e1a27745521946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that a trunk request failed.  <a href="#ac307f0d9ad6fd24637e1a27745521946">More...</a><br /></td></tr>
<tr class="separator:ac307f0d9ad6fd24637e1a27745521946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894959f53af966e88a7ea0fda87dc722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a894959f53af966e88a7ea0fda87dc722">fr_trunk_request_signal_partial</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a894959f53af966e88a7ea0fda87dc722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a partial write.  <a href="#a894959f53af966e88a7ea0fda87dc722">More...</a><br /></td></tr>
<tr class="separator:a894959f53af966e88a7ea0fda87dc722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4280399df4f7f50713e75983220b6893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a4280399df4f7f50713e75983220b6893">fr_trunk_request_signal_sent</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a4280399df4f7f50713e75983220b6893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that the request was written to a connection successfully.  <a href="#a4280399df4f7f50713e75983220b6893">More...</a><br /></td></tr>
<tr class="separator:a4280399df4f7f50713e75983220b6893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745237c24d6896132622e9e304680260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a745237c24d6896132622e9e304680260">fr_trunk_request_state_log</a> (<a class="el" href="structfr__log__t.html">fr_log_t</a> const *log, <a class="el" href="lib_2util_2log_8h.html#affd805145b7ef5f1edc308ebb525dd78">fr_log_type_t</a> log_type, char const *<a class="el" href="acutest_8h.html#a29b60fb86c8bb1518f422ccce59448ba">file</a>, int <a class="el" href="acutest_8h.html#ae02820def36ef70995744181ed0e9c4f">line</a>, <a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> const *treq)</td></tr>
<tr class="separator:a745237c24d6896132622e9e304680260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055d797a7b5348770b776a633780ee1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a055d797a7b5348770b776a633780ee1d">fr_trunk_start</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:a055d797a7b5348770b776a633780ee1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the trunk running.  <a href="#a055d797a7b5348770b776a633780ee1d">More...</a><br /></td></tr>
<tr class="separator:a055d797a7b5348770b776a633780ee1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fb27629f37ae75ba241d33cb7f33ca"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a53fb27629f37ae75ba241d33cb7f33ca">trunk_backlog_drain</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:a53fb27629f37ae75ba241d33cb7f33ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drain the backlog of as many requests as possible.  <a href="#a53fb27629f37ae75ba241d33cb7f33ca">More...</a><br /></td></tr>
<tr class="separator:a53fb27629f37ae75ba241d33cb7f33ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760b35001666e51adba8ade225653c61"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a760b35001666e51adba8ade225653c61">trunk_connection_auto_full</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a760b35001666e51adba8ade225653c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatically mark a connection as inactive.  <a href="#a760b35001666e51adba8ade225653c61">More...</a><br /></td></tr>
<tr class="separator:a760b35001666e51adba8ade225653c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebef07daa894102a5268a1ce21965b6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3ebef07daa894102a5268a1ce21965b6">trunk_connection_auto_unfull</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a3ebef07daa894102a5268a1ce21965b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatically mark a connection as active or reconnect it.  <a href="#a3ebef07daa894102a5268a1ce21965b6">More...</a><br /></td></tr>
<tr class="separator:a3ebef07daa894102a5268a1ce21965b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eea2108f3aaf7a16ae8b86404c927fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a0eea2108f3aaf7a16ae8b86404c927fc">trunk_connection_close_if_empty</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *head)</td></tr>
<tr class="memdesc:a0eea2108f3aaf7a16ae8b86404c927fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connections in a particular connection list if they have no requests associated with them.  <a href="#a0eea2108f3aaf7a16ae8b86404c927fc">More...</a><br /></td></tr>
<tr class="separator:a0eea2108f3aaf7a16ae8b86404c927fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77827ab1583f3a13fe628963f6282fb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a77827ab1583f3a13fe628963f6282fb5">trunk_connection_enter_active</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a77827ab1583f3a13fe628963f6282fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection back to the active state.  <a href="#a77827ab1583f3a13fe628963f6282fb5">More...</a><br /></td></tr>
<tr class="separator:a77827ab1583f3a13fe628963f6282fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec4ee0e51060a8296d598b4ee3449d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a7ec4ee0e51060a8296d598b4ee3449d6">trunk_connection_enter_draining</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a7ec4ee0e51060a8296d598b4ee3449d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection to the draining state.  <a href="#a7ec4ee0e51060a8296d598b4ee3449d6">More...</a><br /></td></tr>
<tr class="separator:a7ec4ee0e51060a8296d598b4ee3449d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5ec74157948b2fb10874aa5b3fe3d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aeb5ec74157948b2fb10874aa5b3fe3d6">trunk_connection_enter_draining_to_free</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:aeb5ec74157948b2fb10874aa5b3fe3d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection to the draining-to-reconnect state.  <a href="#aeb5ec74157948b2fb10874aa5b3fe3d6">More...</a><br /></td></tr>
<tr class="separator:aeb5ec74157948b2fb10874aa5b3fe3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6fc19d1e914bf05a27300a5875151a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ab6fc19d1e914bf05a27300a5875151a5">trunk_connection_enter_full</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:ab6fc19d1e914bf05a27300a5875151a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection to the full state.  <a href="#ab6fc19d1e914bf05a27300a5875151a5">More...</a><br /></td></tr>
<tr class="separator:ab6fc19d1e914bf05a27300a5875151a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f2eebe4614ce352e760bb44fb5e63c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a90f2eebe4614ce352e760bb44fb5e63c">trunk_connection_enter_inactive</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a90f2eebe4614ce352e760bb44fb5e63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection to the inactive state.  <a href="#a90f2eebe4614ce352e760bb44fb5e63c">More...</a><br /></td></tr>
<tr class="separator:a90f2eebe4614ce352e760bb44fb5e63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52d32b27b789380f99dc5fc1ec73211"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af52d32b27b789380f99dc5fc1ec73211">trunk_connection_enter_inactive_draining</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:af52d32b27b789380f99dc5fc1ec73211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a connection to the inactive-draining state.  <a href="#af52d32b27b789380f99dc5fc1ec73211">More...</a><br /></td></tr>
<tr class="separator:af52d32b27b789380f99dc5fc1ec73211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaad50225e220cc98d1a1cf5a5941298"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aeaad50225e220cc98d1a1cf5a5941298">trunk_connection_event_update</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:aeaad50225e220cc98d1a1cf5a5941298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the registrations for I/O events we're interested in.  <a href="#aeaad50225e220cc98d1a1cf5a5941298">More...</a><br /></td></tr>
<tr class="separator:aeaad50225e220cc98d1a1cf5a5941298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fabb4c84da4db82026a1f13b72d373"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a55fabb4c84da4db82026a1f13b72d373">trunk_connection_is_full</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a55fabb4c84da4db82026a1f13b72d373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether a trunk connection should currently be considered full.  <a href="#a55fabb4c84da4db82026a1f13b72d373">More...</a><br /></td></tr>
<tr class="separator:a55fabb4c84da4db82026a1f13b72d373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ae56041249d9c2d59053d933ff3416"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#aa4ae56041249d9c2d59053d933ff3416">trunk_connection_readable</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:aa4ae56041249d9c2d59053d933ff3416"><td class="mdescLeft">&#160;</td><td class="mdescRight">A connection is readable.  <a href="#aa4ae56041249d9c2d59053d933ff3416">More...</a><br /></td></tr>
<tr class="separator:aa4ae56041249d9c2d59053d933ff3416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55aeabd0743377eb3f519244d2f10d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af55aeabd0743377eb3f519244d2f10d6">trunk_connection_remove</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:af55aeabd0743377eb3f519244d2f10d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a trunk connection from whichever list it's currently in.  <a href="#af55aeabd0743377eb3f519244d2f10d6">More...</a><br /></td></tr>
<tr class="separator:af55aeabd0743377eb3f519244d2f10d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b49aca0aebe6b7a37e522a1ac715336"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a8b49aca0aebe6b7a37e522a1ac715336">trunk_connection_requests_dequeue</a> (<a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, int states, uint64_t max)</td></tr>
<tr class="memdesc:a8b49aca0aebe6b7a37e522a1ac715336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift requests in the specified states onto new connections.  <a href="#a8b49aca0aebe6b7a37e522a1ac715336">More...</a><br /></td></tr>
<tr class="separator:a8b49aca0aebe6b7a37e522a1ac715336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2fe6b5bbb2452eda599a3fc16472d4d"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac2fe6b5bbb2452eda599a3fc16472d4d">trunk_connection_requests_requeue</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, int states, uint64_t max, bool fail_bound)</td></tr>
<tr class="memdesc:ac2fe6b5bbb2452eda599a3fc16472d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove requests in specified states from a connection, attempting to distribute them to new connections.  <a href="#ac2fe6b5bbb2452eda599a3fc16472d4d">More...</a><br /></td></tr>
<tr class="separator:ac2fe6b5bbb2452eda599a3fc16472d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62baa359a34e9d6dd05554c3e20c8caa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a62baa359a34e9d6dd05554c3e20c8caa">trunk_connection_spawn</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now)</td></tr>
<tr class="memdesc:a62baa359a34e9d6dd05554c3e20c8caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to spawn a new connection.  <a href="#a62baa359a34e9d6dd05554c3e20c8caa">More...</a><br /></td></tr>
<tr class="separator:a62baa359a34e9d6dd05554c3e20c8caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de2af5b1936dcf0f59ddf66d21fb38c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a6de2af5b1936dcf0f59ddf66d21fb38c">trunk_connection_writable</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn)</td></tr>
<tr class="memdesc:a6de2af5b1936dcf0f59ddf66d21fb38c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A connection is writable.  <a href="#a6de2af5b1936dcf0f59ddf66d21fb38c">More...</a><br /></td></tr>
<tr class="separator:a6de2af5b1936dcf0f59ddf66d21fb38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb6d1576f81b578b3090bfa8bb3c366"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a8fb6d1576f81b578b3090bfa8bb3c366">trunk_manage</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now)</td></tr>
<tr class="memdesc:a8fb6d1576f81b578b3090bfa8bb3c366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the algorithm we use to manage requests per connection levels.  <a href="#a8fb6d1576f81b578b3090bfa8bb3c366">More...</a><br /></td></tr>
<tr class="separator:a8fb6d1576f81b578b3090bfa8bb3c366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e72fe5eeeb6fd6ee7184b0db607fd9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a62e72fe5eeeb6fd6ee7184b0db607fd9">trunk_rebalance</a> (<a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk)</td></tr>
<tr class="memdesc:a62e72fe5eeeb6fd6ee7184b0db607fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebalance connections across active trunk members when a new connection becomes active.  <a href="#a62e72fe5eeeb6fd6ee7184b0db607fd9">More...</a><br /></td></tr>
<tr class="separator:a62e72fe5eeeb6fd6ee7184b0db607fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9557c719aa5f6d88bc2da64503c777e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9557c719aa5f6d88bc2da64503c777e2">trunk_request_check_enqueue</a> (<a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> **tconn_out, <a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request)</td></tr>
<tr class="memdesc:a9557c719aa5f6d88bc2da64503c777e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a trunk request can be enqueued.  <a href="#a9557c719aa5f6d88bc2da64503c777e2">More...</a><br /></td></tr>
<tr class="separator:a9557c719aa5f6d88bc2da64503c777e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f207c0dae5e3f74d531c1548305ba4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a44f207c0dae5e3f74d531c1548305ba4">trunk_request_enqueue_existing</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a44f207c0dae5e3f74d531c1548305ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a request which has never been assigned to a connection or was previously cancelled.  <a href="#a44f207c0dae5e3f74d531c1548305ba4">More...</a><br /></td></tr>
<tr class="separator:a44f207c0dae5e3f74d531c1548305ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a952a7836847d02ca2e59ecd9817d95"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a8a952a7836847d02ca2e59ecd9817d95">trunk_request_enter_backlog</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq, bool new)</td></tr>
<tr class="memdesc:a8a952a7836847d02ca2e59ecd9817d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the backlog state, adding it to the backlog of the trunk.  <a href="#a8a952a7836847d02ca2e59ecd9817d95">More...</a><br /></td></tr>
<tr class="separator:a8a952a7836847d02ca2e59ecd9817d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56a1d3856d033bf437fc866c1a1cf77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ac56a1d3856d033bf437fc866c1a1cf77">trunk_request_enter_cancel</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq, <a class="el" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1d">fr_trunk_cancel_reason_t</a> reason)</td></tr>
<tr class="memdesc:ac56a1d3856d033bf437fc866c1a1cf77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the cancel state, placing it in a connection's cancellation list.  <a href="#ac56a1d3856d033bf437fc866c1a1cf77">More...</a><br /></td></tr>
<tr class="separator:ac56a1d3856d033bf437fc866c1a1cf77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3ae979a41f483d1429f5067c7cabdb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a1a3ae979a41f483d1429f5067c7cabdb">trunk_request_enter_cancel_complete</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a1a3ae979a41f483d1429f5067c7cabdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancellation was acked, the request is complete, free it.  <a href="#a1a3ae979a41f483d1429f5067c7cabdb">More...</a><br /></td></tr>
<tr class="separator:a1a3ae979a41f483d1429f5067c7cabdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7daff41fa3e0276032adc83e6565782e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a7daff41fa3e0276032adc83e6565782e">trunk_request_enter_cancel_partial</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a7daff41fa3e0276032adc83e6565782e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the cancel_partial state, placing it in a connection's cancel_partial slot.  <a href="#a7daff41fa3e0276032adc83e6565782e">More...</a><br /></td></tr>
<tr class="separator:a7daff41fa3e0276032adc83e6565782e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d11ac4bceeb1d2ccbc2efd9359b6b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a99d11ac4bceeb1d2ccbc2efd9359b6b0">trunk_request_enter_cancel_sent</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a99d11ac4bceeb1d2ccbc2efd9359b6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the cancel_sent state, placing it in a connection's cancel_sent list.  <a href="#a99d11ac4bceeb1d2ccbc2efd9359b6b0">More...</a><br /></td></tr>
<tr class="separator:a99d11ac4bceeb1d2ccbc2efd9359b6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649e3608119a22b5f9c997243532056a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a649e3608119a22b5f9c997243532056a">trunk_request_enter_complete</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a649e3608119a22b5f9c997243532056a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request completed successfully, inform the API client and free the request.  <a href="#a649e3608119a22b5f9c997243532056a">More...</a><br /></td></tr>
<tr class="separator:a649e3608119a22b5f9c997243532056a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f376618040ed573738a25f97a48fed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae8f376618040ed573738a25f97a48fed">trunk_request_enter_failed</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:ae8f376618040ed573738a25f97a48fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request failed, inform the API client and free the request.  <a href="#ae8f376618040ed573738a25f97a48fed">More...</a><br /></td></tr>
<tr class="separator:ae8f376618040ed573738a25f97a48fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc9a6d8bab4bb46bc0b87e0a3c715ed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#affc9a6d8bab4bb46bc0b87e0a3c715ed">trunk_request_enter_partial</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:affc9a6d8bab4bb46bc0b87e0a3c715ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the partial state, indicating that is has been partially sent.  <a href="#affc9a6d8bab4bb46bc0b87e0a3c715ed">More...</a><br /></td></tr>
<tr class="separator:affc9a6d8bab4bb46bc0b87e0a3c715ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb084310620200de5d2f1cf1ef8f0ee7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#adb084310620200de5d2f1cf1ef8f0ee7">trunk_request_enter_pending</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq, <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *tconn, bool new)</td></tr>
<tr class="memdesc:adb084310620200de5d2f1cf1ef8f0ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the pending state, adding it to the backlog of an active connection.  <a href="#adb084310620200de5d2f1cf1ef8f0ee7">More...</a><br /></td></tr>
<tr class="separator:adb084310620200de5d2f1cf1ef8f0ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25de4b8d6e90f9001b5bc02a0cef5980"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a25de4b8d6e90f9001b5bc02a0cef5980">trunk_request_enter_sent</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a25de4b8d6e90f9001b5bc02a0cef5980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the sent state, indicating that it's been sent in its entirety.  <a href="#a25de4b8d6e90f9001b5bc02a0cef5980">More...</a><br /></td></tr>
<tr class="separator:a25de4b8d6e90f9001b5bc02a0cef5980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0832cb5699c225cb2dcca015bbdbcf22"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a0832cb5699c225cb2dcca015bbdbcf22">trunk_request_enter_unassigned</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a0832cb5699c225cb2dcca015bbdbcf22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition a request to the unassigned state, in preparation for re-assignment.  <a href="#a0832cb5699c225cb2dcca015bbdbcf22">More...</a><br /></td></tr>
<tr class="separator:a0832cb5699c225cb2dcca015bbdbcf22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c049e07e8913dafb84d76e548fa404"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a57c049e07e8913dafb84d76e548fa404">trunk_request_remove_from_conn</a> (<a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq)</td></tr>
<tr class="memdesc:a57c049e07e8913dafb84d76e548fa404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a request from all connection lists.  <a href="#a57c049e07e8913dafb84d76e548fa404">More...</a><br /></td></tr>
<tr class="separator:a57c049e07e8913dafb84d76e548fa404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7253c0a29889b699fd2fe01c640ecfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ad7253c0a29889b699fd2fe01c640ecfd">trunk_request_state_log_entry_add</a> (char const *function, int <a class="el" href="acutest_8h.html#ae02820def36ef70995744181ed0e9c4f">line</a>, <a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *treq, <a class="el" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4e">fr_trunk_request_state_t</a> new)</td></tr>
<tr class="separator:ad7253c0a29889b699fd2fe01c640ecfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da6a65cff3b03e18942d9036c5c3a0a"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3da6a65cff3b03e18942d9036c5c3a0a">trunk_requests_per_connection</a> (uint16_t *conn_count_out, uint32_t *req_count_out, <a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *trunk, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now, <a class="el" href="build_8h.html#a380acaedb152d04b0e3e9fa19a0b484d">NDEBUG_UNUSED</a> bool verify)</td></tr>
<tr class="memdesc:a3da6a65cff3b03e18942d9036c5c3a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update timestamps for when we last had a transition from above target to below target or vice versa.  <a href="#a3da6a65cff3b03e18942d9036c5c3a0a">More...</a><br /></td></tr>
<tr class="separator:a3da6a65cff3b03e18942d9036c5c3a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3d5be3edd4339d254342ef2b682bae67"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a3d5be3edd4339d254342ef2b682bae67">fr_trunk_cancellation_reasons</a> []</td></tr>
<tr class="separator:a3d5be3edd4339d254342ef2b682bae67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d84d907e9728508282decde6031b4b8"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9d84d907e9728508282decde6031b4b8">fr_trunk_cancellation_reasons_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a3d5be3edd4339d254342ef2b682bae67">fr_trunk_cancellation_reasons</a>)</td></tr>
<tr class="separator:a9d84d907e9728508282decde6031b4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8873963fb2c86e66c2b590b21c9c716e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a8873963fb2c86e66c2b590b21c9c716e">fr_trunk_config</a> []</td></tr>
<tr class="memdesc:a8873963fb2c86e66c2b590b21c9c716e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config parser definitions to populate a <a class="el" href="trunk_8h.html#structfr__trunk__conf__t" title="Common configuration parameters for a trunk. ">fr_trunk_conf_t</a>.  <a href="#a8873963fb2c86e66c2b590b21c9c716e">More...</a><br /></td></tr>
<tr class="separator:a8873963fb2c86e66c2b590b21c9c716e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50becf17933eb223fe6523d557bd2929"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a50becf17933eb223fe6523d557bd2929">fr_trunk_config_connection</a> []</td></tr>
<tr class="separator:a50becf17933eb223fe6523d557bd2929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab21f8d900e16d88047615452a62239"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#acab21f8d900e16d88047615452a62239">fr_trunk_config_request</a> []</td></tr>
<tr class="separator:acab21f8d900e16d88047615452a62239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8309c7de443e94a1201baa3ec3aa771"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__indexed__bit__pos__t">fr_table_num_indexed_bit_pos_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ae8309c7de443e94a1201baa3ec3aa771">fr_trunk_conn_trigger_names</a> []</td></tr>
<tr class="memdesc:ae8309c7de443e94a1201baa3ec3aa771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map connection states to trigger names.  <a href="#ae8309c7de443e94a1201baa3ec3aa771">More...</a><br /></td></tr>
<tr class="separator:ae8309c7de443e94a1201baa3ec3aa771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b71c21c9eba67e7333edd57bbeb63aa"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9b71c21c9eba67e7333edd57bbeb63aa">fr_trunk_conn_trigger_names_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#ae8309c7de443e94a1201baa3ec3aa771">fr_trunk_conn_trigger_names</a>)</td></tr>
<tr class="separator:a9b71c21c9eba67e7333edd57bbeb63aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf16ff6ad5800fa0a4166cb8b5d2e68"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a6cf16ff6ad5800fa0a4166cb8b5d2e68">fr_trunk_connection_events</a> []</td></tr>
<tr class="separator:a6cf16ff6ad5800fa0a4166cb8b5d2e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19028dbe3d6776e62298cb9e82a496f"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#ad19028dbe3d6776e62298cb9e82a496f">fr_trunk_connection_events_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a6cf16ff6ad5800fa0a4166cb8b5d2e68">fr_trunk_connection_events</a>)</td></tr>
<tr class="separator:ad19028dbe3d6776e62298cb9e82a496f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14049b409bdbe4a784e37d447531c562"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a> []</td></tr>
<tr class="separator:a14049b409bdbe4a784e37d447531c562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6427debae86f8c05f3bfe5a6b1ad7b"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#acc6427debae86f8c05f3bfe5a6b1ad7b">fr_trunk_connection_states_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>)</td></tr>
<tr class="separator:acc6427debae86f8c05f3bfe5a6b1ad7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4c6f6bcc7e05624f5ae9b3d7b30f03"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__indexed__bit__pos__t">fr_table_num_indexed_bit_pos_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">fr_trunk_req_trigger_names</a> []</td></tr>
<tr class="memdesc:a0c4c6f6bcc7e05624f5ae9b3d7b30f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map request states to trigger names.  <a href="#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">More...</a><br /></td></tr>
<tr class="separator:a0c4c6f6bcc7e05624f5ae9b3d7b30f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9104c2c2c9bca5e087dbf905e8003d0e"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a9104c2c2c9bca5e087dbf905e8003d0e">fr_trunk_req_trigger_names_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">fr_trunk_req_trigger_names</a>)</td></tr>
<tr class="separator:a9104c2c2c9bca5e087dbf905e8003d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb70d2caa5639591b66f338210df027"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a> []</td></tr>
<tr class="separator:a7bb70d2caa5639591b66f338210df027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3519c507fab1606153011e719a4bbf2"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#af3519c507fab1606153011e719a4bbf2">fr_trunk_request_states_len</a> = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>)</td></tr>
<tr class="separator:af3519c507fab1606153011e719a4bbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c139f073496b04b0c9d10417ecc156"><td class="memItemLeft" align="right" valign="top">static atomic_uint_fast64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trunk_8c.html#a00c139f073496b04b0c9d10417ecc156">request_counter</a> = <a class="el" href="stdatomic_8h.html#ad501bafcd2074b392f630497545de87d">ATOMIC_VAR_INIT</a>(1)</td></tr>
<tr class="separator:a00c139f073496b04b0c9d10417ecc156"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A management API for bonding multiple connections together. </p>
<dl class="section rcs"><dt>Id</dt><dd>9937ca3c5dd0b1da5fbc8f29c43935a3ddc53eee </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2019-2020 Arran Cudbard-Bell (<a href="#" onclick="location.href='mai'+'lto:'+'a.c'+'ud'+'bar'+'db'+'@fr'+'ee'+'rad'+'iu'+'s.o'+'rg'; return false;">a.cud<span style="display: none;">.nosp@m.</span>bard<span style="display: none;">.nosp@m.</span>b@fre<span style="display: none;">.nosp@m.</span>erad<span style="display: none;">.nosp@m.</span>ius.o<span style="display: none;">.nosp@m.</span>rg</a>) </dd>
<dd>
2019-2020 The FreeRADIUS server project</dd></dl>
<dl class="section rcs"><dt>Id</dt><dd>b07f05285dad43777c303067dbb487056f26060e </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2019-2020 Arran Cudbard-Bell (<a href="#" onclick="location.href='mai'+'lto:'+'a.c'+'ud'+'bar'+'db'+'@fr'+'ee'+'rad'+'iu'+'s.o'+'rg'; return false;">a.cud<span style="display: none;">.nosp@m.</span>bard<span style="display: none;">.nosp@m.</span>b@fre<span style="display: none;">.nosp@m.</span>erad<span style="display: none;">.nosp@m.</span>ius.o<span style="display: none;">.nosp@m.</span>rg</a>) </dd>
<dd>
2019-2020 The FreeRADIUS server project </dd></dl>

<p class="definition">Definition in file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structfr__trunk__connection__s" id="structfr__trunk__connection__s"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__trunk__connection__s">&#9670;&nbsp;</a></span>fr_trunk_connection_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_trunk_connection_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Associates request queues with a connection. </p>
<p><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_trunk_conn.svg" width="2292" height="2327"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
Trunk connection state machine</div>
</div>
</p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00127">127</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_trunk_connection_s:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structfr__trunk__connection__s__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a670bf15d84b585f34fc3b8d2236a14c9"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
cancel</td>
<td class="fielddoc">
Requests in the cancel state. </td></tr>
<tr><td class="fieldtype">
<a id="aa54a1b3c43f6ce6f03296bc890edb60c"></a><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *</td>
<td class="fieldname">
cancel_partial</td>
<td class="fielddoc">
Partially written cancellation request. </td></tr>
<tr><td class="fieldtype">
<a id="a68c3b795bce76b250a7dac53d0698178"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
cancel_sent</td>
<td class="fielddoc">
Sent cancellation request. </td></tr>
<tr><td class="fieldtype">
<a id="a20fde46d0ea7315af28c84b1ea9debb6"></a><a class="el" href="dlist_8h.html#a7fab5887d1be477b9513ddb73d2d726f">fr_dlist_t</a></td>
<td class="fieldname">
entry</td>
<td class="fielddoc">
Used to track the connection in the connecting, full and failed lists. </td></tr>
<tr><td class="fieldtype">
<a id="a5f26a6d1e1b268f97254dd06961320a5"></a><a class="el" href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6">fr_trunk_connection_event_t</a></td>
<td class="fieldname">
events</td>
<td class="fielddoc">
The current events we expect to be notified on. </td></tr>
<tr><td class="fieldtype">
<a id="a97a433425d6d8fece695befc2fd6b0c1"></a>int32_t</td>
<td class="fieldname">
heap_id</td>
<td class="fielddoc">
Used to track the connection in the connected heap. </td></tr>
<tr><td class="fieldtype">
<a id="a6c06df2e740986646b46cdf742e87766"></a><a class="el" href="event_8h.html#a27c6e7349925b4c501d00d0f3f8d1550">fr_event_timer_t</a> const  *</td>
<td class="fieldname">
lifetime_ev</td>
<td class="fielddoc">
Maximum time this connection can be open. </td></tr>
<tr><td class="fieldtype">
<a id="a773115ca4927ca531a351796c9d0f77d"></a><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *</td>
<td class="fieldname">
partial</td>
<td class="fielddoc">
Partially written request. </td></tr>
<tr><td class="fieldtype">
<a id="ae544722e041c22b331e0b871bb5876aa"></a><a class="el" href="heap_8h.html#aba9d95442e5a2c85ef57dfc59d494663">fr_heap_t</a> *</td>
<td class="fieldname">
pending</td>
<td class="fielddoc">
Requests waiting to be sent. </td></tr>
<tr><td class="fieldtype">
<a id="a2f03575b1870f0f147879217a476957f"></a>struct <a class="el" href="trunk_8h.html#structfr__trunk__connection__pub__s">fr_trunk_connection_pub_s</a></td>
<td class="fieldname">
pub</td>
<td class="fielddoc">
Public fields in the trunk connection. <p>This <em>MUST</em> be the first field in this structure. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="af99a128bececb756f4c169ade59448fb"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
sent</td>
<td class="fielddoc">
Sent request. </td></tr>
<tr><td class="fieldtype">
<a id="ab74160e6eafe3bb8f06e1e7077cb4521"></a>uint64_t</td>
<td class="fieldname">
sent_count</td>
<td class="fielddoc">
The number of requests that have been sent using this connection. </td></tr>
</table>

</div>
</div>
<a name="structfr__trunk__request__s" id="structfr__trunk__request__s"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__trunk__request__s">&#9670;&nbsp;</a></span>fr_trunk_request_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_trunk_request_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Wraps a normal request. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00098">98</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
</div><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_trunk_request_s:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structfr__trunk__request__s__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a552c06e2be8f8dbc9eb34632184956ba"></a>bool</td>
<td class="fieldname">
bound_to_conn</td>
<td class="fielddoc">
Fail the request if there's an attempt to re-enqueue it. </td></tr>
<tr><td class="fieldtype">
<a id="a6bea9bef7bf98002281d1e348e405942"></a><a class="el" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1d">fr_trunk_cancel_reason_t</a></td>
<td class="fieldname">
cancel_reason</td>
<td class="fielddoc">
Why this request was cancelled. </td></tr>
<tr><td class="fieldtype">
<a id="ac8423d59bb31771de491975c7405690b"></a><a class="el" href="dlist_8h.html#a7fab5887d1be477b9513ddb73d2d726f">fr_dlist_t</a></td>
<td class="fieldname">
entry</td>
<td class="fielddoc">
Used to track the trunk request in the conn-&gt;sent or trunk-&gt;backlog request. </td></tr>
<tr><td class="fieldtype">
<a id="a71186fe20ad69447fa8713379b8cef8e"></a>int32_t</td>
<td class="fieldname">
heap_id</td>
<td class="fielddoc">
Used to track the request conn-&gt;pending heap. </td></tr>
<tr><td class="fieldtype">
<a id="adaed1dd6723e0fa8880b6c50bc69f52a"></a>uint64_t</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
Trunk request ID. </td></tr>
<tr><td class="fieldtype">
<a id="ad63a52fe8635f8cc274cdd307bfcaf08"></a><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a></td>
<td class="fieldname">
last_freed</td>
<td class="fielddoc">
Last time this request was freed. </td></tr>
<tr><td class="fieldtype">
<a id="adb22f338366d0fabf7b4b4fab4801da1"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
log</td>
<td class="fielddoc">
State change log. </td></tr>
<tr><td class="fieldtype">
<a id="ac0798e826875a366238d75a6d508ddd6"></a>struct <a class="el" href="trunk_8h.html#structfr__trunk__request__pub__s">fr_trunk_request_pub_s</a></td>
<td class="fieldname">
pub</td>
<td class="fielddoc">
Public fields in the trunk request. <p>This <em>MUST</em> be the first field in this structure. </p>
</td></tr>
</table>

</div>
</div>
<a name="structfr__trunk__request__state__log__t" id="structfr__trunk__request__state__log__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__trunk__request__state__log__t">&#9670;&nbsp;</a></span>fr_trunk_request_state_log_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_trunk_request_state_log_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Trace state machine changes for a particular request. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00075">75</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
</div><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_trunk_request_state_log_t:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structfr__trunk__request__state__log__t__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a63d275a6688b5e6b28f117a1b0c3aec2"></a><a class="el" href="dlist_8h.html#a7fab5887d1be477b9513ddb73d2d726f">fr_dlist_t</a></td>
<td class="fieldname">
entry</td>
<td class="fielddoc">
Entry in the linked list. </td></tr>
<tr><td class="fieldtype">
<a id="a5604e7e1df4b04088b09bbcd7559130a"></a><a class="el" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4e">fr_trunk_request_state_t</a></td>
<td class="fieldname">
from</td>
<td class="fielddoc">
What state we transitioned from. </td></tr>
<tr><td class="fieldtype">
<a id="a8b9019d0ac432f673559df45a6a84dbc"></a>char const  *</td>
<td class="fieldname">
function</td>
<td class="fielddoc">
State change occurred in. </td></tr>
<tr><td class="fieldtype">
<a id="aab165d1325f9f47834b271e01a8a48d7"></a>int</td>
<td class="fieldname">
line</td>
<td class="fielddoc">
Line change occurred on. </td></tr>
<tr><td class="fieldtype">
<a id="a97021b581562ff7fc76a41ebff20f66f"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *</td>
<td class="fieldname">
log_head</td>
<td class="fielddoc">
To allow the log entry to remove itself on free. </td></tr>
<tr><td class="fieldtype">
<a id="a26d86b026f0c7f0fe85ee890c0569190"></a><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *</td>
<td class="fieldname">
tconn</td>
<td class="fielddoc">
The request was associated with. <p>Pointer may now be invalid, do no de-reference. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a0c29d6461fdf53e64048c23e9e24798b"></a>uint64_t</td>
<td class="fieldname">
tconn_id</td>
<td class="fielddoc">
If the treq was associated with a connection the connection ID. </td></tr>
<tr><td class="fieldtype">
<a id="a8409c78bbeca142bbf3b002e0eedcdbe"></a><a class="el" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9c">fr_trunk_connection_state_t</a></td>
<td class="fieldname">
tconn_state</td>
<td class="fielddoc">
If the treq was associated with a connection the connection state at the time of the state transition. </td></tr>
<tr><td class="fieldtype">
<a id="ad0fe6b3feb69cc054d9d58e9626a77ed"></a><a class="el" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4e">fr_trunk_request_state_t</a></td>
<td class="fieldname">
to</td>
<td class="fielddoc">
What state we transitioned to. </td></tr>
</table>

</div>
</div>
<a name="structfr__trunk__s" id="structfr__trunk__s"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__trunk__s">&#9670;&nbsp;</a></span>fr_trunk_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_trunk_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Main trunk management handle. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00177">177</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
</div><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_trunk_s:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structfr__trunk__s__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="acaaf8d8eea59c0cf88ddfcbd4f926349"></a><a class="el" href="heap_8h.html#aba9d95442e5a2c85ef57dfc59d494663">fr_heap_t</a> *</td>
<td class="fieldname">
active</td>
<td class="fielddoc">
Connections which can service requests. </td></tr>
<tr><td class="fieldtype">
<a id="a2e40873b001a6ecd78d5486f4c675de6"></a><a class="el" href="heap_8h.html#aba9d95442e5a2c85ef57dfc59d494663">fr_heap_t</a> *</td>
<td class="fieldname">
backlog</td>
<td class="fielddoc">
The request backlog. <p>Requests we couldn't immediately assign to a connection. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a3825f14fbae490b156775a9be7d97e37"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
closed</td>
<td class="fielddoc">
Connections that have closed. <p>Either due to shutdown, reconnection or failure. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="afbd943812b5097862fdd39cc9e7d24dc"></a><a class="el" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a></td>
<td class="fieldname">
conf</td>
<td class="fielddoc">
Trunk common configuration. </td></tr>
<tr><td class="fieldtype">
<a id="a19bdd08b369b5247d2edfab5a6c533d5"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
connecting</td>
<td class="fielddoc">
Connections which are not yet in the open state. </td></tr>
<tr><td class="fieldtype">
<a id="ae9dad2f7deae8232e4f39ac22e06347b"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
draining</td>
<td class="fielddoc">
Connections that will be freed once all their requests are complete, but can be reactivated. </td></tr>
<tr><td class="fieldtype">
<a id="abb53a9839979bcc2015fecef08e3e45f"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
draining_to_free</td>
<td class="fielddoc">
Connections that will be freed once all their requests are complete. </td></tr>
<tr><td class="fieldtype">
<a id="aeb91baf12ab275fdbc78453f2decf360"></a><a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *</td>
<td class="fieldname">
el</td>
<td class="fielddoc">
Event list used by this trunk and the connection. </td></tr>
<tr><td class="fieldtype">
<a id="a1d3cba5b63c8ef1cc91cfaa148a5bbc1"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
failed</td>
<td class="fielddoc">
Connections that'll be reconnected shortly. </td></tr>
<tr><td class="fieldtype">
<a id="a02d76f88cad610e03860286addb9205d"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
free_requests</td>
<td class="fielddoc">
Requests in the unassigned state. <p>Waiting to be enqueued. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a3ce41f94d86b00c191b85e12f7b707f7"></a>bool</td>
<td class="fieldname">
freeing</td>
<td class="fielddoc">
Trunk is being freed, don't spawn new connections or re-enqueue. </td></tr>
<tr><td class="fieldtype">
<a id="a9a7ee895db0eb0ce64e698fdf7187edd"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
full</td>
<td class="fielddoc">
Connections which have too many outstanding requests. </td></tr>
<tr><td class="fieldtype">
<a id="a688c993436d0a9eeb628f13a2fcd1ae5"></a><a class="el" href="trunk_8h.html#structfr__trunk__io__funcs__t">fr_trunk_io_funcs_t</a></td>
<td class="fieldname">
funcs</td>
<td class="fielddoc">
I/O functions. </td></tr>
<tr><td class="fieldtype">
<a id="a98e6002998f9f1fe66f340e54cc55164"></a>void *</td>
<td class="fieldname">
in_handler</td>
<td class="fielddoc">
Which handler we're inside. </td></tr>
<tr><td class="fieldtype">
<a id="a0bb8ff6d62907819afa38000fd5883cd"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
inactive</td>
<td class="fielddoc">
Connections which have been signalled to be inactive by the API client. </td></tr>
<tr><td class="fieldtype">
<a id="a007481e65880708556f102240df5d6eb"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
inactive_draining</td>
<td class="fielddoc">
Connections which have been signalled to be inactive by the API client, which the trunk manager is draining to close. </td></tr>
<tr><td class="fieldtype">
<a id="afcbf17ef61666460dba5f58da0686d97"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
init</td>
<td class="fielddoc">
Connections which have not yet started connecting. </td></tr>
<tr><td class="fieldtype">
<a id="ad2b29317a27a91dfbd90e047a180a41d"></a>uint64_t</td>
<td class="fieldname">
last_req_per_conn</td>
<td class="fielddoc">
The last request to connection ratio we calculated. </td></tr>
<tr><td class="fieldtype">
<a id="a6e61b18f9a7ae9564d4b0c7c34604cab"></a><a class="el" href="lib_2server_2log_8h.html#structfr__rate__limit__t">fr_rate_limit_t</a></td>
<td class="fieldname">
limit_last_failure_log</td>
<td class="fielddoc">
Rate limit on "Refusing to enqueue requests - No active conns". </td></tr>
<tr><td class="fieldtype">
<a id="a54dae6017ef1f8967d14206ef1a4babb"></a><a class="el" href="lib_2server_2log_8h.html#structfr__rate__limit__t">fr_rate_limit_t</a></td>
<td class="fieldname">
limit_max_requests_alloc_log</td>
<td class="fielddoc">
Rate limit on "Refusing to alloc requests - Limit of * requests reached". </td></tr>
<tr><td class="fieldtype">
<a id="aa8eca3b7122c72478e00c2b709d8e52e"></a>char const  *</td>
<td class="fieldname">
log_prefix</td>
<td class="fielddoc">
What to prepend to messages. </td></tr>
<tr><td class="fieldtype">
<a id="a7844aacb96a7571b72f7a8fd68f3c4c4"></a><a class="el" href="event_8h.html#a27c6e7349925b4c501d00d0f3f8d1550">fr_event_timer_t</a> const  *</td>
<td class="fieldname">
manage_ev</td>
<td class="fielddoc">
Periodic connection management event. </td></tr>
<tr><td class="fieldtype">
<a id="aecf0af7a3fe911ff3c93fd6fdbf2ac80"></a>bool</td>
<td class="fieldname">
managing_connections</td>
<td class="fielddoc">
Whether the trunk is allowed to manage (open/close) connections. </td></tr>
<tr><td class="fieldtype">
<a id="a1be93dd217f57f6fa75054c18f4ef648"></a>struct <a class="el" href="trunk_8h.html#structfr__trunk__pub__s">fr_trunk_pub_s</a></td>
<td class="fieldname">
pub</td>
<td class="fielddoc">
Public fields in the trunk connection. <p>This <em>MUST</em> be the first field in this structure. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ac68b67244bddd53e5baf52ad4daaa45f"></a>bool</td>
<td class="fieldname">
started</td>
<td class="fielddoc">
Has the trunk been started. </td></tr>
<tr><td class="fieldtype">
<a id="a8062d0069e3425f0325e8cfa907708e8"></a><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a></td>
<td class="fieldname">
to_free</td>
<td class="fielddoc">
Connections we're done with and will free on the next call to trunk_manage. <p>This prevents connections from being freed whilst we're inside callbacks. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a7535fb6220750162aeb70ab5f0571ed0"></a>void *</td>
<td class="fieldname">
uctx</td>
<td class="fielddoc">
Uctx data to pass to alloc. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a745db0fcbef1e76908de4194d1f20d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745db0fcbef1e76908de4194d1f20d77">&#9670;&nbsp;</a></span>_TRUNK_PRIVATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> _TRUNK_PRIVATE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00037">37</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ae115c8e0b28dbda2112600f1a03e96c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae115c8e0b28dbda2112600f1a03e96c2">&#9670;&nbsp;</a></span>CONN_BAD_STATE_TRANSITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> CONN_BAD_STATE_TRANSITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_new</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if (!<a class="code" href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a>(0, <span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Trunk connection invalid transition %s -&gt; %s&quot;</span>, \</div><div class="line">                                tconn-&gt;pub.conn-&gt;id, \</div><div class="line">                                <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>, tconn-&gt;pub.state, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>),       \</div><div class="line">                                <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>, _new, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>))) <a class="code" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;  \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="trunk_8c_html_a14049b409bdbe4a784e37d447531c562"><div class="ttname"><a href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_connection_states[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00364">trunk.c:364</a></div></div>
<div class="ttc" id="debug_8h_html_aa7e7314a1e6ad45c1b58c1065b65afad"><div class="ttname"><a href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a></div><div class="ttdeci">#define fr_cond_assert_msg(_x, _fmt,...)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00153">debug.h:153</a></div></div>
<div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">return</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00425">rlm_securid.c:425</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00412">412</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a032f39200a23c20ac1e2c6ad21a4ce6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032f39200a23c20ac1e2c6ad21a4ce6c">&#9670;&nbsp;</a></span>CONN_REORDER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> CONN_REORDER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        int _ret; \</div><div class="line">        if ((<a class="code" href="heap_8c.html#a3090137dd1e54a14bf4fc24f373c7627">fr_heap_num_elements</a>((_tconn)-&gt;pub.trunk-&gt;active) == 1)) <a class="code" href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>; \</div><div class="line">        <a class="code" href="acutest_8h.html#a8e9dc24bf3e8d87394046aef2654847f">if</a> (!<a class="code" href="debug_8h.html#a26edf45cf60b105025415ee22bd45d0b">fr_cond_assert</a>((_tconn)-&gt;pub.state == <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a>)) <a class="code" href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>; \</div><div class="line">        _ret = <a class="code" href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a>((_tconn)-&gt;pub.trunk-&gt;active, (_tconn)); \</div><div class="line">        <a class="code" href="acutest_8h.html#a8e9dc24bf3e8d87394046aef2654847f">if</a> (!<a class="code" href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a>(_ret == 0, &quot;Failed extracting conn from active heap: %s&quot;, <a class="code" href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a>())) break; \</div><div class="line">        <a class="code" href="heap_8c.html#a09453d7e857bdc6018b0bf3a3502610f">fr_heap_insert</a>((_tconn)-&gt;pub.trunk-&gt;active, (_tconn)); \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="heap_8c_html_a2071e6c3699b74317dc7968e377fdced"><div class="ttname"><a href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a></div><div class="ttdeci">int fr_heap_extract(fr_heap_t *hp, void *data)</div><div class="ttdoc">Remove a node from the heap. </div><div class="ttdef"><b>Definition:</b> <a href="heap_8c_source.html#l00214">heap.c:214</a></div></div>
<div class="ttc" id="debug_8h_html_a26edf45cf60b105025415ee22bd45d0b"><div class="ttname"><a href="debug_8h.html#a26edf45cf60b105025415ee22bd45d0b">fr_cond_assert</a></div><div class="ttdeci">#define fr_cond_assert(_x)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00136">debug.h:136</a></div></div>
<div class="ttc" id="debug_8h_html_aa7e7314a1e6ad45c1b58c1065b65afad"><div class="ttname"><a href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a></div><div class="ttdeci">#define fr_cond_assert_msg(_x, _fmt,...)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00153">debug.h:153</a></div></div>
<div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="heap_8c_html_a3090137dd1e54a14bf4fc24f373c7627"><div class="ttname"><a href="heap_8c.html#a3090137dd1e54a14bf4fc24f373c7627">fr_heap_num_elements</a></div><div class="ttdeci">uint32_t fr_heap_num_elements(fr_heap_t *hp)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8c_source.html#l00311">heap.c:311</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a></div><div class="ttdoc">Connection is connected and ready to service requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00084">trunk.h:84</a></div></div>
<div class="ttc" id="strerror_8c_html_a83ee876ee41b1ae672dc4dcda4f02a2e"><div class="ttname"><a href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a></div><div class="ttdeci">char const  * fr_strerror(void)</div><div class="ttdoc">Get the last library error. </div><div class="ttdef"><b>Definition:</b> <a href="strerror_8c_source.html#l00328">strerror.c:328</a></div></div>
<div class="ttc" id="heap_8c_html_a09453d7e857bdc6018b0bf3a3502610f"><div class="ttname"><a href="heap_8c.html#a09453d7e857bdc6018b0bf3a3502610f">fr_heap_insert</a></div><div class="ttdeci">int fr_heap_insert(fr_heap_t *hp, void *data)</div><div class="ttdoc">Insert a new element into the heap. </div><div class="ttdef"><b>Definition:</b> <a href="heap_8c_source.html#l00118">heap.c:118</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a91cf6fbebedd86150a36e5ac3d5d3bfc"><div class="ttname"><a href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a></div><div class="ttdeci">break</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00421">rlm_securid.c:421</a></div></div>
<div class="ttc" id="acutest_8h_html_a8e9dc24bf3e8d87394046aef2654847f"><div class="ttname"><a href="acutest_8h.html#a8e9dc24bf3e8d87394046aef2654847f">if</a></div><div class="ttdeci">if(!test_colorize__)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00483">acutest.h:483</a></div></div>
</div><!-- fragment -->
<p>Reorder the connections in the active heap. </p>
<p>fr_heap_extract will also error out if heap_id is bad - no need for assert </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00682">682</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a3137e313d145842dad1eb79d5b11312c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3137e313d145842dad1eb79d5b11312c">&#9670;&nbsp;</a></span>CONN_STATE_TRANSITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> CONN_STATE_TRANSITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_new, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_log&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        _log(<span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Trunk connection changed state %s -&gt; %s&quot;</span>, \</div><div class="line">             tconn-&gt;pub.conn-&gt;id, \</div><div class="line">             <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>, tconn-&gt;pub.state, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), \</div><div class="line">             <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>, _new, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>)); \</div><div class="line">        tconn-&gt;pub.state = _new; \</div><div class="line">        CONN_TRIGGER(_new); \</div><div class="line">        trunk_requests_per_connection(NULL, NULL, trunk, <a class="code" href="lib_2util_2event_8c.html#a8b40b03267b98b528031ff1bc2a1ff19">fr_time</a>(), <span class="keyword">false</span>); \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trunk_8c_html_a14049b409bdbe4a784e37d447531c562"><div class="ttname"><a href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_connection_states[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00364">trunk.c:364</a></div></div>
<div class="ttc" id="lib_2util_2event_8c_html_a8b40b03267b98b528031ff1bc2a1ff19"><div class="ttname"><a href="lib_2util_2event_8c.html#a8b40b03267b98b528031ff1bc2a1ff19">fr_time</a></div><div class="ttdeci">#define fr_time()</div><div class="ttdef"><b>Definition:</b> <a href="lib_2util_2event_8c_source.html#l00060">event.c:60</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00401">401</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="abf7658e07bb8aa52df3c6ee70a927808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7658e07bb8aa52df3c6ee70a927808">&#9670;&nbsp;</a></span>CONN_TRIGGER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> CONN_TRIGGER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if (trunk-&gt;pub.triggers) { \</div><div class="line">                trigger_exec(NULL, NULL, <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#ae8309c7de443e94a1201baa3ec3aa771">fr_trunk_conn_trigger_names</a>, _state, \</div><div class="line">                                                               <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), <span class="keyword">true</span>, NULL); \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trunk_8c_html_ae8309c7de443e94a1201baa3ec3aa771"><div class="ttname"><a href="trunk_8c.html#ae8309c7de443e94a1201baa3ec3aa771">fr_trunk_conn_trigger_names</a></div><div class="ttdeci">static fr_table_num_indexed_bit_pos_t const fr_trunk_conn_trigger_names[]</div><div class="ttdoc">Map connection states to trigger names. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00350">trunk.c:350</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00394">394</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="adeb79474c0b5327058dec0e3eb2dd19d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb79474c0b5327058dec0e3eb2dd19d">&#9670;&nbsp;</a></span>COUNT_BY_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> COUNT_BY_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_list&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if (conn_state &amp; (_state)) { \</div><div class="line">                tconn = NULL; \</div><div class="line">                while ((tconn = <a class="code" href="dlist_8h.html#a40536da1ca43d3e72807a3bf8a9b7841">fr_dlist_next</a>(&amp;trunk-&gt;_list, tconn))) { \</div><div class="line">                        count += <a class="code" href="trunk_8c.html#a4a0a08064485793b003756b197ca6622">fr_trunk_request_count_by_connection</a>(tconn, req_state); \</div><div class="line">                } \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span> (0);</div><div class="ttc" id="trunk_8c_html_a4a0a08064485793b003756b197ca6622"><div class="ttname"><a href="trunk_8c.html#a4a0a08064485793b003756b197ca6622">fr_trunk_request_count_by_connection</a></div><div class="ttdeci">uint32_t fr_trunk_request_count_by_connection(fr_trunk_connection_t const *tconn, int req_state)</div><div class="ttdoc">Return the count number of requests associated with a trunk connection. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l02553">trunk.c:2553</a></div></div>
<div class="ttc" id="dlist_8h_html_a40536da1ca43d3e72807a3bf8a9b7841"><div class="ttname"><a href="dlist_8h.html#a40536da1ca43d3e72807a3bf8a9b7841">fr_dlist_next</a></div><div class="ttdeci">static void * fr_dlist_next(fr_dlist_head_t const *list_head, void const *ptr)</div><div class="ttdoc">Get the next item in a list. </div><div class="ttdef"><b>Definition:</b> <a href="dlist_8h_source.html#l00290">dlist.h:290</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3cd48d6db4490ecff8303eed7b17f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3cd48d6db4490ecff8303eed7b17f7e">&#9670;&nbsp;</a></span>DEQUEUE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DEQUEUE_ALL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_src_list, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">while</span> ((treq = <a class="code" href="dlist_8h.html#a90c9ea299e869c463ab8109410112a97">fr_dlist_head</a>(_src_list))) { \</div><div class="line">                OVER_MAX_CHECK; \</div><div class="line">                fr_assert(treq-&gt;pub.state == (_state)); \</div><div class="line">                trunk_request_enter_unassigned(treq); \</div><div class="line">                fr_dlist_insert_tail(<a class="code" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, treq); \</div><div class="line">        }</div><div class="ttc" id="dlist_8h_html_a90c9ea299e869c463ab8109410112a97"><div class="ttname"><a href="dlist_8h.html#a90c9ea299e869c463ab8109410112a97">fr_dlist_head</a></div><div class="ttdeci">static void * fr_dlist_head(fr_dlist_head_t const *list_head)</div><div class="ttdoc">Return the HEAD item of a list or NULL if the list is empty. </div><div class="ttdef"><b>Definition:</b> <a href="dlist_8h_source.html#l00221">dlist.h:221</a></div></div>
<div class="ttc" id="value_8h_html_af17d2d4e72bd60de680d3f4a29a1275f"><div class="ttname"><a href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a></div><div class="ttdeci">static size_t char ** out</div><div class="ttdef"><b>Definition:</b> <a href="value_8h_source.html#l00750">value.h:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86c2644dbf0ff4defb50b273a853bfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c2644dbf0ff4defb50b273a853bfea">&#9670;&nbsp;</a></span>DO_CONNECTION_ALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_CONNECTION_ALLOC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        void *_prev = trunk-&gt;in_handler; \</div><div class="line">        DEBUG3(<span class="stringliteral">&quot;Calling connection_alloc(tconn=%p, el=%p, conf=%p, log_prefix=\&quot;%s\&quot;, uctx=%p)&quot;</span>, \</div><div class="line">               (_tconn), (_tconn)-&gt;pub.trunk-&gt;el, (_tconn)-&gt;pub.trunk-&gt;conf.conn_conf, trunk-&gt;log_prefix, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *) (_tconn)-&gt;pub.trunk-&gt;funcs.connection_alloc; \</div><div class="line">        (_tconn)-&gt;pub.conn = trunk-&gt;funcs.connection_alloc((_tconn), (_tconn)-&gt;pub.trunk-&gt;el, (_tconn)-&gt;pub.trunk-&gt;conf.conn_conf, (_tconn)-&gt;pub.trunk-&gt;log_prefix, trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        <a class="code" href="acutest_8h.html#a8e9dc24bf3e8d87394046aef2654847f">if</a> (!(_tconn)-&gt;pub.conn) { \</div><div class="line">                ERROR(<span class="stringliteral">&quot;Failed creating new connection&quot;</span>); \</div><div class="line">                talloc_free(tconn); \</div><div class="line">                return -1; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="acutest_8h_html_a8e9dc24bf3e8d87394046aef2654847f"><div class="ttname"><a href="acutest_8h.html#a8e9dc24bf3e8d87394046aef2654847f">if</a></div><div class="ttdeci">if(!test_colorize__)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00483">acutest.h:483</a></div></div>
</div><!-- fragment -->
<p>Allocate a new connection. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00587">587</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ab608aff4a70b0150765a7d686d304ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab608aff4a70b0150765a7d686d304ea1">&#9670;&nbsp;</a></span>DO_CONNECTION_NOTIFY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_CONNECTION_NOTIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_events&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_tconn)-&gt;pub.trunk-&gt;funcs.connection_notify) { \</div><div class="line">                void *_prev = (_tconn)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Calling connection_notify(tconn=%p, conn=%p, el=%p, events=%s, uctx=%p)&quot;</span>, \</div><div class="line">                       (_tconn)-&gt;pub.conn-&gt;id, (_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;el, \</div><div class="line">                       <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a6cf16ff6ad5800fa0a4166cb8b5d2e68">fr_trunk_connection_events</a>, (_events), <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_tconn)-&gt;pub.trunk-&gt;funcs.connection_notify; \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;funcs.connection_notify((_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;el, (_events), (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
<div class="ttc" id="trunk_8c_html_a6cf16ff6ad5800fa0a4166cb8b5d2e68"><div class="ttname"><a href="trunk_8c.html#a6cf16ff6ad5800fa0a4166cb8b5d2e68">fr_trunk_connection_events</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_connection_events[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00386">trunk.c:386</a></div></div>
</div><!-- fragment -->
<p>Change what events the connection should be notified about. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00605">605</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a43732a8525f44ab523f73d4768c0bcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43732a8525f44ab523f73d4768c0bcfd">&#9670;&nbsp;</a></span>DO_REQUEST_CANCEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_CANCEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_reason&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_treq)-&gt;pub.trunk-&gt;funcs.request_cancel) { \</div><div class="line">                void *_prev = (_treq)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_treq)-&gt;pub.trunk-&gt;funcs.request_cancel; \</div><div class="line">                DEBUG3(<span class="stringliteral">&quot;Calling request_cancel(conn=%p, preq=%p, reason=%s, uctx=%p)&quot;</span>, (_treq)-&gt;pub.tconn-&gt;pub.conn, (_treq)-&gt;pub.preq, <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a3d5be3edd4339d254342ef2b682bae67">fr_trunk_cancellation_reasons</a>, (_reason), <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;funcs.request_cancel((_treq)-&gt;pub.tconn-&gt;pub.conn, (_treq)-&gt;pub.preq, (_reason), (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="trunk_8c_html_a3d5be3edd4339d254342ef2b682bae67"><div class="ttname"><a href="trunk_8c.html#a3d5be3edd4339d254342ef2b682bae67">fr_trunk_cancellation_reasons</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_cancellation_reasons[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00378">trunk.c:378</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p>Call the cancel callback if set. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00476">476</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9556a810b4a7d23f7846fc630485da00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9556a810b4a7d23f7846fc630485da00">&#9670;&nbsp;</a></span>DO_REQUEST_CANCEL_MUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_CANCEL_MUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_tconn)-&gt;pub.trunk-&gt;funcs.request_cancel_mux) { \</div><div class="line">                void *_prev = (_tconn)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Calling request_cancel_mux(tconn=%p, conn=%p, uctx=%p)&quot;</span>, \</div><div class="line">                       (_tconn)-&gt;pub.conn-&gt;id, (_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_tconn)-&gt;pub.trunk-&gt;funcs.request_cancel_mux; \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;funcs.request_cancel_mux((_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_tconn)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
</div><!-- fragment -->
<p>Write one or more cancellation requests to a connection. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00572">572</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a3955edd4556e0389818a2e91cca415fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3955edd4556e0389818a2e91cca415fb">&#9670;&nbsp;</a></span>DO_REQUEST_COMPLETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_COMPLETE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_treq)-&gt;pub.trunk-&gt;funcs.request_complete) { \</div><div class="line">                void *_prev = (_treq)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;Calling request_complete(request=%p, preq=%p, rctx=%p, uctx=%p)&quot;</span>, (_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.rctx, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_treq)-&gt;pub.trunk-&gt;funcs.request_complete; \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;funcs.request_complete((_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.rctx, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
</div><!-- fragment -->
<p>Call the complete callback (if set) </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00504">504</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a4c9d6a0401b3219c78b92d3c15a31de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9d6a0401b3219c78b92d3c15a31de3">&#9670;&nbsp;</a></span>DO_REQUEST_CONN_RELEASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_CONN_RELEASE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_treq)-&gt;pub.trunk-&gt;funcs.request_conn_release) { \</div><div class="line">                void *_prev = (_treq)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_treq)-&gt;pub.trunk-&gt;funcs.request_conn_release; \</div><div class="line">                DEBUG3(<span class="stringliteral">&quot;Calling request_conn_release(conn=%p, preq=%p, uctx=%p)&quot;</span>, (_treq)-&gt;pub.tconn-&gt;pub.conn, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;funcs.request_conn_release((_treq)-&gt;pub.tconn-&gt;pub.conn, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div></div><!-- fragment -->
<p>Call the "conn_release" callback (if set) </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00490">490</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9938b66c31f9a1c27ef160b485ce64d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9938b66c31f9a1c27ef160b485ce64d5">&#9670;&nbsp;</a></span>DO_REQUEST_DEMUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_DEMUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        void *_prev = (_tconn)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">        <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Calling request_demux(tconn=%p, conn=%p, uctx=%p)&quot;</span>, \</div><div class="line">               (_tconn)-&gt;pub.conn-&gt;id, (_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_tconn)-&gt;pub.trunk-&gt;funcs.request_demux; \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;funcs.request_demux((_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
</div><!-- fragment -->
<p>Read one or more requests from a connection. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00559">559</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a840081f3720349fb1ce732fab974a540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840081f3720349fb1ce732fab974a540">&#9670;&nbsp;</a></span>DO_REQUEST_FAIL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_FAIL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_prev_state&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_treq)-&gt;pub.trunk-&gt;funcs.request_fail) { \</div><div class="line">                void *_prev = (_treq)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;Calling request_fail(request=%p, preq=%p, rctx=%p, state=%s uctx=%p)&quot;</span>, (_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.rctx, <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>, (_prev_state), <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_treq)-&gt;pub.trunk-&gt;funcs.request_fail; \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;funcs.request_fail((_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.rctx, _prev_state, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
<div class="ttc" id="trunk_8c_html_a7bb70d2caa5639591b66f338210df027"><div class="ttname"><a href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_request_states[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00330">trunk.c:330</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p>Call the fail callback (if set) </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00518">518</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a28bc0b731a6a1f904430f0c2a8c3e62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28bc0b731a6a1f904430f0c2a8c3e62c">&#9670;&nbsp;</a></span>DO_REQUEST_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((_treq)-&gt;pub.trunk-&gt;funcs.request_free) { \</div><div class="line">                void *_prev = (_treq)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">                <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;Calling request_free(request=%p, preq=%p, uctx=%p)&quot;</span>, (_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_treq)-&gt;pub.trunk-&gt;funcs.request_free; \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;funcs.request_free((_treq)-&gt;pub.request, (_treq)-&gt;pub.preq, (_treq)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">                (_treq)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
</div><!-- fragment -->
<p>Call the free callback (if set) </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00532">532</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a6fb96f0d1cf691422226a90d50043e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb96f0d1cf691422226a90d50043e79">&#9670;&nbsp;</a></span>DO_REQUEST_MUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> DO_REQUEST_MUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        void *_prev = (_tconn)-&gt;pub.trunk-&gt;in_handler; \</div><div class="line">        <a class="code" href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a>(<span class="stringliteral">&quot;[%&quot;</span> PRIu64 <span class="stringliteral">&quot;] Calling request_mux(el=%p, tconn=%p, conn=%p, uctx=%p)&quot;</span>, \</div><div class="line">               (_tconn)-&gt;pub.conn-&gt;id, (_tconn)-&gt;pub.trunk-&gt;el, (_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = (<span class="keywordtype">void</span> *)(_tconn)-&gt;pub.trunk-&gt;funcs.request_mux; \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;funcs.request_mux((_tconn)-&gt;pub.trunk-&gt;el, (_tconn), (_tconn)-&gt;pub.conn, (_tconn)-&gt;pub.trunk-&gt;uctx); \</div><div class="line">        (_tconn)-&gt;pub.trunk-&gt;in_handler = _prev; \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="lib_2server_2log_8h_html_a16b87a9f2a8bd3644bda6cda1f21b350"><div class="ttname"><a href="lib_2server_2log_8h.html#a16b87a9f2a8bd3644bda6cda1f21b350">DEBUG3</a></div><div class="ttdeci">#define DEBUG3(_fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2server_2log_8h_source.html#l00217">log.h:217</a></div></div>
</div><!-- fragment -->
<p>Write one or more requests to a connection. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00546">546</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ac8118cbb651b1796307f549d087d985c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8118cbb651b1796307f549d087d985c">&#9670;&nbsp;</a></span>FR_TRUNK_REQUEST_STATE_LOG_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_TRUNK_REQUEST_STATE_LOG_MAX&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum number of state logs to record per request. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00070">70</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a159f5a7f9eb7e9ec72cb78034a0f9728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159f5a7f9eb7e9ec72cb78034a0f9728">&#9670;&nbsp;</a></span>IN_HANDLER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> IN_HANDLER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_trunk</td><td>)</td>
          <td>&#160;&#160;&#160;(((_trunk)-&gt;in_handler) != NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00618">618</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ad151620e08a4d45b7bb9a9814a6c98cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad151620e08a4d45b7bb9a9814a6c98cb">&#9670;&nbsp;</a></span>IN_REQUEST_CANCEL_MUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> IN_REQUEST_CANCEL_MUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_trunk</td><td>)</td>
          <td>&#160;&#160;&#160;(((_trunk)-&gt;funcs.request_cancel_mux) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;funcs.request_cancel_mux))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00621">621</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a8365357ffe20a263822116bf9759bdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8365357ffe20a263822116bf9759bdf4">&#9670;&nbsp;</a></span>IN_REQUEST_DEMUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> IN_REQUEST_DEMUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_trunk</td><td>)</td>
          <td>&#160;&#160;&#160;(((_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a91734f47a4c6731f3a3cc434d41e0e57">funcs.request_demux</a>) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a91734f47a4c6731f3a3cc434d41e0e57">funcs.request_demux</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00620">620</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="af8bddf23cfe02bda91b750fb76c04c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8bddf23cfe02bda91b750fb76c04c62">&#9670;&nbsp;</a></span>IN_REQUEST_MUX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> IN_REQUEST_MUX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_trunk</td><td>)</td>
          <td>&#160;&#160;&#160;(((_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a3305dcbb1c5cd85ad338cd3b3f44b3e0">funcs.request_mux</a>) &amp;&amp; ((_trunk)-&gt;in_handler == (void *)(_trunk)-&gt;<a class="el" href="rlm__radius__udp_8c.html#a3305dcbb1c5cd85ad338cd3b3f44b3e0">funcs.request_mux</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00619">619</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a62c740ca39f53ae75a70a135fc7ac5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c740ca39f53ae75a70a135fc7ac5c2">&#9670;&nbsp;</a></span>IS_SERVICEABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> IS_SERVICEABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_tconn</td><td>)</td>
          <td>&#160;&#160;&#160;((_tconn)-&gt;pub.state &amp; <a class="el" href="trunk_8h.html#adc19c94c12a5018e00de7b513882b79f">FR_TRUNK_CONN_SERVICEABLE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00623">623</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="aae1d11681b36518afb9413f4194b18a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1d11681b36518afb9413f4194b18a6">&#9670;&nbsp;</a></span>LOG_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> LOG_PREFIX&#160;&#160;&#160;&quot;%s - &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00027">27</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="adf1160f41bcf76f349186b6cfce11bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf1160f41bcf76f349186b6cfce11bcc">&#9670;&nbsp;</a></span>LOG_PREFIX_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> LOG_PREFIX_ARGS&#160;&#160;&#160;trunk-&gt;log_prefix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00028">28</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a3e9c35cc6a45a8f14e2e11cc837c751b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9c35cc6a45a8f14e2e11cc837c751b">&#9670;&nbsp;</a></span>OVER_MAX_CHECK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> OVER_MAX_CHECK&#160;&#160;&#160;<a class="el" href="acutest_8h.html#a28855fa01b85a12f2d0ce002f5131535">if</a> (++count &gt; max) <a class="el" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> (count - 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a659652ee30a65d33f53f763e48cf38d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659652ee30a65d33f53f763e48cf38d5">&#9670;&nbsp;</a></span>RECONNECT_BY_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> RECONNECT_BY_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_list&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if (states &amp; (_state)) { \</div><div class="line">                size_t i; \</div><div class="line">                for (i = <a class="code" href="dlist_8h.html#ad852b167828d7848ed99ee9cae167218">fr_dlist_num_elements</a>(&amp;trunk-&gt;_list); i &gt; 0; i--) { \</div><div class="line">                        fr_connection_signal_reconnect(((<a class="code" href="trunk_8c.html#structfr__trunk__connection__s">fr_trunk_connection_t</a> *)<a class="code" href="dlist_8h.html#a728a6246588e70e075b074b3635d2663">fr_dlist_tail</a>(&amp;trunk-&gt;_list))-&gt;pub.conn, reason); \</div><div class="line">                } \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span> (0);</div><div class="ttc" id="dlist_8h_html_ad852b167828d7848ed99ee9cae167218"><div class="ttname"><a href="dlist_8h.html#ad852b167828d7848ed99ee9cae167218">fr_dlist_num_elements</a></div><div class="ttdeci">static size_t fr_dlist_num_elements(fr_dlist_head_t const *head)</div><div class="ttdoc">Return the number of elements in the dlist. </div><div class="ttdef"><b>Definition:</b> <a href="dlist_8h_source.html#l00538">dlist.h:538</a></div></div>
<div class="ttc" id="dlist_8h_html_a728a6246588e70e075b074b3635d2663"><div class="ttname"><a href="dlist_8h.html#a728a6246588e70e075b074b3635d2663">fr_dlist_tail</a></div><div class="ttdeci">static void * fr_dlist_tail(fr_dlist_head_t const *list_head)</div><div class="ttdoc">Return the TAIL item of a list or NULL if the list is empty. </div><div class="ttdef"><b>Definition:</b> <a href="dlist_8h_source.html#l00267">dlist.h:267</a></div></div>
<div class="ttc" id="trunk_8c_html_structfr__trunk__connection__s"><div class="ttname"><a href="trunk_8c.html#structfr__trunk__connection__s">fr_trunk_connection_s</a></div><div class="ttdoc">Associates request queues with a connection. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00127">trunk.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a534b624276460d05be598277fa0429ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534b624276460d05be598277fa0429ce">&#9670;&nbsp;</a></span>REQUEST_BAD_STATE_TRANSITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_BAD_STATE_TRANSITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_new</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        fr_trunk_request_state_log(&amp;<a class="code" href="lib_2util_2log_8c.html#ab76a60cce32196b7bac7c3017acdf5ef">default_log</a>, <a class="code" href="lib_2util_2log_8h.html#affd805145b7ef5f1edc308ebb525dd78a50ba0c518a4b5f06d095162d29bf0ee2">L_ERR</a>, __FILE__, __LINE__, treq); \</div><div class="line">        if (!<a class="code" href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a>(0, <span class="stringliteral">&quot;Trunk request %&quot;</span> PRIu64 <span class="stringliteral">&quot; invalid transition %s -&gt; %s&quot;</span>, \</div><div class="line">                                treq-&gt;id, \</div><div class="line">                                <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>, treq-&gt;pub.state, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), \</div><div class="line">                                <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>, _new, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>))) <a class="code" href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>; \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="lib_2util_2log_8c_html_ab76a60cce32196b7bac7c3017acdf5ef"><div class="ttname"><a href="lib_2util_2log_8c.html#ab76a60cce32196b7bac7c3017acdf5ef">default_log</a></div><div class="ttdeci">fr_log_t default_log</div><div class="ttdef"><b>Definition:</b> <a href="lib_2util_2log_8c_source.html#l00201">log.c:201</a></div></div>
<div class="ttc" id="lib_2util_2log_8h_html_affd805145b7ef5f1edc308ebb525dd78a50ba0c518a4b5f06d095162d29bf0ee2"><div class="ttname"><a href="lib_2util_2log_8h.html#affd805145b7ef5f1edc308ebb525dd78a50ba0c518a4b5f06d095162d29bf0ee2">L_ERR</a></div><div class="ttdoc">Error message. </div><div class="ttdef"><b>Definition:</b> <a href="lib_2util_2log_8h_source.html#l00055">log.h:55</a></div></div>
<div class="ttc" id="trunk_8c_html_a7bb70d2caa5639591b66f338210df027"><div class="ttname"><a href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_request_states[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00330">trunk.c:330</a></div></div>
<div class="ttc" id="debug_8h_html_aa7e7314a1e6ad45c1b58c1065b65afad"><div class="ttname"><a href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a></div><div class="ttdeci">#define fr_cond_assert_msg(_x, _fmt,...)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00153">debug.h:153</a></div></div>
<div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="rlm__securid_8c.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">return</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00425">rlm_securid.c:425</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00444">444</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a2bdf50f5abb612890eae23f3854e6c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bdf50f5abb612890eae23f3854e6c3d">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_BACKLOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_BACKLOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        int _ret; \</div><div class="line">        _ret = <a class="code" href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a>((_treq)-&gt;pub.trunk-&gt;backlog, _treq); \</div><div class="line">        if (!<a class="code" href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a>(_ret == 0, <span class="stringliteral">&quot;Failed extracting conn from backlog heap: %s&quot;</span>, <a class="code" href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a>())) <a class="code" href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>; \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="heap_8c_html_a2071e6c3699b74317dc7968e377fdced"><div class="ttname"><a href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a></div><div class="ttdeci">int fr_heap_extract(fr_heap_t *hp, void *data)</div><div class="ttdoc">Remove a node from the heap. </div><div class="ttdef"><b>Definition:</b> <a href="heap_8c_source.html#l00214">heap.c:214</a></div></div>
<div class="ttc" id="debug_8h_html_aa7e7314a1e6ad45c1b58c1065b65afad"><div class="ttname"><a href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a></div><div class="ttdeci">#define fr_cond_assert_msg(_x, _fmt,...)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00153">debug.h:153</a></div></div>
<div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="strerror_8c_html_a83ee876ee41b1ae672dc4dcda4f02a2e"><div class="ttname"><a href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a></div><div class="ttdeci">char const  * fr_strerror(void)</div><div class="ttdoc">Get the last library error. </div><div class="ttdef"><b>Definition:</b> <a href="strerror_8c_source.html#l00328">strerror.c:328</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a91cf6fbebedd86150a36e5ac3d5d3bfc"><div class="ttname"><a href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a></div><div class="ttdeci">break</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00421">rlm_securid.c:421</a></div></div>
</div><!-- fragment -->
<p>Remove the current request from the backlog. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00628">628</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a4d083ea5f1c05b4fc7e48ee15457b543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d083ea5f1c05b4fc7e48ee15457b543">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_CANCEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_CANCEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;cancel, treq);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the current request from the cancel list. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00662">662</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a1cd08e948d0231285df5596779a855ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd08e948d0231285df5596779a855ca">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_CANCEL_PARTIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_CANCEL_PARTIAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        fr_assert((_treq)-&gt;pub.tconn-&gt;cancel_partial == treq); \</div><div class="line">        tconn-&gt;cancel_partial = NULL; \</div><div class="line">} <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Remove the current request from the cancel_partial slot. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00667">667</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="afb013a1cd30c44e78cdb9d07099bab55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb013a1cd30c44e78cdb9d07099bab55">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_CANCEL_SENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_CANCEL_SENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;cancel_sent, treq);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the current request from the cancel sent list. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00676">676</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a710b2f431f5e54bd05a1e6cab3c3acff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710b2f431f5e54bd05a1e6cab3c3acff">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_PARTIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_PARTIAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        fr_assert((_treq)-&gt;pub.tconn-&gt;partial == treq); \</div><div class="line">        tconn-&gt;partial = NULL; \</div><div class="line">} <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Remove the current request from the partial slot. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00648">648</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9f6e9bf532f8a02d83420c6658cbfcad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6e9bf532f8a02d83420c6658cbfcad">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_PENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_PENDING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        int _ret; \</div><div class="line">        _ret = <a class="code" href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a>((_treq)-&gt;pub.tconn-&gt;pending, _treq); \</div><div class="line">        if (!<a class="code" href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a>(_ret == 0, <span class="stringliteral">&quot;Failed extracting conn from pending heap: %s&quot;</span>, <a class="code" href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a>())) <a class="code" href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>; \</div><div class="line">} <a class="code" href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</div><div class="ttc" id="heap_8c_html_a2071e6c3699b74317dc7968e377fdced"><div class="ttname"><a href="heap_8c.html#a2071e6c3699b74317dc7968e377fdced">fr_heap_extract</a></div><div class="ttdeci">int fr_heap_extract(fr_heap_t *hp, void *data)</div><div class="ttdoc">Remove a node from the heap. </div><div class="ttdef"><b>Definition:</b> <a href="heap_8c_source.html#l00214">heap.c:214</a></div></div>
<div class="ttc" id="debug_8h_html_aa7e7314a1e6ad45c1b58c1065b65afad"><div class="ttname"><a href="debug_8h.html#aa7e7314a1e6ad45c1b58c1065b65afad">fr_cond_assert_msg</a></div><div class="ttdeci">#define fr_cond_assert_msg(_x, _fmt,...)</div><div class="ttdoc">Calls panic_action ifndef NDEBUG, else logs error and evaluates to value of _x. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00153">debug.h:153</a></div></div>
<div class="ttc" id="acutest_8h_html_a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><div class="ttname"><a href="acutest_8h.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a></div><div class="ttdeci">while(1)</div><div class="ttdef"><b>Definition:</b> <a href="acutest_8h_source.html#l00715">acutest.h:715</a></div></div>
<div class="ttc" id="strerror_8c_html_a83ee876ee41b1ae672dc4dcda4f02a2e"><div class="ttname"><a href="strerror_8c.html#a83ee876ee41b1ae672dc4dcda4f02a2e">fr_strerror</a></div><div class="ttdeci">char const  * fr_strerror(void)</div><div class="ttdoc">Get the last library error. </div><div class="ttdef"><b>Definition:</b> <a href="strerror_8c_source.html#l00328">strerror.c:328</a></div></div>
<div class="ttc" id="rlm__securid_8c_html_a91cf6fbebedd86150a36e5ac3d5d3bfc"><div class="ttname"><a href="rlm__securid_8c.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a></div><div class="ttdeci">break</div><div class="ttdef"><b>Definition:</b> <a href="rlm__securid_8c_source.html#l00421">rlm_securid.c:421</a></div></div>
</div><!-- fragment -->
<p>Remove the current request from the pending list. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00638">638</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a08c9b5de6687d9ed5e996e99ca9f8f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c9b5de6687d9ed5e996e99ca9f8f21">&#9670;&nbsp;</a></span>REQUEST_EXTRACT_SENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_EXTRACT_SENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_treq</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="dlist_8h.html#abc40bcac47679893e9ad3dbacf1b78ce">fr_dlist_remove</a>(&amp;tconn-&gt;sent, treq);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the current request from the sent list. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00657">657</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ae21c45fd3eb0d5a43a2bddcae8c59429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21c45fd3eb0d5a43a2bddcae8c59429">&#9670;&nbsp;</a></span>REQUEST_STATE_TRANSITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_STATE_TRANSITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_new</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        DEBUG3(<span class="stringliteral">&quot;Trunk request %&quot;</span> PRIu64 <span class="stringliteral">&quot; changed state %s -&gt; %s&quot;</span>, \</div><div class="line">               treq-&gt;id, \</div><div class="line">               <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>, treq-&gt;pub.state, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), \</div><div class="line">               <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>, _new, <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>)); \</div><div class="line">        trunk_request_state_log_entry_add(__FUNCTION__, __LINE__, treq, _new); \</div><div class="line">        treq-&gt;pub.state = _new; \</div><div class="line">        REQUEST_TRIGGER(_new); \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trunk_8c_html_a7bb70d2caa5639591b66f338210df027"><div class="ttname"><a href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a></div><div class="ttdeci">static fr_table_num_ordered_t const fr_trunk_request_states[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00330">trunk.c:330</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p>Record a request state transition and log appropriate output. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00434">434</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ae00841116a277a737dcdc2799597f38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00841116a277a737dcdc2799597f38a">&#9670;&nbsp;</a></span>REQUEST_TRIGGER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> REQUEST_TRIGGER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if (trunk-&gt;pub.triggers) { \</div><div class="line">                trigger_exec(NULL, NULL, <a class="code" href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a>(<a class="code" href="trunk_8c.html#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">fr_trunk_req_trigger_names</a>, _state, \</div><div class="line">                                                               <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>), <span class="keyword">true</span>, NULL); \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trunk_8c_html_a0c4c6f6bcc7e05624f5ae9b3d7b30f03"><div class="ttname"><a href="trunk_8c.html#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">fr_trunk_req_trigger_names</a></div><div class="ttdeci">static fr_table_num_indexed_bit_pos_t const fr_trunk_req_trigger_names[]</div><div class="ttdoc">Map request states to trigger names. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00313">trunk.c:313</a></div></div>
<div class="ttc" id="table_8h_html_a52dacc40217bdc0537896b713fc7a59e"><div class="ttname"><a href="table_8h.html#a52dacc40217bdc0537896b713fc7a59e">fr_table_str_by_value</a></div><div class="ttdeci">#define fr_table_str_by_value(_table, _number, _def)</div><div class="ttdoc">Convert an integer to a string. </div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00239">table.h:239</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00424">424</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aee0dc607323967c0febcf18667763f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0dc607323967c0febcf18667763f39">&#9670;&nbsp;</a></span>fr_trunk_connection_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__connection__s">fr_trunk_connection_s</a> <a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00035">35</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ac3eb131a80a4eb550e2f859d599144ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3eb131a80a4eb550e2f859d599144ea">&#9670;&nbsp;</a></span>fr_trunk_request_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__request__s">fr_trunk_request_s</a> <a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00034">34</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a989e62923fa467b83f977ae0a44ab51d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989e62923fa467b83f977ae0a44ab51d">&#9670;&nbsp;</a></span>fr_trunk_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="trunk_8c.html#structfr__trunk__s">fr_trunk_s</a> <a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00036">36</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac07392ba9aab02197c5fa30cddc4ac41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07392ba9aab02197c5fa30cddc4ac41">&#9670;&nbsp;</a></span>_state_log_entry_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _state_log_entry_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#structfr__trunk__request__state__log__t">fr_trunk_request_state_log_t</a> *&#160;</td>
          <td class="paramname"><em>slog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for sanity checks to ensure all log entries have been freed. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02464">2464</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac07392ba9aab02197c5fa30cddc4ac41_cgraph.svg" width="503" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac07392ba9aab02197c5fa30cddc4ac41_icgraph.svg" width="343" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a213ea6729e8bcd5958923a9bdbc743c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213ea6729e8bcd5958923a9bdbc743c9">&#9670;&nbsp;</a></span>_trunk_connection_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _trunk_connection_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free a connection. </p>
<p>Enforces orderly free order of children of the tconn </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03340">3340</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a213ea6729e8bcd5958923a9bdbc743c9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a213ea6729e8bcd5958923a9bdbc743c9_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa7dc82680fd0d29e86525577b75de5b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7dc82680fd0d29e86525577b75de5b4">&#9670;&nbsp;</a></span>_trunk_connection_lifetime_expire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_lifetime_expire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trigger a reconnection of the trunk connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">el</td><td>Event list the timer was inserted into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The tconn. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03102">3102</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aa7dc82680fd0d29e86525577b75de5b4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aa7dc82680fd0d29e86525577b75de5b4_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a35dbfa78abd25abe57c4e65bf7c82a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35dbfa78abd25abe57c4e65bf7c82a1e">&#9670;&nbsp;</a></span>_trunk_connection_on_closed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection failed after it was connected. </p>
<p>Reflect the connection state change in the lists we use to track connections.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03169">3169</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a35dbfa78abd25abe57c4e65bf7c82a1e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a35dbfa78abd25abe57c4e65bf7c82a1e_icgraph.svg" width="100%" height="385"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad121aefa7ec92e92c50dcfc320181c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad121aefa7ec92e92c50dcfc320181c43">&#9670;&nbsp;</a></span>_trunk_connection_on_connected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection transitioned to the connected state. </p>
<p>Reflect the connection state change in the lists we use to track connections.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03120">3120</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ad121aefa7ec92e92c50dcfc320181c43_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ad121aefa7ec92e92c50dcfc320181c43_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a042d6051155af0dfef9dda606fbff1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042d6051155af0dfef9dda606fbff1b7">&#9670;&nbsp;</a></span>_trunk_connection_on_connecting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_connecting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection transitioned to the connecting state. </p>
<p>Reflect the connection state change in the lists we use to track connections.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03024">3024</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a042d6051155af0dfef9dda606fbff1b7_cgraph.svg" width="100%" height="543"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a042d6051155af0dfef9dda606fbff1b7_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a504ef2d489a87b1b99629e7b8d0733b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a504ef2d489a87b1b99629e7b8d0733b0">&#9670;&nbsp;</a></span>_trunk_connection_on_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_failed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection failed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03240">3240</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a504ef2d489a87b1b99629e7b8d0733b0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a504ef2d489a87b1b99629e7b8d0733b0_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae86c3373f24f656cab9cc0392646c845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae86c3373f24f656cab9cc0392646c845">&#9670;&nbsp;</a></span>_trunk_connection_on_halted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_halted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection transitioned to the halted state. </p>
<p>Remove the connection remove all lists, as it's likely about to be freed.</p>
<p>Setting the trunk back to the init state ensures that if the code is ever refactored and <a class="el" href="connection_8h.html#afbcf2ecc866b1f1092fa70d6400fd4f3" title="Asynchronously signal the connection should be reconnected. ">fr_connection_signal_reconnect</a> is used after a connection is halted, then everything is maintained in a valid state.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03292">3292</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae86c3373f24f656cab9cc0392646c845_cgraph.svg" width="100%" height="543"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae86c3373f24f656cab9cc0392646c845_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7594acf7604e0bcec4cb67ec9927ac00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7594acf7604e0bcec4cb67ec9927ac00">&#9670;&nbsp;</a></span>_trunk_connection_on_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection transitioned to the the init state. </p>
<p>Reflect the connection state change in the lists we use to track connections.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02989">2989</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7594acf7604e0bcec4cb67ec9927ac00_cgraph.svg" width="100%" height="489"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7594acf7604e0bcec4cb67ec9927ac00_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3cf8514dfb66111bc5ebb69c1ade7232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf8514dfb66111bc5ebb69c1ade7232">&#9670;&nbsp;</a></span>_trunk_connection_on_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_connection_on_shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="server_2connection_8c.html#a39db4f55d33981b2445f03ecde4994b6">fr_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <a class="el" href="connection_8h.html#a09b4445379d1018028c606a7200aca18">fr_connection_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection transitioned to the shutdown state. </p>
<p>If we're not already in the draining-to-free state, transition there now.</p>
<p>The idea is that if something signalled the connection to shutdown, we need to reflect that by dequeuing any pending requests, not accepting new ones, and waiting for the existing requests to complete.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only called from the connection API as a watcher.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>The connection which changes state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>The connection is was in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The connection is now in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The fr_trunk_connection_t wrapping the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03068">3068</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3cf8514dfb66111bc5ebb69c1ade7232_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3cf8514dfb66111bc5ebb69c1ade7232_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a44d55a4fb91e548c88147ad879a2d3e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d55a4fb91e548c88147ad879a2d3e5">&#9670;&nbsp;</a></span>_trunk_connection_order_by_shortest_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t _trunk_connection_order_by_shortest_queue </td>
          <td>(</td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>two</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Order connections by queue depth. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04400">4400</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a44d55a4fb91e548c88147ad879a2d3e5_cgraph.svg" width="583" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a44d55a4fb91e548c88147ad879a2d3e5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1c988bd2dd9051d0fcce3b732a3d3f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c988bd2dd9051d0fcce3b732a3d3f8b">&#9670;&nbsp;</a></span>_trunk_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _trunk_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free a trunk, gracefully closing all connections. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04416">4416</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1c988bd2dd9051d0fcce3b732a3d3f8b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1c988bd2dd9051d0fcce3b732a3d3f8b_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a45442ee137c45c5b4619c65cd4fa4395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45442ee137c45c5b4619c65cd4fa4395">&#9670;&nbsp;</a></span>_trunk_request_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _trunk_request_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actually free the trunk request. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02122">2122</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a45442ee137c45c5b4619c65cd4fa4395_cgraph.svg" width="494" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a45442ee137c45c5b4619c65cd4fa4395_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a18d74b46e2dd446629de20e3ad3828a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d74b46e2dd446629de20e3ad3828a5">&#9670;&nbsp;</a></span>_trunk_request_prioritise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t _trunk_request_prioritise </td>
          <td>(</td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare two protocol requests. </p>
<p>Allows protocol requests to be prioritised with a function specified by the API client. Defaults to by pointer address if no function is specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>treq to compare to b. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>treq to compare to a. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>+1 if a &gt; b.</li>
<li>0 if a == b.</li>
<li>-1 if a &lt; b. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00736">736</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a18d74b46e2dd446629de20e3ad3828a5_icgraph.svg" width="100%" height="406"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7407640a03fd78e03cead327892576f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7407640a03fd78e03cead327892576f1">&#9670;&nbsp;</a></span>_trunk_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _trunk_timer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event to periodically call the connection management function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">el</td><td>this event belongs to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>current time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>The trunk. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04066">4066</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7407640a03fd78e03cead327892576f1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7407640a03fd78e03cead327892576f1_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a92dca0b929806311bf7e3a48ab1e11ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92dca0b929806311bf7e3a48ab1e11ba">&#9670;&nbsp;</a></span>fr_trunk_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a>* fr_trunk_alloc </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="event_8h.html#ada9c8bff012ba3155d29668ee8af9f37">fr_event_list_t</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8h.html#structfr__trunk__io__funcs__t">fr_trunk_io_funcs_t</a> const *&#160;</td>
          <td class="paramname"><em>funcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a> const *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>log_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>uctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>delay_start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new collection of connections. </p>
<p>This function should be called first to allocate a new trunk connection.</p>
<p>After the trunk has been allocated, <a class="el" href="trunk_8c.html#a3414dcced7e253ba9d6c4e257b2fd10a" title="(Pre-)Allocate a new trunk request ">fr_trunk_request_alloc</a> and <a class="el" href="trunk_8c.html#a429d29c8a4a45f6aef6576c668cd9195" title="Enqueue a request that needs data written to the trunk. ">fr_trunk_request_enqueue</a> should be used to allocate memory for trunk requests, and pass a preq (protocol request) to the trunk for processing.</p>
<p>The trunk will then asynchronously process the request, writing the result to a specified rctx. See <a class="el" href="trunk_8c.html#a429d29c8a4a45f6aef6576c668cd9195" title="Enqueue a request that needs data written to the trunk. ">fr_trunk_request_enqueue</a> for more details.</p>
<dl class="section note"><dt>Note</dt><dd>Trunks may not be shared between multiple threads under any circumstances.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>To use for any memory allocations. Must be thread local. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">el</td><td>to use for I/O and timer events. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">funcs</td><td>Callback functions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>Common user configurable parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_prefix</td><td>To prepend to global messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uctx</td><td>User data to pass to the alloc function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delay_start</td><td>If true, then we will not spawn any connections until the first request is enqueued. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>New trunk handle on success.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04491">4491</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a92dca0b929806311bf7e3a48ab1e11ba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a92dca0b929806311bf7e3a48ab1e11ba_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a67e6ccfbaf63a45dbae642ebe11bfa0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e6ccfbaf63a45dbae642ebe11bfa0e">&#9670;&nbsp;</a></span>fr_trunk_connection_count_by_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t fr_trunk_connection_count_by_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>conn_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the count number of connections in the specified states. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to retrieve counts for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_state</td><td>One or more <a class="el" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9c" title="Used for sanity checks and to track which list the connection is in. ">fr_trunk_connection_state_t</a> states or'd together. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of connections in the specified states. </dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02529">2529</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a67e6ccfbaf63a45dbae642ebe11bfa0e_cgraph.svg" width="352" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a67e6ccfbaf63a45dbae642ebe11bfa0e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae9f688617896dc9418d6c972ddb01eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f688617896dc9418d6c972ddb01eea">&#9670;&nbsp;</a></span>fr_trunk_connection_in_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fr_trunk_connection_in_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the trunk connection is in one of the specified states. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>To check state for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>True if trunk connection is in a particular state.</li>
<li>False if trunk connection is not in a particular state. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03673">3673</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="afb4793e6c5950288e59a61b6cac95bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4793e6c5950288e59a61b6cac95bbf">&#9670;&nbsp;</a></span>fr_trunk_connection_manage_schedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_trunk_connection_manage_schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule a trunk management event for the next time the event loop is executed. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04385">4385</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_afb4793e6c5950288e59a61b6cac95bbf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_afb4793e6c5950288e59a61b6cac95bbf_icgraph.svg" width="100%" height="574"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aef7e0724f1e350d91411accf2f3d2b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7e0724f1e350d91411accf2f3d2b43">&#9670;&nbsp;</a></span>fr_trunk_connection_manage_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_manage_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allow the trunk to open and close connections in response to load. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04364">4364</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a0d0e78d99fb37f2a5522253c311ffbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0e78d99fb37f2a5522253c311ffbd0">&#9670;&nbsp;</a></span>fr_trunk_connection_manage_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_manage_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the trunk from opening and closing connections in response to load. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04375">4375</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a410199905c8c7725d87a3d52c6580bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410199905c8c7725d87a3d52c6580bbe">&#9670;&nbsp;</a></span>fr_trunk_connection_pop_cancellation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_trunk_connection_pop_cancellation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **&#160;</td>
          <td class="paramname"><em>treq_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop a cancellation request off a connection's cancellation queue. </p>
<p>The request we return is advanced by the request moving out of the cancel state and into the cancel_sent or cancel_complete state.</p>
<p>One of these signalling functions must be called after the request has been popped:</p>
<ul>
<li><a class="el" href="trunk_8c.html#a11334935e79d8a96c5a0e77b37c93dd3" title="Signal that a remote server has been notified of the cancellation. ">fr_trunk_request_signal_cancel_sent</a> The remote datastore has been informed, but we need to wait for acknowledgement. The <a class="el" href="trunk_8h.html#a0e8895221d2c6ebbfb68318d77765ec2" title="Demultiplex on or more responses, reading them from a connection, decoding them, and matching them wi...">fr_trunk_request_demux_t</a> callback must handle the acks calling <a class="el" href="trunk_8c.html#af3a9f060ab945a71549c963550409e87" title="Signal that a remote server acked our cancellation. ">fr_trunk_request_signal_cancel_complete</a> when an ack is received.</li>
<li><a class="el" href="trunk_8c.html#af3a9f060ab945a71549c963550409e87" title="Signal that a remote server acked our cancellation. ">fr_trunk_request_signal_cancel_complete</a> The request was cancelled and we don't need to wait, clean it up immediately.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">treq_out</td><td>to process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>Connection to drain cancellation request from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 if no more requests.</li>
<li>0 if a new request was written to treq_out.</li>
<li>-1 if the connection was previously freed. Caller <em>MUST NOT</em> touch any memory or requests associated with the connection.</li>
<li>-2 if called outside of the cancel muxer. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03496">3496</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a410199905c8c7725d87a3d52c6580bbe_cgraph.svg" width="291" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a410199905c8c7725d87a3d52c6580bbe_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a93f664d4dc57935a73ef1855900f5a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f664d4dc57935a73ef1855900f5a5b">&#9670;&nbsp;</a></span>fr_trunk_connection_pop_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_trunk_connection_pop_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **&#160;</td>
          <td class="paramname"><em>treq_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop a request off a connection's pending queue. </p>
<p>The request we return is advanced by the request moving out of the partial or pending states, when the mux function signals us.</p>
<p>If the same request is returned again and again, it means the muxer isn't actually doing anything with the request we returned, and it's and error in the muxer code.</p>
<p>One of these signalling functions must be used after the request has been popped:</p>
<ul>
<li><a class="el" href="trunk_8c.html#a68df84abee6703937fcd841ef75797c7" title="Signal that a trunk request is complete. ">fr_trunk_request_signal_complete</a> The request was completed. Either we got a synchronous response, or we knew the response without contacting an external server (cache).</li>
<li><a class="el" href="trunk_8c.html#ac307f0d9ad6fd24637e1a27745521946" title="Signal that a trunk request failed. ">fr_trunk_request_signal_fail</a> Failed muxing the request due to a permanent issue, i.e. an invalid request.</li>
<li><a class="el" href="trunk_8c.html#a894959f53af966e88a7ea0fda87dc722" title="Signal a partial write. ">fr_trunk_request_signal_partial</a> Wrote part of a request. This request will be returned on the next call to this function so that the request_mux function can finish writing it. Only useful for stream type connections. Datagram type connections cannot have partial writes.</li>
<li><a class="el" href="trunk_8c.html#a4280399df4f7f50713e75983220b6893" title="Signal that the request was written to a connection successfully. ">fr_trunk_request_signal_sent</a> Successfully sent a request.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">treq_out</td><td>to process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to pop a request from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 if no more requests.</li>
<li>0 if a new request was written to treq_out.</li>
<li>-1 if the connection was previously freed. Caller <em>MUST NOT</em> touch any memory or requests associated with the connection.</li>
<li>-2 if called outside of the muxer. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03544">3544</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a93f664d4dc57935a73ef1855900f5a5b_cgraph.svg" width="295" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a93f664d4dc57935a73ef1855900f5a5b_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a67069d7159583ef74d1cd099f2d07f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67069d7159583ef74d1cd099f2d07f30">&#9670;&nbsp;</a></span>fr_trunk_connection_requests_requeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t fr_trunk_connection_requests_requeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fail_bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move requests off of a connection and requeue elsewhere. </p>
<dl class="section note"><dt>Note</dt><dd>We don't re-queue on draining or draining to free, as requests should have already been moved off of te connection. It's also dangerous as the trunk management code main clean up a connection in this state when it's run on re-queue, and then the caller may try and access a now freed connection.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to move requests off of. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">states</td><td>Only move requests in this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>The maximum number of requests to dequeue. 0 for unlimited. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fail_bound</td><td>If true causes any requests bound to the connection to fail. If false bound requests will not be moved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of requests requeued. </dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01732">1732</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a67069d7159583ef74d1cd099f2d07f30_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a67069d7159583ef74d1cd099f2d07f30_icgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1fa126ae1972a2089056405f2f7b8b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa126ae1972a2089056405f2f7b8b93">&#9670;&nbsp;</a></span>fr_trunk_connection_signal_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_signal_active </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a trunk connection is no longer full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to signal. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03621">3621</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1fa126ae1972a2089056405f2f7b8b93_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1fa126ae1972a2089056405f2f7b8b93_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9c2e24f88f4b711bc17d9723f53892a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2e24f88f4b711bc17d9723f53892a1">&#9670;&nbsp;</a></span>fr_trunk_connection_signal_inactive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_signal_inactive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a trunk connection cannot accept more requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to signal. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03598">3598</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a9c2e24f88f4b711bc17d9723f53892a1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a9c2e24f88f4b711bc17d9723f53892a1_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa38296145eead678186a6433af330b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38296145eead678186a6433af330b35">&#9670;&nbsp;</a></span>fr_trunk_connection_signal_readable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_signal_readable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a trunk connection is readable. </p>
<p>Should be called from the 'read' I/O handler to signal that requests should be dequeued.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to signal. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03582">3582</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_aa38296145eead678186a6433af330b35_cgraph.svg" width="372" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aa38296145eead678186a6433af330b35_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae261bef1f663eb4a697804302be97a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae261bef1f663eb4a697804302be97a93">&#9670;&nbsp;</a></span>fr_trunk_connection_signal_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_signal_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="connection_8h.html#ad824f2a71886751c780c24f98b76aa41">fr_connection_reason_t</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a trunk connection is no longer viable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to signal. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>the connection is being reconnected. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03660">3660</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae261bef1f663eb4a697804302be97a93_cgraph.svg" width="100%" height="588"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae261bef1f663eb4a697804302be97a93_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae4622d45fe16ab018a7ff22f77bfcbcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4622d45fe16ab018a7ff22f77bfcbcd">&#9670;&nbsp;</a></span>fr_trunk_connection_signal_writable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_connection_signal_writable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a trunk connection is writable. </p>
<p>Should be called from the 'write' I/O handler to signal that requests can be enqueued.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to signal. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03564">3564</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae4622d45fe16ab018a7ff22f77bfcbcd_cgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae4622d45fe16ab018a7ff22f77bfcbcd_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1c5571acb8992857d6c57dfc9919faa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5571acb8992857d6c57dfc9919faa2">&#9670;&nbsp;</a></span>fr_trunk_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="connection_8h.html#ad824f2a71886751c780c24f98b76aa41">fr_connection_reason_t</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force the trunk to re-establish its connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to signal. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">states</td><td>One or more states or'd together. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>Why the connections are being signalled to reconnect. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04291">4291</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1c5571acb8992857d6c57dfc9919faa2_cgraph.svg" width="100%" height="588"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1c5571acb8992857d6c57dfc9919faa2_icgraph.svg" width="368" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3414dcced7e253ba9d6c4e257b2fd10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3414dcced7e253ba9d6c4e257b2fd10a">&#9670;&nbsp;</a></span>fr_trunk_request_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a>* fr_trunk_request_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Pre-)Allocate a new trunk request </p>
<p>If trunk-&gt;conf.req_pool_headers or trunk-&gt;conf.req_pool_size are not zero then the request will be a talloc pool, which can be used to hold the preq.</p>
<dl class="section note"><dt>Note</dt><dd>Do not use MEM to check the result of this allocated as it may fail for non-fatal reasons.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to add request to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>to wrap in a trunk request (treq). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>A newly allocated request.</li>
<li>NULL if too many requests are allocated. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02155">2155</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3414dcced7e253ba9d6c4e257b2fd10a_cgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3414dcced7e253ba9d6c4e257b2fd10a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4a0a08064485793b003756b197ca6622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0a08064485793b003756b197ca6622">&#9670;&nbsp;</a></span>fr_trunk_request_count_by_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t fr_trunk_request_count_by_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> const *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>req_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the count number of requests associated with a trunk connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to return request count for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_state</td><td>One or more request states or'd together.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of requests in the specified states, associated with a tconn. </dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02553">2553</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a4a0a08064485793b003756b197ca6622_cgraph.svg" width="371" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a4a0a08064485793b003756b197ca6622_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6dcfa1464e022ec96b90b8c975fe13b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dcfa1464e022ec96b90b8c975fe13b4">&#9670;&nbsp;</a></span>fr_trunk_request_count_by_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t fr_trunk_request_count_by_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>conn_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>req_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a count of requests on a connection in a specific state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to retrieve counts for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_state</td><td>One or more connection states or'd together. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_state</td><td>One or more request states or'd together. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of requests in a particular state, on connection in a particular state. </dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04088">4088</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a6dcfa1464e022ec96b90b8c975fe13b4_cgraph.svg" width="574" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a6dcfa1464e022ec96b90b8c975fe13b4_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a429d29c8a4a45f6aef6576c668cd9195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a429d29c8a4a45f6aef6576c668cd9195">&#9670;&nbsp;</a></span>fr_trunk_request_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a> fr_trunk_request_enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **&#160;</td>
          <td class="paramname"><em>treq_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>preq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue a request that needs data written to the trunk. </p>
<p>When a request_t * needs to make an asynchronous request to an external datastore it should call this function, specifying a preq (protocol request) containing the data necessary to request information from the external datastore, and an rctx (resume ctx) used to hold the decoded response and/or any error codes.</p>
<p>After a treq is successfully enqueued it will either be assigned immediately to the pending queue of a connection, or if no connections are available, (depending on the trunk configuration) the treq will be placed in the trunk's global backlog.</p>
<p>After receiving a positive return code from this function the caller should immediately yield, to allow the various timers and I/O handlers that drive tconn (trunk connection) and treq state changes to be called.</p>
<p>When a tconn becomes writable (or the trunk is configured to be always writable) the <a class="el" href="trunk_8h.html#a23c85d155c4cc50fbb20754b035a8b85" title="Multiplex one or more requests into a single connection. ">fr_trunk_request_mux_t</a> callback will be called to dequeue, encode and send any pending requests for that tconn. The <a class="el" href="trunk_8h.html#a23c85d155c4cc50fbb20754b035a8b85" title="Multiplex one or more requests into a single connection. ">fr_trunk_request_mux_t</a> callback is also responsible for tracking the outbound requests to allow the <a class="el" href="trunk_8h.html#a0e8895221d2c6ebbfb68318d77765ec2" title="Demultiplex on or more responses, reading them from a connection, decoding them, and matching them wi...">fr_trunk_request_demux_t</a> callback to match inbound responses with the original treq. Once the <a class="el" href="trunk_8h.html#a23c85d155c4cc50fbb20754b035a8b85" title="Multiplex one or more requests into a single connection. ">fr_trunk_request_mux_t</a> callback is done processing the treq it signals what state the treq should enter next using one of the fr_trunk_request_signal_* functions.</p>
<p>When a tconn becomes readable the user specified <a class="el" href="trunk_8h.html#a0e8895221d2c6ebbfb68318d77765ec2" title="Demultiplex on or more responses, reading them from a connection, decoding them, and matching them wi...">fr_trunk_request_demux_t</a> callback is called to process any responses, match them with the original treq. and signal what state they should enter next using one of the fr_trunk_request_signal_* functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">treq_out</td><td>A trunk request handle. If the memory pointed to is NULL, a new treq will be allocated. Otherwise treq should point to memory allocated with fr_trunk_request_alloc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to enqueue request on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>to enqueue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preq</td><td>Protocol request to write out. Will be freed when treq is freed. Should ideally be parented by the treq if possible. Use <a class="el" href="trunk_8c.html#a3414dcced7e253ba9d6c4e257b2fd10a" title="(Pre-)Allocate a new trunk request ">fr_trunk_request_alloc</a> for pre-allocation of the treq. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>The resume context to write any result to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_TRUNK_ENQUEUE_OK.</li>
<li>FR_TRUNK_ENQUEUE_IN_BACKLOG.</li>
<li>FR_TRUNK_ENQUEUE_NO_CAPACITY.</li>
<li>FR_TRUNK_ENQUEUE_DST_UNAVAILABLE</li>
<li>FR_TRUNK_ENQUEUE_FAIL </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02267">2267</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a429d29c8a4a45f6aef6576c668cd9195_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a429d29c8a4a45f6aef6576c668cd9195_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2bad9ebfe3f085c0fb3faeee9e8a46b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bad9ebfe3f085c0fb3faeee9e8a46b3">&#9670;&nbsp;</a></span>fr_trunk_request_enqueue_on_conn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a> fr_trunk_request_enqueue_on_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **&#160;</td>
          <td class="paramname"><em>treq_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>preq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_limits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue additional requests on a specific connection. </p>
<p>This may be used to create a series of requests on a single connection, or to generate in-band status checks.</p>
<dl class="section note"><dt>Note</dt><dd>If conf-&gt;always_writable, then the muxer will be called immediately. The caller must be able to handle multiple calls to its muxer gracefully.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">treq_out</td><td>A trunk request handle. If the memory pointed to is NULL, a new treq will be allocated. Otherwise treq should point to memory allocated with fr_trunk_request_alloc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to enqueue request on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>to enqueue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preq</td><td>Protocol request to write out. Will be freed when treq is freed. Should ideally be parented by the treq if possible. Use <a class="el" href="trunk_8c.html#a3414dcced7e253ba9d6c4e257b2fd10a" title="(Pre-)Allocate a new trunk request ">fr_trunk_request_alloc</a> for pre-allocation of the treq. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>The resume context to write any result to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignore_limits</td><td>Ignore max_req_per_conn. Useful to force status checks through even if the connection is at capacity. Will also allow enqueuing on "inactive", "draining", "draining-to-free" connections. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_TRUNK_ENQUEUE_OK.</li>
<li>FR_TRUNK_ENQUEUE_NO_CAPACITY - At max_req_per_conn_limit</li>
<li>FR_TRUNK_ENQUEUE_DST_UNAVAILABLE - Connection cannot service requests. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02415">2415</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-67" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a2bad9ebfe3f085c0fb3faeee9e8a46b3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-68" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a2bad9ebfe3f085c0fb3faeee9e8a46b3_icgraph.svg" width="100%" height="442"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0ccb4513f4a782e67c8d87c3949f7ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ccb4513f4a782e67c8d87c3949f7ff6">&#9670;&nbsp;</a></span>fr_trunk_request_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> **&#160;</td>
          <td class="paramname"><em>treq_to_free</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the trunk request is freed then update the target requests. </p>
<p>gperftools showed calling the request free function directly was slightly faster than using talloc_free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq_to_free</td><td>request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02003">2003</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-69" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0ccb4513f4a782e67c8d87c3949f7ff6_cgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-70" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-70-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-70-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-70-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0ccb4513f4a782e67c8d87c3949f7ff6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a72e34d33ea58c5c62d64d12c1620b819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e34d33ea58c5c62d64d12c1620b819">&#9670;&nbsp;</a></span>fr_trunk_request_requeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a> fr_trunk_request_requeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-enqueue a request on the same connection. </p>
<p>If the treq has been sent, we assume that we're being signalled to requeue because something outside of the trunk API has determined that a retransmission is required. The easiest way to perform that retransmission is to clean up any tracking information for the request, and the requeue it for transmission.</p>
<p>IF re-queueing fails, the request will enter the fail state. It should not be accessed if this occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to requeue (retransmit). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_TRUNK_ENQUEUE_OK.</li>
<li>FR_TRUNK_ENQUEUE_DST_UNAVAILABLE - Connection cannot service requests.</li>
<li>FR_TRUNK_ENQUEUE_FAIL - Request isn't in a valid state to be reassigned. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02354">2354</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-71" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-71-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-71-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-71-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a72e34d33ea58c5c62d64d12c1620b819_cgraph.svg" width="100%" height="556"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-72" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-72-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-72-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-72-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a72e34d33ea58c5c62d64d12c1620b819_icgraph.svg" width="100%" height="442"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a22df6123e7ec90e1fafbdab2ed388774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22df6123e7ec90e1fafbdab2ed388774">&#9670;&nbsp;</a></span>fr_trunk_request_signal_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel a trunk request. </p>
<p>treq can be in any state, but requests to cancel if the treq is not in the FR_TRUNK_REQUEST_STATE_PARTIAL or FR_TRUNK_REQUEST_STATE_SENT state will be ignored.</p>
<p>The complete or failed callbacks will not be called here, as it's assumed the request_t * is now inviable as it's being cancelled.</p>
<p>The free function however, is called, and that should be used to perform necessary cleanup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01846">1846</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-73" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-73-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-73-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-73-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a22df6123e7ec90e1fafbdab2ed388774_cgraph.svg" width="100%" height="581"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-74" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-74-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-74-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-74-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a22df6123e7ec90e1fafbdab2ed388774_icgraph.svg" width="399" height="220"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af3a9f060ab945a71549c963550409e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a9f060ab945a71549c963550409e87">&#9670;&nbsp;</a></span>fr_trunk_request_signal_cancel_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_cancel_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a remote server acked our cancellation. </p>
<p>Called from request_demux to indicate that it got an ack for the cancellation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01978">1978</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-75" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-75-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-75-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-75-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af3a9f060ab945a71549c963550409e87_cgraph.svg" width="100%" height="419"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-76" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-76-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-76-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-76-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af3a9f060ab945a71549c963550409e87_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af5490c0467c8046f8af5576e0cca9b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5490c0467c8046f8af5576e0cca9b95">&#9670;&nbsp;</a></span>fr_trunk_request_signal_cancel_partial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_cancel_partial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a partial cancel write. </p>
<p>Where there's high load, and the outbound write buffer is full</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01930">1930</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-77" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-77-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-77-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-77-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_af5490c0467c8046f8af5576e0cca9b95_cgraph.svg" width="354" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-78" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-78-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-78-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-78-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af5490c0467c8046f8af5576e0cca9b95_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a11334935e79d8a96c5a0e77b37c93dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11334935e79d8a96c5a0e77b37c93dd3">&#9670;&nbsp;</a></span>fr_trunk_request_signal_cancel_sent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_cancel_sent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a remote server has been notified of the cancellation. </p>
<p>Called from request_cancel_mux to indicate that the datastore has been informed that the response is no longer needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01954">1954</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-79" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-79-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-79-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-79-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a11334935e79d8a96c5a0e77b37c93dd3_cgraph.svg" width="100%" height="451"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-80" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-80-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-80-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-80-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a11334935e79d8a96c5a0e77b37c93dd3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a68df84abee6703937fcd841ef75797c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68df84abee6703937fcd841ef75797c7">&#9670;&nbsp;</a></span>fr_trunk_request_signal_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a trunk request is complete. </p>
<p>The API client will be informed that the request is now complete. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01794">1794</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-81" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-81-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-81-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-81-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a68df84abee6703937fcd841ef75797c7_cgraph.svg" width="100%" height="419"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-82" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-82-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-82-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-82-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a68df84abee6703937fcd841ef75797c7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac307f0d9ad6fd24637e1a27745521946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac307f0d9ad6fd24637e1a27745521946">&#9670;&nbsp;</a></span>fr_trunk_request_signal_fail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_fail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that a trunk request failed. </p>
<p>The API client will be informed that the request has failed. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01826">1826</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-83" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-83-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-83-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-83-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac307f0d9ad6fd24637e1a27745521946_cgraph.svg" width="100%" height="419"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-84" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-84-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-84-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-84-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac307f0d9ad6fd24637e1a27745521946_icgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a894959f53af966e88a7ea0fda87dc722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a894959f53af966e88a7ea0fda87dc722">&#9670;&nbsp;</a></span>fr_trunk_request_signal_partial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_partial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a partial write. </p>
<p>Where there's high load, and the outbound write buffer is full</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01751">1751</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-85" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-85-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-85-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-85-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a894959f53af966e88a7ea0fda87dc722_cgraph.svg" width="354" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-86" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-86-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-86-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-86-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a894959f53af966e88a7ea0fda87dc722_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4280399df4f7f50713e75983220b6893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4280399df4f7f50713e75983220b6893">&#9670;&nbsp;</a></span>fr_trunk_request_signal_sent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_signal_sent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that the request was written to a connection successfully. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to signal state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01772">1772</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-87" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-87-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-87-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-87-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a4280399df4f7f50713e75983220b6893_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-88" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-88-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-88-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-88-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a4280399df4f7f50713e75983220b6893_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a745237c24d6896132622e9e304680260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745237c24d6896132622e9e304680260">&#9670;&nbsp;</a></span>fr_trunk_request_state_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_trunk_request_state_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfr__log__t.html">fr_log_t</a> const *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2util_2log_8h.html#affd805145b7ef5f1edc308ebb525dd78">fr_log_type_t</a>&#160;</td>
          <td class="paramname"><em>log_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> const *&#160;</td>
          <td class="paramname"><em>treq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02502">2502</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-89" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-89-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-89-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-89-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a745237c24d6896132622e9e304680260_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-90" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-90-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-90-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-90-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a745237c24d6896132622e9e304680260_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a055d797a7b5348770b776a633780ee1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055d797a7b5348770b776a633780ee1d">&#9670;&nbsp;</a></span>fr_trunk_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_trunk_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the trunk running. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04330">4330</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-91" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-91-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-91-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-91-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a055d797a7b5348770b776a633780ee1d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-92" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-92-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-92-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-92-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a055d797a7b5348770b776a633780ee1d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a53fb27629f37ae75ba241d33cb7f33ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53fb27629f37ae75ba241d33cb7f33ca">&#9670;&nbsp;</a></span>trunk_backlog_drain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_backlog_drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Drain the backlog of as many requests as possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>To drain backlog requests for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04236">4236</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-93" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-93-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-93-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-93-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a53fb27629f37ae75ba241d33cb7f33ca_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-94" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-94-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-94-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-94-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a53fb27629f37ae75ba241d33cb7f33ca_icgraph.svg" width="100%" height="536"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a760b35001666e51adba8ade225653c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a760b35001666e51adba8ade225653c61">&#9670;&nbsp;</a></span>trunk_connection_auto_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_auto_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Automatically mark a connection as inactive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to potentially mark as inactive. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02571">2571</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-95" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-95-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-95-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-95-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a760b35001666e51adba8ade225653c61_cgraph.svg" width="100%" height="464"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-96" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-96-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-96-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-96-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a760b35001666e51adba8ade225653c61_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3ebef07daa894102a5268a1ce21965b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ebef07daa894102a5268a1ce21965b6">&#9670;&nbsp;</a></span>trunk_connection_auto_unfull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_auto_unfull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Automatically mark a connection as active or reconnect it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to potentially mark as active or reconnect. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02612">2612</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-97" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-97-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-97-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-97-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3ebef07daa894102a5268a1ce21965b6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-98" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-98-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-98-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-98-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3ebef07daa894102a5268a1ce21965b6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0eea2108f3aaf7a16ae8b86404c927fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eea2108f3aaf7a16ae8b86404c927fc">&#9670;&nbsp;</a></span>trunk_connection_close_if_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_close_if_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close connections in a particular connection list if they have no requests associated with them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>containing connections we want to close. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">head</td><td>of list of connections to examine. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03683">3683</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-99" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-99-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-99-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-99-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0eea2108f3aaf7a16ae8b86404c927fc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-100" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-100-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-100-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-100-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0eea2108f3aaf7a16ae8b86404c927fc_icgraph.svg" width="100%" height="390"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a77827ab1583f3a13fe628963f6282fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77827ab1583f3a13fe628963f6282fb5">&#9670;&nbsp;</a></span>trunk_connection_enter_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_active </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection back to the active state. </p>
<p>This should only be called on a connection which is in the full state, inactive state, draining state or connecting state. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02919">2919</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-101" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-101-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-101-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-101-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a77827ab1583f3a13fe628963f6282fb5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-102" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-102-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-102-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-102-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a77827ab1583f3a13fe628963f6282fb5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7ec4ee0e51060a8296d598b4ee3449d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec4ee0e51060a8296d598b4ee3449d6">&#9670;&nbsp;</a></span>trunk_connection_enter_draining()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_draining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection to the draining state. </p>
<p>Removes the connection from the active heap so it won't be assigned any new connections. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02853">2853</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-103" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-103-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-103-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-103-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7ec4ee0e51060a8296d598b4ee3449d6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-104" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-104-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-104-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-104-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7ec4ee0e51060a8296d598b4ee3449d6_icgraph.svg" width="100%" height="473"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aeb5ec74157948b2fb10874aa5b3fe3d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5ec74157948b2fb10874aa5b3fe3d6">&#9670;&nbsp;</a></span>trunk_connection_enter_draining_to_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_draining_to_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection to the draining-to-reconnect state. </p>
<p>Removes the connection from the active heap so it won't be assigned any new connections. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02885">2885</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-105" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-105-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-105-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-105-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aeb5ec74157948b2fb10874aa5b3fe3d6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-106" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-106-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-106-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-106-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aeb5ec74157948b2fb10874aa5b3fe3d6_icgraph.svg" width="100%" height="537"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab6fc19d1e914bf05a27300a5875151a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6fc19d1e914bf05a27300a5875151a5">&#9670;&nbsp;</a></span>trunk_connection_enter_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection to the full state. </p>
<p>Called whenever a trunk connection is at the maximum number of requests. Removes the connection from the connected heap, and places it in the full list. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02778">2778</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-107" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-107-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-107-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-107-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ab6fc19d1e914bf05a27300a5875151a5_cgraph.svg" width="100%" height="489"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-108" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-108-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-108-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-108-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ab6fc19d1e914bf05a27300a5875151a5_icgraph.svg" width="100%" height="523"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a90f2eebe4614ce352e760bb44fb5e63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f2eebe4614ce352e760bb44fb5e63c">&#9670;&nbsp;</a></span>trunk_connection_enter_inactive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_inactive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection to the inactive state. </p>
<p>Called whenever the API client wants to stop new requests being enqueued on a trunk connection. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02800">2800</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-109" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-109-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-109-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-109-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a90f2eebe4614ce352e760bb44fb5e63c_cgraph.svg" width="100%" height="489"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-110" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-110-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-110-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-110-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a90f2eebe4614ce352e760bb44fb5e63c_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af52d32b27b789380f99dc5fc1ec73211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52d32b27b789380f99dc5fc1ec73211">&#9670;&nbsp;</a></span>trunk_connection_enter_inactive_draining()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_enter_inactive_draining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a connection to the inactive-draining state. </p>
<p>Called whenever the trunk manager wants to drain an inactive connection of its requests. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02823">2823</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-111" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-111-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-111-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-111-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af52d32b27b789380f99dc5fc1ec73211_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-112" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-112-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-112-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-112-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af52d32b27b789380f99dc5fc1ec73211_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aeaad50225e220cc98d1a1cf5a5941298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaad50225e220cc98d1a1cf5a5941298">&#9670;&nbsp;</a></span>trunk_connection_event_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_event_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the registrations for I/O events we're interested in. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02658">2658</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-113" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-113-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-113-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-113-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aeaad50225e220cc98d1a1cf5a5941298_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-114" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-114-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-114-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-114-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aeaad50225e220cc98d1a1cf5a5941298_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a55fabb4c84da4db82026a1f13b72d373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fabb4c84da4db82026a1f13b72d373">&#9670;&nbsp;</a></span>trunk_connection_is_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trunk_connection_is_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether a trunk connection should currently be considered full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true if the connection is full.</li>
<li>false if the connection is not full. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02594">2594</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-115" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-115-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-115-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-115-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a55fabb4c84da4db82026a1f13b72d373_cgraph.svg" width="582" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-116" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-116-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-116-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-116-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a55fabb4c84da4db82026a1f13b72d373_icgraph.svg" width="100%" height="544"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa4ae56041249d9c2d59053d933ff3416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ae56041249d9c2d59053d933ff3416">&#9670;&nbsp;</a></span>trunk_connection_readable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_readable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A connection is readable. </p>
<p>Call the request_demux function to read pending requests </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02625">2625</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-117" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-117-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-117-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-117-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_aa4ae56041249d9c2d59053d933ff3416_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af55aeabd0743377eb3f519244d2f10d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55aeabd0743377eb3f519244d2f10d6">&#9670;&nbsp;</a></span>trunk_connection_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a trunk connection from whichever list it's currently in. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02722">2722</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-118" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-118-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-118-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-118-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af55aeabd0743377eb3f519244d2f10d6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-119" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-119-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-119-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-119-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_af55aeabd0743377eb3f519244d2f10d6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8b49aca0aebe6b7a37e522a1ac715336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b49aca0aebe6b7a37e522a1ac715336">&#9670;&nbsp;</a></span>trunk_connection_requests_dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t trunk_connection_requests_dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlist_8h.html#structfr__dlist__head__t">fr_dlist_head_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shift requests in the specified states onto new connections. </p>
<p>This function will blindly dequeue any requests in the specified state and get them back to the unassigned state, cancelling any sent or partially sent requests.</p>
<p>This function does not check that dequeuing a request in a particular state is a sane or sensible thing to do, that's up to the caller!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>A list to insert the newly dequeued and unassigned requests into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to dequeue requests from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">states</td><td>Dequeue request in these states. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>The maximum number of requests to dequeue. 0 for unlimited. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01458">1458</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-120" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-120-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-120-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-120-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8b49aca0aebe6b7a37e522a1ac715336_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-121" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-121-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-121-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-121-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8b49aca0aebe6b7a37e522a1ac715336_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac2fe6b5bbb2452eda599a3fc16472d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2fe6b5bbb2452eda599a3fc16472d4d">&#9670;&nbsp;</a></span>trunk_connection_requests_requeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t trunk_connection_requests_requeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fail_bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove requests in specified states from a connection, attempting to distribute them to new connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>To remove requests from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">states</td><td>One or more states or'd together. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>The maximum number of requests to dequeue. 0 for unlimited. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fail_bound</td><td>If true causes any requests bound to the connection to fail. If false bound requests will not be moved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of requests re-queued. </dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01569">1569</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-122" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-122-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-122-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-122-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac2fe6b5bbb2452eda599a3fc16472d4d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-123" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-123-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-123-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-123-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac2fe6b5bbb2452eda599a3fc16472d4d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a62baa359a34e9d6dd05554c3e20c8caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62baa359a34e9d6dd05554c3e20c8caa">&#9670;&nbsp;</a></span>trunk_connection_spawn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int trunk_connection_spawn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to spawn a new connection. </p>
<p>Calls the API client's alloc() callback to create a new fr_connection_t, then inserts the connection into the 'connecting' list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to spawn connection in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>The current time. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03408">3408</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-124" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-124-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-124-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-124-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a62baa359a34e9d6dd05554c3e20c8caa_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-125" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-125-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-125-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-125-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a62baa359a34e9d6dd05554c3e20c8caa_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6de2af5b1936dcf0f59ddf66d21fb38c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de2af5b1936dcf0f59ddf66d21fb38c">&#9670;&nbsp;</a></span>trunk_connection_writable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_connection_writable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A connection is writable. </p>
<p>Call the request_mux function to write pending requests </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02635">2635</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-126" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-126-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-126-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-126-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="trunk_8c_a6de2af5b1936dcf0f59ddf66d21fb38c_cgraph.svg" width="592" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-127" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-127-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-127-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-127-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a6de2af5b1936dcf0f59ddf66d21fb38c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8fb6d1576f81b578b3090bfa8bb3c366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb6d1576f81b578b3090bfa8bb3c366">&#9670;&nbsp;</a></span>trunk_manage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_manage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the algorithm we use to manage requests per connection levels. </p>
<p>This is executed periodically using a timer event, and opens/closes connections.</p>
<p>The aim is to try and keep the request per connection level in a sweet spot, where there's enough outstanding work for the connection/pipelining to work efficiently, but not so much so that we encounter increased latency.</p>
<p>In the request enqueue and dequeue functions we record every time the average number of requests per connection goes above the target count and record every time the average number of requests per connection goes below the target count.</p>
<p>This may sound expensive, but in all cases we're just summing counters. CPU time required does not increase with additional requests, only with large numbers of connections.</p>
<p>If we do encounter scaling issues, we can always maintain the counters as aggregates as an optimisation later.</p>
<p>If when the management function runs, the trunk was above the target most recently, we:</p><ul>
<li>Return if we've been in this state for a shorter period than 'open_delay'.</li>
<li>Return if we're at max.</li>
<li>Return if opening a new connection will take us below the load target.</li>
<li>Return if we last opened a connection within 'open_delay'.</li>
<li>Otherwise we attempt to open a new connection.</li>
</ul>
<p>If the trunk we below the target most recently, we:</p><ul>
<li>Return if we've been in this state for a shorter period than 'close_delay'.</li>
<li>Return if we're at min.</li>
<li>Return if we have no connections.</li>
<li>Close a connection if min is 0, and we have no outstanding requests. Then return.</li>
<li>Return if closing a new connection will take us above the load target.</li>
<li>Return if we last closed a connection within 'closed_delay'.</li>
<li>Otherwise we move a connection to draining state. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03789">3789</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-128" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-128-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-128-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-128-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8fb6d1576f81b578b3090bfa8bb3c366_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-129" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-129-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-129-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-129-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8fb6d1576f81b578b3090bfa8bb3c366_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a62e72fe5eeeb6fd6ee7184b0db607fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e72fe5eeeb6fd6ee7184b0db607fd9">&#9670;&nbsp;</a></span>trunk_rebalance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_rebalance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebalance connections across active trunk members when a new connection becomes active. </p>
<p>We don't have any visibility into the connection prioritisation algorithm it's essentially a black box.</p>
<p>We can however determine when the correct level of requests per connection has been reached, by dequeuing and requeing requests up until the point where the connection that just had a request dequeued, receives the same request back.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>The trunk to rebalance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l03725">3725</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-130" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-130-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-130-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-130-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a62e72fe5eeeb6fd6ee7184b0db607fd9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-131" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-131-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-131-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-131-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a62e72fe5eeeb6fd6ee7184b0db607fd9_icgraph.svg" width="100%" height="545"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9557c719aa5f6d88bc2da64503c777e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9557c719aa5f6d88bc2da64503c777e2">&#9670;&nbsp;</a></span>trunk_request_check_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a> trunk_request_check_enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> **&#160;</td>
          <td class="paramname"><em>tconn_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if a trunk request can be enqueued. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">tconn_out</td><td>Connection the request may be enqueued on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>To enqueue requests on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>associated with the treq (if any). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_TRUNK_ENQUEUE_OK caller should enqueue request on provided tconn.</li>
<li>FR_TRUNK_ENQUEUE_IN_BACKLOG Request should be queued in the backlog.</li>
<li>FR_TRUNK_ENQUEUE_NO_CAPACITY Unable to enqueue request as we have no spare connections or backlog space.</li>
<li>FR_TRUNK_ENQUEUE_DST_UNAVAILABLE Can't enqueue because the destination is unreachable. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01325">1325</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-132" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-132-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-132-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-132-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a9557c719aa5f6d88bc2da64503c777e2_cgraph.svg" width="100%" height="479"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-133" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-133-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-133-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-133-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a9557c719aa5f6d88bc2da64503c777e2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a44f207c0dae5e3f74d531c1548305ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f207c0dae5e3f74d531c1548305ba4">&#9670;&nbsp;</a></span>trunk_request_enqueue_existing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="trunk_8h.html#af66b28863062ef87a38f7f4aa0cbfddf">fr_trunk_enqueue_t</a> trunk_request_enqueue_existing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueue a request which has never been assigned to a connection or was previously cancelled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to re enqueue. Must have been removed from its existing connection with <a class="el" href="trunk_8c.html#a8b49aca0aebe6b7a37e522a1ac715336" title="Shift requests in the specified states onto new connections. ">trunk_connection_requests_dequeue</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>FR_TRUNK_ENQUEUE_OK Request was re-enqueued.</li>
<li>FR_TRUNK_ENQUEUE_NO_CAPACITY Request enqueueing failed because we're at capacity.</li>
<li>FR_TRUNK_ENQUEUE_DST_UNAVAILABLE Enqueuing failed for some reason. Usually because the connection to the resource is down. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01401">1401</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-134" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-134-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-134-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-134-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a44f207c0dae5e3f74d531c1548305ba4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-135" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-135-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-135-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-135-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a44f207c0dae5e3f74d531c1548305ba4_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8a952a7836847d02ca2e59ecd9817d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a952a7836847d02ca2e59ecd9817d95">&#9670;&nbsp;</a></span>trunk_request_enter_backlog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_backlog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the backlog state, adding it to the backlog of the trunk. </p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn and treq may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause are not used. This is due to call to trunk_manage.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new</td><td>Whether this is a new request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00874">874</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-136" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-136-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-136-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-136-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8a952a7836847d02ca2e59ecd9817d95_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-137" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-137-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-137-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-137-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a8a952a7836847d02ca2e59ecd9817d95_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac56a1d3856d033bf437fc866c1a1cf77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56a1d3856d033bf437fc866c1a1cf77">&#9670;&nbsp;</a></span>trunk_request_enter_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1d">fr_trunk_cancel_reason_t</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the cancel state, placing it in a connection's cancellation list. </p>
<p>If a request_cancel_send callback is provided, that callback will be called periodically for requests which were cancelled due to a signal.</p>
<p>The request_cancel_send callback will dequeue cancelled requests and inform a remote server that the result is no longer required.</p>
<p>A request must enter this state before being added to the backlog of another connection if it's been sent or partially sent.</p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn and treq may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause is not used. This is due to call to trunk_connection_event_update.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>Why the request was cancelled. Should be one of:<ul>
<li>FR_TRUNK_CANCEL_REASON_SIGNAL request cancelled because of a signal from the interpreter.</li>
<li>FR_TRUNK_CANCEL_REASON_MOVE request cancelled because the connection failed and it needs to be assigned to a new connection.</li>
<li>FR_TRUNK_CANCEL_REASON_REQUEUE request cancelled as it needs to be resent on the same connection. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01101">1101</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-138" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-138-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-138-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-138-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac56a1d3856d033bf437fc866c1a1cf77_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-139" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-139-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-139-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-139-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ac56a1d3856d033bf437fc866c1a1cf77_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1a3ae979a41f483d1429f5067c7cabdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3ae979a41f483d1429f5067c7cabdb">&#9670;&nbsp;</a></span>trunk_request_enter_cancel_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_cancel_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancellation was acked, the request is complete, free it. </p>
<p>The API client will not be informed, as the original request_t * will likely have been freed by this point.</p>
<dl class="section note"><dt>Note</dt><dd>treq will be inviable after a call to this function. treq-&gt;tconn may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause is not used. This is due to call to trunk_request_remove_from_conn.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to mark as complete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01228">1228</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-140" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-140-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-140-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-140-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1a3ae979a41f483d1429f5067c7cabdb_cgraph.svg" width="100%" height="594"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-141" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-141-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-141-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-141-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a1a3ae979a41f483d1429f5067c7cabdb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7daff41fa3e0276032adc83e6565782e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7daff41fa3e0276032adc83e6565782e">&#9670;&nbsp;</a></span>trunk_request_enter_cancel_partial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_cancel_partial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the cancel_partial state, placing it in a connection's cancel_partial slot. </p>
<p>The request_demux function is then responsible for signalling that the cancel request is complete when the remote server acknowledges the cancellation request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01148">1148</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-142" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-142-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-142-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-142-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a7daff41fa3e0276032adc83e6565782e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a99d11ac4bceeb1d2ccbc2efd9359b6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d11ac4bceeb1d2ccbc2efd9359b6b0">&#9670;&nbsp;</a></span>trunk_request_enter_cancel_sent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_cancel_sent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the cancel_sent state, placing it in a connection's cancel_sent list. </p>
<p>The request_demux function is then responsible for signalling that the cancel request is complete when the remote server acknowledges the cancellation request.</p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn and treq may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause is not used. This is due to call to trunk_connection_event_update.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01183">1183</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-143" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-143-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-143-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-143-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a99d11ac4bceeb1d2ccbc2efd9359b6b0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-144" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-144-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-144-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-144-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a99d11ac4bceeb1d2ccbc2efd9359b6b0_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a649e3608119a22b5f9c997243532056a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a649e3608119a22b5f9c997243532056a">&#9670;&nbsp;</a></span>trunk_request_enter_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request completed successfully, inform the API client and free the request. </p>
<dl class="section note"><dt>Note</dt><dd>treq will be inviable after a call to this function. treq-&gt;tconn may also be inviable due to call to trunk_request_remove_from_conn.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to mark as complete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01259">1259</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-145" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-145-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-145-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-145-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a649e3608119a22b5f9c997243532056a_cgraph.svg" width="100%" height="594"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-146" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-146-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-146-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-146-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a649e3608119a22b5f9c997243532056a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae8f376618040ed573738a25f97a48fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f376618040ed573738a25f97a48fed">&#9670;&nbsp;</a></span>trunk_request_enter_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_failed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request failed, inform the API client and free the request. </p>
<dl class="section note"><dt>Note</dt><dd>treq will be inviable after a call to this function. treq-&gt;tconn may also be inviable due to call to trunk_request_remove_from_conn.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to mark as failed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01289">1289</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-147" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-147-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-147-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-147-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae8f376618040ed573738a25f97a48fed_cgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-148" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-148-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-148-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-148-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ae8f376618040ed573738a25f97a48fed_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="affc9a6d8bab4bb46bc0b87e0a3c715ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc9a6d8bab4bb46bc0b87e0a3c715ed">&#9670;&nbsp;</a></span>trunk_request_enter_partial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_partial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the partial state, indicating that is has been partially sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01001">1001</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-149" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-149-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-149-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-149-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_affc9a6d8bab4bb46bc0b87e0a3c715ed_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adb084310620200de5d2f1cf1ef8f0ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb084310620200de5d2f1cf1ef8f0ee7">&#9670;&nbsp;</a></span>trunk_request_enter_pending()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_pending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#aee0dc607323967c0febcf18667763f39">fr_trunk_connection_t</a> *&#160;</td>
          <td class="paramname"><em>tconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the pending state, adding it to the backlog of an active connection. </p>
<p>All trunk requests being added to a connection get passed to this function. All trunk requests being removed from a connection get passed to <a class="el" href="trunk_8c.html#a57c049e07e8913dafb84d76e548fa404" title="Remove a request from all connection lists. ">trunk_request_remove_from_conn</a>.</p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn and treq may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause is not used. This is due to call to trunk_connection_event_update.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tconn</td><td>to enqueue the request on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new</td><td>Whether this is a new request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00936">936</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-150" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-150-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-150-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-150-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_adb084310620200de5d2f1cf1ef8f0ee7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-151" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-151-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-151-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-151-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_adb084310620200de5d2f1cf1ef8f0ee7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a25de4b8d6e90f9001b5bc02a0cef5980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25de4b8d6e90f9001b5bc02a0cef5980">&#9670;&nbsp;</a></span>trunk_request_enter_sent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_sent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the sent state, indicating that it's been sent in its entirety. </p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn and treq may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause is not used. This is due to call to trunk_connection_event_update.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l01031">1031</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-152" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-152-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-152-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-152-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a25de4b8d6e90f9001b5bc02a0cef5980_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-153" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-153-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-153-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-153-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a25de4b8d6e90f9001b5bc02a0cef5980_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0832cb5699c225cb2dcca015bbdbcf22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0832cb5699c225cb2dcca015bbdbcf22">&#9670;&nbsp;</a></span>trunk_request_enter_unassigned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_enter_unassigned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transition a request to the unassigned state, in preparation for re-assignment. </p>
<dl class="section note"><dt>Note</dt><dd>treq-&gt;tconn may be inviable after calling if treq-&gt;conn and fr_connection_signals_pause are not used. This is due to call to trunk_request_remove_from_conn.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00839">839</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-154" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-154-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-154-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-154-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0832cb5699c225cb2dcca015bbdbcf22_cgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-155" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-155-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-155-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-155-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a0832cb5699c225cb2dcca015bbdbcf22_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a57c049e07e8913dafb84d76e548fa404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c049e07e8913dafb84d76e548fa404">&#9670;&nbsp;</a></span>trunk_request_remove_from_conn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trunk_request_remove_from_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a request from all connection lists. </p>
<p>A common function used by init, fail, complete state functions to disassociate a request from a connection in preparation for freeing or reassignment.</p>
<p>Despite its unassuming name, this function is <em>the</em> place to put calls to functions which need to be called when the number of requests associated with a connection changes.</p>
<p>Trunk requests will always be passed to this function before they're removed from a connection, even if the requests are being freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">treq</td><td>to trigger a state change for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00760">760</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-156" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-156-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-156-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-156-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a57c049e07e8913dafb84d76e548fa404_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-157" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-157-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-157-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-157-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a57c049e07e8913dafb84d76e548fa404_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad7253c0a29889b699fd2fe01c640ecfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7253c0a29889b699fd2fe01c640ecfd">&#9670;&nbsp;</a></span>trunk_request_state_log_entry_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trunk_request_state_log_entry_add </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#ac3eb131a80a4eb550e2f859d599144ea">fr_trunk_request_t</a> *&#160;</td>
          <td class="paramname"><em>treq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4e">fr_trunk_request_state_t</a>&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l02471">2471</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-158" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-158-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-158-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-158-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_ad7253c0a29889b699fd2fe01c640ecfd_cgraph.svg" width="100%" height="480"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3da6a65cff3b03e18942d9036c5c3a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da6a65cff3b03e18942d9036c5c3a0a">&#9670;&nbsp;</a></span>trunk_requests_per_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t trunk_requests_per_connection </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>conn_count_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>req_count_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trunk_8c.html#a989e62923fa467b83f977ae0a44ab51d">fr_trunk_t</a> *&#160;</td>
          <td class="paramname"><em>trunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="build_8h.html#a380acaedb152d04b0e3e9fa19a0b484d">NDEBUG_UNUSED</a> bool&#160;</td>
          <td class="paramname"><em>verify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update timestamps for when we last had a transition from above target to below target or vice versa. </p>
<p>Should be called on every time a connection or request is allocated or freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">conn_count_out</td><td>How many connections we considered. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">req_count_out</td><td>How many requests we considered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trunk</td><td>to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>The current time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verify</td><td>if true (and this is a debug build), then assert if req_per_conn has changed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if the average couldn't be calculated (no requests or no connections).</li>
<li>The average number of requests per connection. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l04137">4137</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>
<div id="dynsection-159" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-159-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-159-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-159-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3da6a65cff3b03e18942d9036c5c3a0a_cgraph.svg" width="100%" height="503"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-160" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-160-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-160-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-160-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="trunk_8c_a3da6a65cff3b03e18942d9036c5c3a0a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3d5be3edd4339d254342ef2b682bae67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5be3edd4339d254342ef2b682bae67">&#9670;&nbsp;</a></span>fr_trunk_cancellation_reasons</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const fr_trunk_cancellation_reasons[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CANCEL_REASON_NONE&quot;</span>),             <a class="code" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1dada4ddd486149ea11515afe0412d479f0">FR_TRUNK_CANCEL_REASON_NONE</a>             },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CANCEL_REASON_SIGNAL&quot;</span>),           <a class="code" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1da0797b8302a0cc45dad98b51ba93306c3">FR_TRUNK_CANCEL_REASON_SIGNAL</a>           },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CANCEL_REASON_MOVE&quot;</span>),             <a class="code" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1da5891c7698e7ccac08869644c51f28cbe">FR_TRUNK_CANCEL_REASON_MOVE</a>             },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CANCEL_REASON_REQUEUE&quot;</span>),          <a class="code" href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1dacca58320d90eeb1c2abe6318e8ac82fa">FR_TRUNK_CANCEL_REASON_REQUEUE</a>          }</div><div class="line">}</div><div class="ttc" id="trunk_8h_html_a0d4512f57c53e6d70069a37c199abd1da5891c7698e7ccac08869644c51f28cbe"><div class="ttname"><a href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1da5891c7698e7ccac08869644c51f28cbe">FR_TRUNK_CANCEL_REASON_MOVE</a></div><div class="ttdoc">Request cancelled because it&amp;#39;s being moved. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00058">trunk.h:58</a></div></div>
<div class="ttc" id="trunk_8h_html_a0d4512f57c53e6d70069a37c199abd1dacca58320d90eeb1c2abe6318e8ac82fa"><div class="ttname"><a href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1dacca58320d90eeb1c2abe6318e8ac82fa">FR_TRUNK_CANCEL_REASON_REQUEUE</a></div><div class="ttdoc">A previously sent request is being requeued. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00059">trunk.h:59</a></div></div>
<div class="ttc" id="trunk_8h_html_a0d4512f57c53e6d70069a37c199abd1dada4ddd486149ea11515afe0412d479f0"><div class="ttname"><a href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1dada4ddd486149ea11515afe0412d479f0">FR_TRUNK_CANCEL_REASON_NONE</a></div><div class="ttdoc">Request has not been cancelled. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00056">trunk.h:56</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
<div class="ttc" id="trunk_8h_html_a0d4512f57c53e6d70069a37c199abd1da0797b8302a0cc45dad98b51ba93306c3"><div class="ttname"><a href="trunk_8h.html#a0d4512f57c53e6d70069a37c199abd1da0797b8302a0cc45dad98b51ba93306c3">FR_TRUNK_CANCEL_REASON_SIGNAL</a></div><div class="ttdoc">Request cancelled due to a signal. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00057">trunk.h:57</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00378">378</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9d84d907e9728508282decde6031b4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d84d907e9728508282decde6031b4b8">&#9670;&nbsp;</a></span>fr_trunk_cancellation_reasons_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_cancellation_reasons_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a3d5be3edd4339d254342ef2b682bae67">fr_trunk_cancellation_reasons</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00384">384</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a8873963fb2c86e66c2b590b21c9c716e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8873963fb2c86e66c2b590b21c9c716e">&#9670;&nbsp;</a></span>fr_trunk_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const fr_trunk_config[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;start&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f">FR_TYPE_UINT16</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, start), .dflt = <span class="stringliteral">&quot;5&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;min&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f">FR_TYPE_UINT16</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, <a class="code" href="dbuff_8c.html#a6e56446e714b3c7a19bf9537185674ec">min</a>), .dflt = <span class="stringliteral">&quot;1&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;max&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f">FR_TYPE_UINT16</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, max), .dflt = <span class="stringliteral">&quot;5&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;connecting&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f">FR_TYPE_UINT16</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, connecting), .dflt = <span class="stringliteral">&quot;2&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;uses&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02">FR_TYPE_UINT64</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, max_uses), .dflt = <span class="stringliteral">&quot;0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;lifetime&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, lifetime), .dflt = <span class="stringliteral">&quot;0&quot;</span> },</div><div class="line"></div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;open_delay&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, open_delay), .dflt = <span class="stringliteral">&quot;0.2&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;close_delay&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, close_delay), .dflt = <span class="stringliteral">&quot;10.0&quot;</span> },</div><div class="line"></div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;manage_interval&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, manage_interval), .dflt = <span class="stringliteral">&quot;0.2&quot;</span> },</div><div class="line"></div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;connection&quot;</span>, <a class="code" href="cf__parse_8h.html#a516cb54dc29495fd5ef8034753b35915">FR_TYPE_SUBSECTION</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, conn_conf), .subcs = (<span class="keywordtype">void</span> <span class="keyword">const</span> *) <a class="code" href="trunk_8c.html#a50becf17933eb223fe6523d557bd2929">fr_trunk_config_connection</a>, .subcs_size = <span class="keyword">sizeof</span>(<a class="code" href="trunk_8c.html#a50becf17933eb223fe6523d557bd2929">fr_trunk_config_connection</a>) },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#ab3723f98a2258a879cdf1ef4859f691d">FR_CONF_POINTER</a>(<span class="stringliteral">&quot;request&quot;</span>, <a class="code" href="cf__parse_8h.html#a516cb54dc29495fd5ef8034753b35915">FR_TYPE_SUBSECTION</a>, NULL), .subcs = (<span class="keywordtype">void</span> <span class="keyword">const</span> *) <a class="code" href="trunk_8c.html#acab21f8d900e16d88047615452a62239">fr_trunk_config_request</a> },</div><div class="line"></div><div class="line">        <a class="code" href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="line">}</div><div class="ttc" id="cf__parse_8h_html_ab3723f98a2258a879cdf1ef4859f691d"><div class="ttname"><a href="cf__parse_8h.html#ab3723f98a2258a879cdf1ef4859f691d">FR_CONF_POINTER</a></div><div class="ttdeci">#define FR_CONF_POINTER(_n, _t, _p)</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00239">cf_parse.h:239</a></div></div>
<div class="ttc" id="trunk_8c_html_acab21f8d900e16d88047615452a62239"><div class="ttname"><a href="trunk_8c.html#acab21f8d900e16d88047615452a62239">fr_trunk_config_request</a></div><div class="ttdeci">static CONF_PARSER const fr_trunk_config_request[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00274">trunk.c:274</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a516cb54dc29495fd5ef8034753b35915"><div class="ttname"><a href="cf__parse_8h.html#a516cb54dc29495fd5ef8034753b35915">FR_TYPE_SUBSECTION</a></div><div class="ttdeci">#define FR_TYPE_SUBSECTION</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00278">cf_parse.h:278</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a0505c2d6520cd701b0ba43d06cbd62c7"><div class="ttname"><a href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="ttdeci">#define CONF_PARSER_TERMINATOR</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00465">cf_parse.h:465</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a65712f5c07f63ce95739dbd24c822080"><div class="ttname"><a href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a></div><div class="ttdeci">#define FR_CONF_OFFSET(_n, _t, _s, _f)</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00230">cf_parse.h:230</a></div></div>
<div class="ttc" id="trunk_8h_html_structfr__trunk__conf__t"><div class="ttname"><a href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a></div><div class="ttdoc">Common configuration parameters for a trunk. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00193">trunk.h:193</a></div></div>
<div class="ttc" id="trunk_8c_html_a50becf17933eb223fe6523d557bd2929"><div class="ttname"><a href="trunk_8c.html#a50becf17933eb223fe6523d557bd2929">fr_trunk_config_connection</a></div><div class="ttdeci">static CONF_PARSER const fr_trunk_config_connection[]</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8c_source.html#l00282">trunk.c:282</a></div></div>
<div class="ttc" id="dbuff_8c_html_a6e56446e714b3c7a19bf9537185674ec"><div class="ttname"><a href="dbuff_8c.html#a6e56446e714b3c7a19bf9537185674ec">min</a></div><div class="ttdeci">static size_t min(size_t x, size_t y)</div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8c_source.html#l00063">dbuff.c:63</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a51d06b2fa62e862fcb34d7c1a122a68f">FR_TYPE_UINT16</a></div><div class="ttdoc">16 Bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00053">types.h:53</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a></div><div class="ttdoc">A period of time measured in nanoseconds. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00070">types.h:70</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02">FR_TYPE_UINT64</a></div><div class="ttdoc">64 Bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00055">types.h:55</a></div></div>
</div><!-- fragment -->
<p>Config parser definitions to populate a <a class="el" href="trunk_8h.html#structfr__trunk__conf__t" title="Common configuration parameters for a trunk. ">fr_trunk_conf_t</a>. </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00289">289</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a50becf17933eb223fe6523d557bd2929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50becf17933eb223fe6523d557bd2929">&#9670;&nbsp;</a></span>fr_trunk_config_connection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const fr_trunk_config_connection[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;connect_timeout&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="connection_8h.html#structfr__connection__conf__t">fr_connection_conf_t</a>, connection_timeout), .dflt = <span class="stringliteral">&quot;3.0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;reconnect_delay&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="connection_8h.html#structfr__connection__conf__t">fr_connection_conf_t</a>, reconnection_delay), .dflt = <span class="stringliteral">&quot;1&quot;</span> },</div><div class="line"></div><div class="line">        <a class="code" href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="line">}</div><div class="ttc" id="connection_8h_html_structfr__connection__conf__t"><div class="ttname"><a href="connection_8h.html#structfr__connection__conf__t">fr_connection_conf_t</a></div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00091">connection.h:91</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a0505c2d6520cd701b0ba43d06cbd62c7"><div class="ttname"><a href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="ttdeci">#define CONF_PARSER_TERMINATOR</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00465">cf_parse.h:465</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a65712f5c07f63ce95739dbd24c822080"><div class="ttname"><a href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a></div><div class="ttdeci">#define FR_CONF_OFFSET(_n, _t, _s, _f)</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00230">cf_parse.h:230</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a></div><div class="ttdoc">A period of time measured in nanoseconds. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00070">types.h:70</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00282">282</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="acab21f8d900e16d88047615452a62239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab21f8d900e16d88047615452a62239">&#9670;&nbsp;</a></span>fr_trunk_config_request</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> const fr_trunk_config_request[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;per_connection_max&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, max_req_per_conn), .dflt = <span class="stringliteral">&quot;2000&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;per_connection_target&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, target_req_per_conn), .dflt = <span class="stringliteral">&quot;1000&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;free_delay&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a>, req_cleanup_delay), .dflt = <span class="stringliteral">&quot;10.0&quot;</span> },</div><div class="line"></div><div class="line">        <a class="code" href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="line">}</div><div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a></div><div class="ttdoc">32 Bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00054">types.h:54</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a0505c2d6520cd701b0ba43d06cbd62c7"><div class="ttname"><a href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="ttdeci">#define CONF_PARSER_TERMINATOR</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00465">cf_parse.h:465</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a65712f5c07f63ce95739dbd24c822080"><div class="ttname"><a href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a></div><div class="ttdeci">#define FR_CONF_OFFSET(_n, _t, _s, _f)</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00230">cf_parse.h:230</a></div></div>
<div class="ttc" id="trunk_8h_html_structfr__trunk__conf__t"><div class="ttname"><a href="trunk_8h.html#structfr__trunk__conf__t">fr_trunk_conf_t</a></div><div class="ttdoc">Common configuration parameters for a trunk. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00193">trunk.h:193</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a></div><div class="ttdoc">A period of time measured in nanoseconds. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00070">types.h:70</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00274">274</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ae8309c7de443e94a1201baa3ec3aa771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8309c7de443e94a1201baa3ec3aa771">&#9670;&nbsp;</a></span>fr_trunk_conn_trigger_names</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__indexed__bit__pos__t">fr_table_num_indexed_bit_pos_t</a> const fr_trunk_conn_trigger_names[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_halted&quot;</span>),                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824">FR_TRUNK_CONN_HALTED</a>                    },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_init&quot;</span>),                    <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4">FR_TRUNK_CONN_INIT</a>                      },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_connecting&quot;</span>),              <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b">FR_TRUNK_CONN_CONNECTING</a>                },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_active&quot;</span>),                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a>                    },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_closed&quot;</span>),                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de">FR_TRUNK_CONN_CLOSED</a>                    },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_full&quot;</span>),                    <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee">FR_TRUNK_CONN_FULL</a>                      },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_inactive&quot;</span>),                <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6">FR_TRUNK_CONN_INACTIVE</a>                  },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_inactive_draining&quot;</span>),       <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9">FR_TRUNK_CONN_INACTIVE_DRAINING</a>         },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_draining&quot;</span>),                <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268">FR_TRUNK_CONN_DRAINING</a>                  },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.connection_draining_to_free&quot;</span>),        <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4">FR_TRUNK_CONN_DRAINING_TO_FREE</a>          }       </div><div class="line">}</div><div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268">FR_TRUNK_CONN_DRAINING</a></div><div class="ttdoc">Connection will be closed once it has no more outstanding requests, if it&amp;#39;s not reactivated. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00094">trunk.h:94</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b">FR_TRUNK_CONN_CONNECTING</a></div><div class="ttdoc">Connection is connecting. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00083">trunk.h:83</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4">FR_TRUNK_CONN_INIT</a></div><div class="ttdoc">In the initial state. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00082">trunk.h:82</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee">FR_TRUNK_CONN_FULL</a></div><div class="ttdoc">Connection is full and can&amp;#39;t accept any more requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00088">trunk.h:88</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6">FR_TRUNK_CONN_INACTIVE</a></div><div class="ttdoc">Connection is inactive and can&amp;#39;t accept any more requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00089">trunk.h:89</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de">FR_TRUNK_CONN_CLOSED</a></div><div class="ttdoc">Connection was closed, either explicitly or due to failure. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00087">trunk.h:87</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9">FR_TRUNK_CONN_INACTIVE_DRAINING</a></div><div class="ttdoc">Connection is inactive, can&amp;#39;t accept any more requests, and will be closed once it has no more outsta...</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00090">trunk.h:90</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824">FR_TRUNK_CONN_HALTED</a></div><div class="ttdoc">Halted, ready to be freed. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00081">trunk.h:81</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a></div><div class="ttdoc">Connection is connected and ready to service requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00084">trunk.h:84</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4">FR_TRUNK_CONN_DRAINING_TO_FREE</a></div><div class="ttdoc">Connection will be closed once it has no more outstanding requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00096">trunk.h:96</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
</div><!-- fragment -->
<p>Map connection states to trigger names. </p>
<p>Must stay in the same order as <a class="el" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9c" title="Used for sanity checks and to track which list the connection is in. ">fr_trunk_connection_state_t</a> </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00350">350</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9b71c21c9eba67e7333edd57bbeb63aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b71c21c9eba67e7333edd57bbeb63aa">&#9670;&nbsp;</a></span>fr_trunk_conn_trigger_names_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_conn_trigger_names_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#ae8309c7de443e94a1201baa3ec3aa771">fr_trunk_conn_trigger_names</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00362">362</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a6cf16ff6ad5800fa0a4166cb8b5d2e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf16ff6ad5800fa0a4166cb8b5d2e68">&#9670;&nbsp;</a></span>fr_trunk_connection_events</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const fr_trunk_connection_events[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CONN_EVENT_NONE&quot;</span>),                <a class="code" href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a3ca77ccd73e87fc86532543d34729971">FR_TRUNK_CONN_EVENT_NONE</a>                },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CONN_EVENT_READ&quot;</span>),                <a class="code" href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a72e382bc2f39e4f5628f1a761dee3435">FR_TRUNK_CONN_EVENT_READ</a>                },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CONN_EVENT_WRITE&quot;</span>),               <a class="code" href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a582ab69c363b72088131aca4986a69e3">FR_TRUNK_CONN_EVENT_WRITE</a>               },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FR_TRUNK_CONN_EVENT_BOTH&quot;</span>),                <a class="code" href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6aadd456e39b8e5c614225013a5cf8c21b">FR_TRUNK_CONN_EVENT_BOTH</a>                },</div><div class="line">}</div><div class="ttc" id="trunk_8h_html_aa9fdcb797f988454d499f3105d7754b6a582ab69c363b72088131aca4986a69e3"><div class="ttname"><a href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a582ab69c363b72088131aca4986a69e3">FR_TRUNK_CONN_EVENT_WRITE</a></div><div class="ttdoc">Trunk should be notified if a connection is writable. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00070">trunk.h:70</a></div></div>
<div class="ttc" id="trunk_8h_html_aa9fdcb797f988454d499f3105d7754b6aadd456e39b8e5c614225013a5cf8c21b"><div class="ttname"><a href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6aadd456e39b8e5c614225013a5cf8c21b">FR_TRUNK_CONN_EVENT_BOTH</a></div><div class="ttdoc">Trunk should be notified if a connection is readable or writable. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00072">trunk.h:72</a></div></div>
<div class="ttc" id="trunk_8h_html_aa9fdcb797f988454d499f3105d7754b6a72e382bc2f39e4f5628f1a761dee3435"><div class="ttname"><a href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a72e382bc2f39e4f5628f1a761dee3435">FR_TRUNK_CONN_EVENT_READ</a></div><div class="ttdoc">Trunk should be notified if a connection is readable. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00068">trunk.h:68</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
<div class="ttc" id="trunk_8h_html_aa9fdcb797f988454d499f3105d7754b6a3ca77ccd73e87fc86532543d34729971"><div class="ttname"><a href="trunk_8h.html#aa9fdcb797f988454d499f3105d7754b6a3ca77ccd73e87fc86532543d34729971">FR_TRUNK_CONN_EVENT_NONE</a></div><div class="ttdoc">Don&amp;#39;t notify the trunk on connection state changes. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00066">trunk.h:66</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00386">386</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="ad19028dbe3d6776e62298cb9e82a496f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19028dbe3d6776e62298cb9e82a496f">&#9670;&nbsp;</a></span>fr_trunk_connection_events_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_connection_events_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a6cf16ff6ad5800fa0a4166cb8b5d2e68">fr_trunk_connection_events</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00392">392</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a14049b409bdbe4a784e37d447531c562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14049b409bdbe4a784e37d447531c562">&#9670;&nbsp;</a></span>fr_trunk_connection_states</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const fr_trunk_connection_states[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;INIT&quot;</span>),                                    <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4">FR_TRUNK_CONN_INIT</a>                      },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;HALTED&quot;</span>),                                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824">FR_TRUNK_CONN_HALTED</a>                    },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CONNECTING&quot;</span>),                              <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b">FR_TRUNK_CONN_CONNECTING</a>                },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;ACTIVE&quot;</span>),                                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a>                    },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CLOSED&quot;</span>),                                  <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de">FR_TRUNK_CONN_CLOSED</a>                    },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FULL&quot;</span>),                                    <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee">FR_TRUNK_CONN_FULL</a>                      },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;INACTIVE&quot;</span>),                                <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6">FR_TRUNK_CONN_INACTIVE</a>                  },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;INACTIVE-DRAINING&quot;</span>),                       <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9">FR_TRUNK_CONN_INACTIVE_DRAINING</a>         },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;DRAINING&quot;</span>),                                <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268">FR_TRUNK_CONN_DRAINING</a>                  },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;DRAINING-TO-FREE&quot;</span>),                        <a class="code" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4">FR_TRUNK_CONN_DRAINING_TO_FREE</a>          }</div><div class="line">}</div><div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cabc3b5ee5689f1bdc9c103e2c66ce0268">FR_TRUNK_CONN_DRAINING</a></div><div class="ttdoc">Connection will be closed once it has no more outstanding requests, if it&amp;#39;s not reactivated. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00094">trunk.h:94</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6660254946fb8bfce739b8c61ef9707b">FR_TRUNK_CONN_CONNECTING</a></div><div class="ttdoc">Connection is connecting. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00083">trunk.h:83</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9caf36bea677cb56d2765c56f845c25f7f4">FR_TRUNK_CONN_INIT</a></div><div class="ttdoc">In the initial state. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00082">trunk.h:82</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca655d591ddd58d611ea9676cb33a522ee">FR_TRUNK_CONN_FULL</a></div><div class="ttdoc">Connection is full and can&amp;#39;t accept any more requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00088">trunk.h:88</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca0a611f86a9e328975b0dba13614bb7a6">FR_TRUNK_CONN_INACTIVE</a></div><div class="ttdoc">Connection is inactive and can&amp;#39;t accept any more requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00089">trunk.h:89</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca2b3577c9dae3011095caff68197134de">FR_TRUNK_CONN_CLOSED</a></div><div class="ttdoc">Connection was closed, either explicitly or due to failure. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00087">trunk.h:87</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca7764d96e34074f28314b2d90b2bf87a9">FR_TRUNK_CONN_INACTIVE_DRAINING</a></div><div class="ttdoc">Connection is inactive, can&amp;#39;t accept any more requests, and will be closed once it has no more outsta...</div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00090">trunk.h:90</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca402154599f8b707f8a8fb2ab657c1824">FR_TRUNK_CONN_HALTED</a></div><div class="ttdoc">Halted, ready to be freed. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00081">trunk.h:81</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9cac7c33f0a87f6fcfb881173c6645af3f4">FR_TRUNK_CONN_ACTIVE</a></div><div class="ttdoc">Connection is connected and ready to service requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00084">trunk.h:84</a></div></div>
<div class="ttc" id="trunk_8h_html_a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4"><div class="ttname"><a href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9ca6bc38d954880c3ade1c68cc77a2f0be4">FR_TRUNK_CONN_DRAINING_TO_FREE</a></div><div class="ttdoc">Connection will be closed once it has no more outstanding requests. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00096">trunk.h:96</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00364">364</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="acc6427debae86f8c05f3bfe5a6b1ad7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6427debae86f8c05f3bfe5a6b1ad7b">&#9670;&nbsp;</a></span>fr_trunk_connection_states_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_connection_states_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a14049b409bdbe4a784e37d447531c562">fr_trunk_connection_states</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00376">376</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a0c4c6f6bcc7e05624f5ae9b3d7b30f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">&#9670;&nbsp;</a></span>fr_trunk_req_trigger_names</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__indexed__bit__pos__t">fr_table_num_indexed_bit_pos_t</a> const fr_trunk_req_trigger_names[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_init&quot;</span>),                       <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd">FR_TRUNK_REQUEST_STATE_INIT</a>             },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_unassigned&quot;</span>),                 <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226">FR_TRUNK_REQUEST_STATE_UNASSIGNED</a>       },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_backlog&quot;</span>),                    <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940">FR_TRUNK_REQUEST_STATE_BACKLOG</a>          },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_pending&quot;</span>),                    <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406">FR_TRUNK_REQUEST_STATE_PENDING</a>          },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_partial&quot;</span>),                    <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480">FR_TRUNK_REQUEST_STATE_PARTIAL</a>          },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_sent&quot;</span>),                       <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4">FR_TRUNK_REQUEST_STATE_SENT</a>             },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_complete&quot;</span>),                   <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc">FR_TRUNK_REQUEST_STATE_COMPLETE</a>         },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_state_failed&quot;</span>),               <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a">FR_TRUNK_REQUEST_STATE_FAILED</a>           },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_state_cancel&quot;</span>),               <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0">FR_TRUNK_REQUEST_STATE_CANCEL</a>           },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_state_cancel_sent&quot;</span>),          <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377">FR_TRUNK_REQUEST_STATE_CANCEL_SENT</a>      },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_state_cancel_partial&quot;</span>),       <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32">FR_TRUNK_REQUEST_STATE_CANCEL_PARTIAL</a>   },      </div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;pool.request_state_cancel_complete&quot;</span>),      <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c">FR_TRUNK_REQUEST_STATE_CANCEL_COMPLETE</a>  }       </div><div class="line">}</div><div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc">FR_TRUNK_REQUEST_STATE_COMPLETE</a></div><div class="ttdoc">The request is complete. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00153">trunk.h:153</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd">FR_TRUNK_REQUEST_STATE_INIT</a></div><div class="ttdoc">Initial state. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00142">trunk.h:142</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a">FR_TRUNK_REQUEST_STATE_FAILED</a></div><div class="ttdoc">The request failed. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00154">trunk.h:154</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377">FR_TRUNK_REQUEST_STATE_CANCEL_SENT</a></div><div class="ttdoc">We&amp;#39;ve informed the remote server that the request has been cancelled. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00156">trunk.h:156</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32">FR_TRUNK_REQUEST_STATE_CANCEL_PARTIAL</a></div><div class="ttdoc">We partially wrote a cancellation request. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00158">trunk.h:158</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226">FR_TRUNK_REQUEST_STATE_UNASSIGNED</a></div><div class="ttdoc">Transition state - Request currently not assigned to any connection. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00145">trunk.h:145</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406">FR_TRUNK_REQUEST_STATE_PENDING</a></div><div class="ttdoc">In the queue of a connection and is pending writing. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00148">trunk.h:148</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c">FR_TRUNK_REQUEST_STATE_CANCEL_COMPLETE</a></div><div class="ttdoc">Remote server has acknowledged our cancellation. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00159">trunk.h:159</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480">FR_TRUNK_REQUEST_STATE_PARTIAL</a></div><div class="ttdoc">Some of the request was written to the socket, more of it should be written later. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00150">trunk.h:150</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4">FR_TRUNK_REQUEST_STATE_SENT</a></div><div class="ttdoc">Was written to a socket. Waiting for a response. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00152">trunk.h:152</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0">FR_TRUNK_REQUEST_STATE_CANCEL</a></div><div class="ttdoc">A request on a particular socket was cancel. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00155">trunk.h:155</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940">FR_TRUNK_REQUEST_STATE_BACKLOG</a></div><div class="ttdoc">In the backlog. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00147">trunk.h:147</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
</div><!-- fragment -->
<p>Map request states to trigger names. </p>
<p>Must stay in the same order as <a class="el" href="trunk_8h.html#a210f9d82a7bc721184e1ff200a904a9c" title="Used for sanity checks and to track which list the connection is in. ">fr_trunk_connection_state_t</a> </p>

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00313">313</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a9104c2c2c9bca5e087dbf905e8003d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9104c2c2c9bca5e087dbf905e8003d0e">&#9670;&nbsp;</a></span>fr_trunk_req_trigger_names_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_req_trigger_names_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a0c4c6f6bcc7e05624f5ae9b3d7b30f03">fr_trunk_req_trigger_names</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00327">327</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a7bb70d2caa5639591b66f338210df027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb70d2caa5639591b66f338210df027">&#9670;&nbsp;</a></span>fr_trunk_request_states</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const fr_trunk_request_states[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;INIT&quot;</span>),                                    <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd">FR_TRUNK_REQUEST_STATE_INIT</a>             },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;UNASSIGNED&quot;</span>),                              <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226">FR_TRUNK_REQUEST_STATE_UNASSIGNED</a>       },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;BACKLOG&quot;</span>),                                 <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940">FR_TRUNK_REQUEST_STATE_BACKLOG</a>          },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;PENDING&quot;</span>),                                 <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406">FR_TRUNK_REQUEST_STATE_PENDING</a>          },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;PARTIAL&quot;</span>),                                 <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480">FR_TRUNK_REQUEST_STATE_PARTIAL</a>          },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;SENT&quot;</span>),                                    <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4">FR_TRUNK_REQUEST_STATE_SENT</a>             },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;COMPLETE&quot;</span>),                                <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc">FR_TRUNK_REQUEST_STATE_COMPLETE</a>         },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;FAILED&quot;</span>),                                  <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a">FR_TRUNK_REQUEST_STATE_FAILED</a>           },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CANCEL&quot;</span>),                                  <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0">FR_TRUNK_REQUEST_STATE_CANCEL</a>           },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CANCEL-SENT&quot;</span>),                             <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377">FR_TRUNK_REQUEST_STATE_CANCEL_SENT</a>      },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CANCEL-PARTIAL&quot;</span>),                          <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32">FR_TRUNK_REQUEST_STATE_CANCEL_PARTIAL</a>   },</div><div class="line">        { <a class="code" href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a>(<span class="stringliteral">&quot;CANCEL-COMPLETE&quot;</span>),                         <a class="code" href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c">FR_TRUNK_REQUEST_STATE_CANCEL_COMPLETE</a>  }</div><div class="line">}</div><div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf731ae88e731b9a74c09a4622f215ccc">FR_TRUNK_REQUEST_STATE_COMPLETE</a></div><div class="ttdoc">The request is complete. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00153">trunk.h:153</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaf24d1e1b2957a1e9449554f5a700e4cd">FR_TRUNK_REQUEST_STATE_INIT</a></div><div class="ttdoc">Initial state. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00142">trunk.h:142</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eacd96333aca17459c7b9c3f22bc88bb2a">FR_TRUNK_REQUEST_STATE_FAILED</a></div><div class="ttdoc">The request failed. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00154">trunk.h:154</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eac5a269422633bc02e329fb6d0f53e377">FR_TRUNK_REQUEST_STATE_CANCEL_SENT</a></div><div class="ttdoc">We&amp;#39;ve informed the remote server that the request has been cancelled. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00156">trunk.h:156</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead903c0da5476e18e89192e0268321b32">FR_TRUNK_REQUEST_STATE_CANCEL_PARTIAL</a></div><div class="ttdoc">We partially wrote a cancellation request. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00158">trunk.h:158</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eab110b8099ecdd6c6320d99610c6aa226">FR_TRUNK_REQUEST_STATE_UNASSIGNED</a></div><div class="ttdoc">Transition state - Request currently not assigned to any connection. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00145">trunk.h:145</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea6917c522bcfe10926808d471619b1406">FR_TRUNK_REQUEST_STATE_PENDING</a></div><div class="ttdoc">In the queue of a connection and is pending writing. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00148">trunk.h:148</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ead47437da5f4cedac3a3c54c9f6ab1c1c">FR_TRUNK_REQUEST_STATE_CANCEL_COMPLETE</a></div><div class="ttdoc">Remote server has acknowledged our cancellation. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00159">trunk.h:159</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4eaedc7487a3aa5129b1d0dcdc4f4f2c480">FR_TRUNK_REQUEST_STATE_PARTIAL</a></div><div class="ttdoc">Some of the request was written to the socket, more of it should be written later. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00150">trunk.h:150</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea422e01bf5682f49b0f9d68e3479dcdb4">FR_TRUNK_REQUEST_STATE_SENT</a></div><div class="ttdoc">Was written to a socket. Waiting for a response. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00152">trunk.h:152</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea25c1a92690c8bf7e9075dd7848e0b1c0">FR_TRUNK_REQUEST_STATE_CANCEL</a></div><div class="ttdoc">A request on a particular socket was cancel. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00155">trunk.h:155</a></div></div>
<div class="ttc" id="trunk_8h_html_a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940"><div class="ttname"><a href="trunk_8h.html#a44cddf26dcb250d3e42c7dc6d901ac4ea123d7eebf371db64caac50b6fdd37940">FR_TRUNK_REQUEST_STATE_BACKLOG</a></div><div class="ttdoc">In the backlog. </div><div class="ttdef"><b>Definition:</b> <a href="trunk_8h_source.html#l00147">trunk.h:147</a></div></div>
<div class="ttc" id="build_8h_html_a2c7b7cca6314b99cc417bde2ce3542a4"><div class="ttname"><a href="build_8h.html#a2c7b7cca6314b99cc417bde2ce3542a4">L</a></div><div class="ttdeci">#define L(_str)</div><div class="ttdef"><b>Definition:</b> <a href="build_8h_source.html#l00078">build.h:78</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00330">330</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="af3519c507fab1606153011e719a4bbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3519c507fab1606153011e719a4bbf2">&#9670;&nbsp;</a></span>fr_trunk_request_states_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_trunk_request_states_len = <a class="el" href="build_8h.html#ae0bb64e73aeef0ab6772433f210e9d57">NUM_ELEMENTS</a>(<a class="el" href="trunk_8c.html#a7bb70d2caa5639591b66f338210df027">fr_trunk_request_states</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00344">344</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
<a id="a00c139f073496b04b0c9d10417ecc156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c139f073496b04b0c9d10417ecc156">&#9670;&nbsp;</a></span>request_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_uint_fast64_t request_counter = <a class="el" href="stdatomic_8h.html#ad501bafcd2074b392f630497545de87d">ATOMIC_VAR_INIT</a>(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trunk_8c_source.html#l00053">53</a> of file <a class="el" href="trunk_8c_source.html">trunk.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 15 2020 15:43:30 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
