<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/unlang/module.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_8bd9041bb00c2961befd0c0eb73aa27b.html">unlang</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">module.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to allow modules to push resumption frames onto the stack and inform the interpreter about the conditions they need to be resumed under (usually an I/O event or timer event).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/server/module.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/rcode.h&gt;</code><br />
<code>#include &lt;freeradius-devel/unlang/subrequest.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for module.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h__incl.svg" width="526" height="156"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="unlang_2module_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad8e8f9d58e345ed73083819d68f240c7"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a>) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, int fd)</td></tr>
<tr class="memdesc:ad8e8f9d58e345ed73083819d68f240c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback when the FD is ready for reading.  <a href="#ad8e8f9d58e345ed73083819d68f240c7">More...</a><br /></td></tr>
<tr class="separator:ad8e8f9d58e345ed73083819d68f240c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0d18690b3a7c5d3f9923741e897039"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>) (<a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *p_result, <a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx)</td></tr>
<tr class="memdesc:a4a0d18690b3a7c5d3f9923741e897039"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback for when the request is resumed.  <a href="#a4a0d18690b3a7c5d3f9923741e897039">More...</a><br /></td></tr>
<tr class="separator:a4a0d18690b3a7c5d3f9923741e897039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59912d7666e2134c9f0d93511e4922cf"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, <a class="el" href="signal_8h.html#a8074925f4834af37765d74bd20cdd8ce">fr_state_signal_t</a> action)</td></tr>
<tr class="memdesc:a59912d7666e2134c9f0d93511e4922cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback when the request gets a fr_state_signal_t.  <a href="#a59912d7666e2134c9f0d93511e4922cf">More...</a><br /></td></tr>
<tr class="separator:a59912d7666e2134c9f0d93511e4922cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3aca8c7e2e13f16f0be0ed7d779bf2"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a6a3aca8c7e2e13f16f0be0ed7d779bf2">unlang_module_timeout_t</a>) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> fired)</td></tr>
<tr class="memdesc:a6a3aca8c7e2e13f16f0be0ed7d779bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback when the the timeout occurs.  <a href="#a6a3aca8c7e2e13f16f0be0ed7d779bf2">More...</a><br /></td></tr>
<tr class="separator:a6a3aca8c7e2e13f16f0be0ed7d779bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a389399c1bdcb850b7904807923dadfe7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a389399c1bdcb850b7904807923dadfe7">unlang_module_fd_add</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a> read, <a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a> write, <a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a> error, void const *rctx, int fd)</td></tr>
<tr class="memdesc:a389399c1bdcb850b7904807923dadfe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback for the request.  <a href="#a389399c1bdcb850b7904807923dadfe7">More...</a><br /></td></tr>
<tr class="separator:a389399c1bdcb850b7904807923dadfe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ddafb768cef61603a2f35ee712b4ca0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a7ddafb768cef61603a2f35ee712b4ca0">unlang_module_fd_delete</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void const *rctx, int fd)</td></tr>
<tr class="memdesc:a7ddafb768cef61603a2f35ee712b4ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a previously set file descriptor callback.  <a href="#a7ddafb768cef61603a2f35ee712b4ca0">More...</a><br /></td></tr>
<tr class="separator:a7ddafb768cef61603a2f35ee712b4ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ea45545fcba322246e22515298e97e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#ac6ea45545fcba322246e22515298e97e">unlang_module_push</a> (<a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="server_2module_8h.html#afad2ccd3f72252bce9e9c5cd6c2e6eed">module_instance_t</a> *module_instance, <a class="el" href="server_2module_8h.html#af80b8d62962b7d1c1e3b0af13cd479d0">module_method_t</a> method, bool top_frame)</td></tr>
<tr class="memdesc:ac6ea45545fcba322246e22515298e97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a module or submodule onto the stack for evaluation.  <a href="#ac6ea45545fcba322246e22515298e97e">More...</a><br /></td></tr>
<tr class="separator:ac6ea45545fcba322246e22515298e97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aaf3de74431d87c8654184f91e7f912"><td class="memItemLeft" align="right" valign="top"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a0aaf3de74431d87c8654184f91e7f912">unlang_module_subrequest_alloc</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *parent, <a class="el" href="dict_8h.html#a8a299a18628c5635c7e9655343bcfceb">fr_dict_t</a> const *namespace)</td></tr>
<tr class="memdesc:a0aaf3de74431d87c8654184f91e7f912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a subrequest to run through a virtual server at some point in the future.  <a href="#a0aaf3de74431d87c8654184f91e7f912">More...</a><br /></td></tr>
<tr class="separator:a0aaf3de74431d87c8654184f91e7f912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6d57c1f4e694190287b8167e0e946a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#ace6d57c1f4e694190287b8167e0e946a">unlang_module_timeout_add</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="unlang_2module_8h.html#a6a3aca8c7e2e13f16f0be0ed7d779bf2">unlang_module_timeout_t</a> callback, void const *ctx, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> when)</td></tr>
<tr class="memdesc:ace6d57c1f4e694190287b8167e0e946a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a timeout for the request.  <a href="#ace6d57c1f4e694190287b8167e0e946a">More...</a><br /></td></tr>
<tr class="separator:ace6d57c1f4e694190287b8167e0e946a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3949ac626f5a3b8257f13f851501a03e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a3949ac626f5a3b8257f13f851501a03e">unlang_module_timeout_delete</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void const *ctx)</td></tr>
<tr class="memdesc:a3949ac626f5a3b8257f13f851501a03e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a previously set timeout callback.  <a href="#a3949ac626f5a3b8257f13f851501a03e">More...</a><br /></td></tr>
<tr class="separator:a3949ac626f5a3b8257f13f851501a03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa828488a36bd5c78545c095a8e04096e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#aa828488a36bd5c78545c095a8e04096e">unlang_module_yield</a> (<a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a> resume, <a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a> signal, void *rctx)</td></tr>
<tr class="memdesc:aa828488a36bd5c78545c095a8e04096e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield a request back to the interpreter from within a module.  <a href="#aa828488a36bd5c78545c095a8e04096e">More...</a><br /></td></tr>
<tr class="separator:aa828488a36bd5c78545c095a8e04096e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af27356eb341612e8aeecbc224d89c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a6af27356eb341612e8aeecbc224d89c4">unlang_module_yield_to_section</a> (<a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *p_result, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *subcs, <a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> default_rcode, <a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a> resume, <a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a> signal, void *rctx)</td></tr>
<tr class="separator:a6af27356eb341612e8aeecbc224d89c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242ed1c8d3c8ce6174df1e79a99fbbe9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a242ed1c8d3c8ce6174df1e79a99fbbe9">unlang_module_yield_to_subrequest</a> (<a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *child, <a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a> resume, <a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a> signal, <a class="el" href="subrequest_8h.html#structunlang__subrequest__session__t">unlang_subrequest_session_t</a> const *session, void *rctx)</td></tr>
<tr class="memdesc:a242ed1c8d3c8ce6174df1e79a99fbbe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield, spawning a child request, and resuming once the child request is complete.  <a href="#a242ed1c8d3c8ce6174df1e79a99fbbe9">More...</a><br /></td></tr>
<tr class="separator:a242ed1c8d3c8ce6174df1e79a99fbbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706cd26e27a89994c616263fc00d21df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#a706cd26e27a89994c616263fc00d21df">unlang_module_yield_to_tmpl</a> (TALLOC_CTX *ctx, <a class="el" href="value_8h.html#a4a9e69e78ad1a81da0976e8f29a4e444">fr_value_box_t</a> **<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, int *status, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="server_2tmpl_8h.html#ab59ad3d0e1f259dd7dff0be6d621f691">tmpl_t</a> const *exp, <a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *vps, <a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a> resume, <a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a> signal, void *rctx)</td></tr>
<tr class="memdesc:a706cd26e27a89994c616263fc00d21df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a pre-compiled tmpl and resumption state onto the stack for evaluation.  <a href="#a706cd26e27a89994c616263fc00d21df">More...</a><br /></td></tr>
<tr class="separator:a706cd26e27a89994c616263fc00d21df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49a862903ea9a5b43b9765eb2ead0ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unlang_2module_8h.html#ae49a862903ea9a5b43b9765eb2ead0ed">unlang_module_yield_to_xlat</a> (TALLOC_CTX *ctx, <a class="el" href="value_8h.html#a4a9e69e78ad1a81da0976e8f29a4e444">fr_value_box_t</a> **<a class="el" href="value_8h.html#af17d2d4e72bd60de680d3f4a29a1275f">out</a>, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="xlat_8h.html#a1231cafee784e258e923550326d7a6b6">xlat_exp_t</a> const *xlat, <a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a> resume, <a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a> signal, void *rctx)</td></tr>
<tr class="memdesc:ae49a862903ea9a5b43b9765eb2ead0ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a pre-compiled xlat and resumption state onto the stack for evaluation.  <a href="#ae49a862903ea9a5b43b9765eb2ead0ed">More...</a><br /></td></tr>
<tr class="separator:ae49a862903ea9a5b43b9765eb2ead0ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to allow modules to push resumption frames onto the stack and inform the interpreter about the conditions they need to be resumed under (usually an I/O event or timer event). </p>
<dl class="section rcs"><dt>Id</dt><dd>0f2671209454fec3c4c5bd6810d2762c19eabb3b </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2016-2019 The FreeRADIUS server project </dd></dl>

<p class="definition">Definition in file <a class="el" href="unlang_2module_8h_source.html">module.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ad8e8f9d58e345ed73083819d68f240c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e8f9d58e345ed73083819d68f240c7">&#9670;&nbsp;</a></span>unlang_module_fd_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* unlang_module_fd_event_t) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, int fd)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback when the FD is ready for reading. </p>
<p>Used when a module needs to read from an FD. Typically the callback is set, and then the module returns <a class="el" href="unlang_2module_8h.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The callback is automatically removed on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>, so</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mctx</td><td>calling context for the module. Contains global, thread-specific, and call-specific data for a module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>the current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>a local context for the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>the file descriptor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="unlang_2module_8h_source.html#l00066">66</a> of file <a class="el" href="unlang_2module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="a4a0d18690b3a7c5d3f9923741e897039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0d18690b3a7c5d3f9923741e897039">&#9670;&nbsp;</a></span>unlang_module_resume_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a>(* unlang_module_resume_t) (<a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *p_result, <a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback for when the request is resumed. </p>
<p>The resumed request cannot call the normal "authorize", etc. method. It needs a separate callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_result</td><td>result of the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mctx</td><td>calling context for the module. Contains global, thread-specific, and call-specific data for a module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>the current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>a local context for the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an instruction for the interpreter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="unlang_2module_8h_source.html#l00079">79</a> of file <a class="el" href="unlang_2module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="a59912d7666e2134c9f0d93511e4922cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59912d7666e2134c9f0d93511e4922cf">&#9670;&nbsp;</a></span>unlang_module_signal_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* unlang_module_signal_t) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, <a class="el" href="signal_8h.html#a8074925f4834af37765d74bd20cdd8ce">fr_state_signal_t</a> action)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback when the request gets a fr_state_signal_t. </p>
<p>A module may call unlang_yeild(), but still need to do something on FR_SIGNAL_DUP. If so, it's set here.</p>
<dl class="section note"><dt>Note</dt><dd>The callback is automatically removed on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mctx</td><td>calling context for the module. Contains global, thread-specific, and call-specific data for a module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>Resume ctx for the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>which is signalling the request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="unlang_2module_8h_source.html#l00095">95</a> of file <a class="el" href="unlang_2module_8h_source.html">module.h</a>.</p>

</div>
</div>
<a id="a6a3aca8c7e2e13f16f0be0ed7d779bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3aca8c7e2e13f16f0be0ed7d779bf2">&#9670;&nbsp;</a></span>unlang_module_timeout_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* unlang_module_timeout_t) (<a class="el" href="server_2module_8h.html#a9bcf8e012c49bd2f269dd276981a72a0">module_ctx_t</a> const *mctx, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *rctx, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> fired)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback when the the timeout occurs. </p>
<p>Used when a module needs wait for an event. Typically the callback is set, and then the module returns <a class="el" href="unlang_2module_8h.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The callback is automatically removed on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>, i.e. if an event on a registered FD occurs before the timeout event fires.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mctx</td><td>calling context for the module. Contains global, thread-specific, and call-specific data for a module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>a local context for the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fired</td><td>the time the timeout event actually fired. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="unlang_2module_8h_source.html#l00051">51</a> of file <a class="el" href="unlang_2module_8h_source.html">module.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a389399c1bdcb850b7904807923dadfe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a389399c1bdcb850b7904807923dadfe7">&#9670;&nbsp;</a></span>unlang_module_fd_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlang_module_fd_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a>&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a>&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#ad8e8f9d58e345ed73083819d68f240c7">unlang_module_fd_event_t</a>&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a callback for the request. </p>
<p>Used when a module needs to read from an FD. Typically the callback is set, and then the module returns <a class="el" href="src_2lib_2unlang_2module_8c.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The callback is automatically removed on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read</td><td>callback. Used for receiving and demuxing/decoding data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write</td><td>callback. Used for writing and encoding data. Where a 3rd party library is used, this should be the function issuing queries, and writing data to the socket. This should not be done in the module itself. This allows write operations to be retried in some instances, and means if the write buffer is full, the request is kept in a suspended state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error</td><td>callback. If the fd enters an error state. Should cleanup any handles wrapping the file descriptor, and any outstanding requests. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>for the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>to watch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>&lt;0 on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00263">263</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a389399c1bdcb850b7904807923dadfe7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7ddafb768cef61603a2f35ee712b4ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ddafb768cef61603a2f35ee712b4ca0">&#9670;&nbsp;</a></span>unlang_module_fd_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlang_module_fd_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a previously set file descriptor callback. </p>
<p>param[in] request the request param[in] fd the file descriptor </p><dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>&lt;0 on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00319">319</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a7ddafb768cef61603a2f35ee712b4ca0_cgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac6ea45545fcba322246e22515298e97e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6ea45545fcba322246e22515298e97e">&#9670;&nbsp;</a></span>unlang_module_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlang_module_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_2module_8h.html#afad2ccd3f72252bce9e9c5cd6c2e6eed">module_instance_t</a> *&#160;</td>
          <td class="paramname"><em>module_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_2module_8h.html#af80b8d62962b7d1c1e3b0af13cd479d0">module_method_t</a>&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>top_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a module or submodule onto the stack for evaluation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Where to write the result of calling the module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">module_instance</td><td>Instance of the module to call. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>to call. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">top_frame</td><td>Set to UNLANG_TOP_FRAME if the interpreter should return. Set to UNLANG_SUB_FRAME if the interprer should continue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>-1 on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00342">342</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_ac6ea45545fcba322246e22515298e97e_cgraph.svg" width="542" height="164"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0aaf3de74431d87c8654184f91e7f912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aaf3de74431d87c8654184f91e7f912">&#9670;&nbsp;</a></span>unlang_module_subrequest_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a>* unlang_module_subrequest_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict_8h.html#a8a299a18628c5635c7e9655343bcfceb">fr_dict_t</a> const *&#160;</td>
          <td class="paramname"><em>namespace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a subrequest to run through a virtual server at some point in the future. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>to hang sub request off of. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">namespace</td><td>the child will operate in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>A new child request.</li>
<li>NULL on failure. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00414">414</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a0aaf3de74431d87c8654184f91e7f912_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ace6d57c1f4e694190287b8167e0e946a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6d57c1f4e694190287b8167e0e946a">&#9670;&nbsp;</a></span>unlang_module_timeout_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlang_module_timeout_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a6a3aca8c7e2e13f16f0be0ed7d779bf2">unlang_module_timeout_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>when</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a timeout for the request. </p>
<p>Used when a module needs wait for an event. Typically the callback is set, and then the module returns <a class="el" href="src_2lib_2unlang_2module_8c.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The callback is automatically removed on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>.</dd></dl>
<p>param[in] request the current request. param[in] callback to call. param[in] ctx for the callback. param[in] timeout when to call the timeout (i.e. now + timeout). </p><dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>&lt;0 on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00137">137</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_ace6d57c1f4e694190287b8167e0e946a_cgraph.svg" width="100%" height="549"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3949ac626f5a3b8257f13f851501a03e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3949ac626f5a3b8257f13f851501a03e">&#9670;&nbsp;</a></span>unlang_module_timeout_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlang_module_timeout_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a previously set timeout callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>a local context for the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>-1 on error.</li>
<li>0 on success. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00183">183</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a3949ac626f5a3b8257f13f851501a03e_cgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa828488a36bd5c78545c095a8e04096e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa828488a36bd5c78545c095a8e04096e">&#9670;&nbsp;</a></span>unlang_module_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a> unlang_module_yield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>&#160;</td>
          <td class="paramname"><em>resume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yield a request back to the interpreter from within a module. </p>
<p>This passes control of the request back to the unlang interpreter, setting callbacks to execute when the request is 'signalled' asynchronously, or whatever timer or I/O event the module was waiting for occurs.</p>
<dl class="section note"><dt>Note</dt><dd>The module function which calls <a class="el" href="src_2lib_2unlang_2module_8c.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield</a> should return control of the C stack to the unlang interpreter immediately after calling <a class="el" href="src_2lib_2unlang_2module_8c.html#aa828488a36bd5c78545c095a8e04096e" title="Yield a request back to the interpreter from within a module. ">unlang_module_yield</a>. A common pattern is to use <code>return unlang_module_yield(...)</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resume</td><td>Called on <a class="el" href="interpret_8c.html#a1d05eab74116c44e4edabf4b5bd09890" title="Mark a request as resumable. ">unlang_interpret_resumable()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>Called on unlang_action(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>to pass to the callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>UNLANG_ACTION_YIELD. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00748">748</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_aa828488a36bd5c78545c095a8e04096e_cgraph.svg" width="584" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6af27356eb341612e8aeecbc224d89c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af27356eb341612e8aeecbc224d89c4">&#9670;&nbsp;</a></span>unlang_module_yield_to_section()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a> unlang_module_yield_to_section </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *&#160;</td>
          <td class="paramname"><em>p_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> *&#160;</td>
          <td class="paramname"><em>subcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a>&#160;</td>
          <td class="paramname"><em>default_rcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>&#160;</td>
          <td class="paramname"><em>resume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00542">542</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a6af27356eb341612e8aeecbc224d89c4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a242ed1c8d3c8ce6174df1e79a99fbbe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a242ed1c8d3c8ce6174df1e79a99fbbe9">&#9670;&nbsp;</a></span>unlang_module_yield_to_subrequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a> unlang_module_yield_to_subrequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rcode_8h.html#adcc711080df76349e177fc29a641d1fb">rlm_rcode_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>&#160;</td>
          <td class="paramname"><em>resume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="subrequest_8h.html#structunlang__subrequest__session__t">unlang_subrequest_session_t</a> const *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yield, spawning a child request, and resuming once the child request is complete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>Final rcode from when evaluation of the child request finishes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">child</td><td>to yield to. The child knows about the parent, which is why the parent isn't passed explicitly. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resume</td><td>function to call when the child has finished executing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>function to call if a signal is received. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>control values. Whether we restore/store session info. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>to pass to the resume() and signal() callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>UNLANG_ACTION_YIELD. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00431">431</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a242ed1c8d3c8ce6174df1e79a99fbbe9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a706cd26e27a89994c616263fc00d21df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a706cd26e27a89994c616263fc00d21df">&#9670;&nbsp;</a></span>unlang_module_yield_to_tmpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a> unlang_module_yield_to_tmpl </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="value_8h.html#a4a9e69e78ad1a81da0976e8f29a4e444">fr_value_box_t</a> **&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_2tmpl_8h.html#ab59ad3d0e1f259dd7dff0be6d621f691">tmpl_t</a> const *&#160;</td>
          <td class="paramname"><em>vpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *&#160;</td>
          <td class="paramname"><em>vps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>&#160;</td>
          <td class="paramname"><em>resume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a pre-compiled tmpl and resumption state onto the stack for evaluation. </p>
<p>In order to use the async unlang processor the calling module needs to establish a resumption point, as the call to an xlat function may require yielding control back to the interpreter.</p>
<p>To simplify the calling conventions, this function is provided to first push a resumption stack frame for the module, and then push a tmpl stack frame.</p>
<p>After pushing those frames the function updates the stack pointer to jump over the resumption frame and execute the tmpl expansion.</p>
<p>When the tmpl interpreter finishes, and pops the tmpl frame, the unlang interpreter will then call the module resumption frame, allowing the module to continue exectuion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>To allocate talloc value boxes and values in. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Where to write the result of the expansion. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>exit status of the program </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vpt</td><td>the tmpl to expand </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vps</td><td>the input VPs. May be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resume</td><td>function to call when the XLAT expansion is complete. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>function to call if a signal is received. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>to pass to the resume() and signal() callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>UNLANG_ACTION_YIELD </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00522">522</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_a706cd26e27a89994c616263fc00d21df_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae49a862903ea9a5b43b9765eb2ead0ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae49a862903ea9a5b43b9765eb2ead0ed">&#9670;&nbsp;</a></span>unlang_module_yield_to_xlat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8h.html#ad02ab717522305fe70aab72d152fc812">unlang_action_t</a> unlang_module_yield_to_xlat </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="value_8h.html#a4a9e69e78ad1a81da0976e8f29a4e444">fr_value_box_t</a> **&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xlat_8h.html#a1231cafee784e258e923550326d7a6b6">xlat_exp_t</a> const *&#160;</td>
          <td class="paramname"><em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a4a0d18690b3a7c5d3f9923741e897039">unlang_module_resume_t</a>&#160;</td>
          <td class="paramname"><em>resume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unlang_2module_8h.html#a59912d7666e2134c9f0d93511e4922cf">unlang_module_signal_t</a>&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a pre-compiled xlat and resumption state onto the stack for evaluation. </p>
<p>In order to use the async unlang processor the calling module needs to establish a resumption point, as the call to an xlat function may require yielding control back to the interpreter.</p>
<p>To simplify the calling conventions, this function is provided to first push a resumption stack frame for the module, and then push an xlat stack frame.</p>
<p>After pushing those frames the function updates the stack pointer to jump over the resumption frame and execute the xlat interpreter.</p>
<p>When the xlat interpreter finishes, and pops the xlat frame, the unlang interpreter will then call the module resumption frame, allowing the module to continue exectuion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>To allocate talloc value boxes and values in. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Where to write the result of the expansion. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">exp</td><td>XLAT expansion to evaluate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resume</td><td>function to call when the XLAT expansion is complete. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>function to call if a signal is received. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rctx</td><td>to pass to the resume() and signal() callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>UNLANG_ACTION_YIELD </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2lib_2unlang_2module_8c_source.html#l00476">476</a> of file <a class="el" href="src_2lib_2unlang_2module_8c_source.html">module.c</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="unlang_2module_8h_ae49a862903ea9a5b43b9765eb2ead0ed_cgraph.svg" width="100%" height="568"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 12 2020 22:44:30 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
