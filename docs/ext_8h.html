<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/util/ext.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_862598e893fc0f1bed46c00d00206efb.html">util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ext.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>'compositing' using talloc structures  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/util/table.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for ext.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="ext_8h__incl.svg" width="235" height="156"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="ext_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structdict__ext__hdr__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#structdict__ext__hdr__t">dict_ext_hdr_t</a></td></tr>
<tr class="memdesc:structdict__ext__hdr__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional extension header struct.  <a href="ext_8h.html#structdict__ext__hdr__t">More...</a><br /></td></tr>
<tr class="separator:structdict__ext__hdr__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__ext__info__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#structfr__ext__info__t">fr_ext_info_t</a></td></tr>
<tr class="memdesc:structfr__ext__info__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional information for a given extension.  <a href="ext_8h.html#structfr__ext__info__t">More...</a><br /></td></tr>
<tr class="separator:structfr__ext__info__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__ext__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a></td></tr>
<tr class="memdesc:structfr__ext__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to define a set of extensions.  <a href="ext_8h.html#structfr__ext__t">More...</a><br /></td></tr>
<tr class="separator:structfr__ext__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae4c969867c4831a2a060a987cd3a67f9"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#ae4c969867c4831a2a060a987cd3a67f9">FR_EXT_ALIGNMENT</a>&#160;&#160;&#160;sizeof(uint64_t)</td></tr>
<tr class="memdesc:ae4c969867c4831a2a060a987cd3a67f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The alignment of object extension structures.  <a href="#ae4c969867c4831a2a060a987cd3a67f9">More...</a><br /></td></tr>
<tr class="separator:ae4c969867c4831a2a060a987cd3a67f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bf6cf57a1cb430b421db807501db81"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#a47bf6cf57a1cb430b421db807501db81">FR_EXT_PTR</a>(_ptr,  _field,  _ext)&#160;&#160;&#160;((void *)(((_ptr)-&gt;_field[_ext] * <a class="el" href="ext_8h.html#ae4c969867c4831a2a060a987cd3a67f9">FR_EXT_ALIGNMENT</a>) + ((uintptr_t)(_ptr))))</td></tr>
<tr class="memdesc:a47bf6cf57a1cb430b421db807501db81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the specified extension structure.  <a href="#a47bf6cf57a1cb430b421db807501db81">More...</a><br /></td></tr>
<tr class="separator:a47bf6cf57a1cb430b421db807501db81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4ef1a2839493f6b2329daa8a4df330a4"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#a4ef1a2839493f6b2329daa8a4df330a4">fr_ext_copy_t</a>) (void **chunk_p, int ext, void *ext_ptr, size_t ext_len)</td></tr>
<tr class="memdesc:a4ef1a2839493f6b2329daa8a4df330a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for fixing up extensions after they're copied.  <a href="#a4ef1a2839493f6b2329daa8a4df330a4">More...</a><br /></td></tr>
<tr class="separator:a4ef1a2839493f6b2329daa8a4df330a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33a286199ebd60aa499fb2fcd1e823fb"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#a33a286199ebd60aa499fb2fcd1e823fb">fr_ext_alloc_size</a> (<a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *def, void **chunk_p, int ext, size_t ext_len)</td></tr>
<tr class="memdesc:a33a286199ebd60aa499fb2fcd1e823fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a variable length extension to a talloc chunk.  <a href="#a33a286199ebd60aa499fb2fcd1e823fb">More...</a><br /></td></tr>
<tr class="separator:a33a286199ebd60aa499fb2fcd1e823fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebee37173b5053f576f9e1df4f2bf58"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#abebee37173b5053f576f9e1df4f2bf58">fr_ext_copy</a> (<a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *def, void **chunk_out, void const *chunk_in, int ext)</td></tr>
<tr class="memdesc:abebee37173b5053f576f9e1df4f2bf58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy extension data from one attribute to another.  <a href="#abebee37173b5053f576f9e1df4f2bf58">More...</a><br /></td></tr>
<tr class="separator:abebee37173b5053f576f9e1df4f2bf58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3593d933eb0c050d47c4bd627aa037fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#a3593d933eb0c050d47c4bd627aa037fe">fr_ext_copy_all</a> (<a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *def, void **chunk_out, void const *chunk_in)</td></tr>
<tr class="memdesc:a3593d933eb0c050d47c4bd627aa037fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all the extensions from one attribute to another.  <a href="#a3593d933eb0c050d47c4bd627aa037fe">More...</a><br /></td></tr>
<tr class="separator:a3593d933eb0c050d47c4bd627aa037fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae51ca66d3c0cdeec90855ea257583e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#aae51ca66d3c0cdeec90855ea257583e5">fr_ext_debug</a> (<a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *def, char const *<a class="el" href="rlm__redis__ippool__tool_8c.html#a5f1de76dd5d451949e12c0fbc966ca70">name</a>, void const *chunk)</td></tr>
<tr class="memdesc:aae51ca66d3c0cdeec90855ea257583e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out all extensions and hexdump their contents.  <a href="#aae51ca66d3c0cdeec90855ea257583e5">More...</a><br /></td></tr>
<tr class="separator:aae51ca66d3c0cdeec90855ea257583e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a290f5e9ef5e3e46e7690e23032a7187d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext_8h.html#a290f5e9ef5e3e46e7690e23032a7187d">fr_ext_len</a> (<a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *def, void const *chunk_in, int ext)</td></tr>
<tr class="memdesc:a290f5e9ef5e3e46e7690e23032a7187d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the length of an extension.  <a href="#a290f5e9ef5e3e46e7690e23032a7187d">More...</a><br /></td></tr>
<tr class="separator:a290f5e9ef5e3e46e7690e23032a7187d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>'compositing' using talloc structures </p>
<p>These allow multiple variable length memory areas to be appended to talloced structures. Extensions can either contain a header in which case the exact length is recorded, or they can be of a fixed size.</p>
<p>The structure being extended must be padded to a multiple of FR_EXT_ALIGNMENT. i.e. ).</p>
<p>It is strongly recommended that extended structures are allocated in a talloc_pool() to avoid the overhead of multiple reallocs.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2020 The FreeRADIUS server project </dd>
<dd>
2020 Arran Cudbard-Bell <a href="#" onclick="location.href='mai'+'lto:'+'a.c'+'ud'+'bar'+'db'+'@fr'+'ee'+'rad'+'iu'+'s.o'+'rg'; return false;">a.cud<span style="display: none;">.nosp@m.</span>bard<span style="display: none;">.nosp@m.</span>b@fre<span style="display: none;">.nosp@m.</span>erad<span style="display: none;">.nosp@m.</span>ius.o<span style="display: none;">.nosp@m.</span>rg</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structdict__ext__hdr__t" id="structdict__ext__hdr__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structdict__ext__hdr__t">&#9670;&nbsp;</a></span>dict_ext_hdr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dict_ext_hdr_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Optional extension header struct. </p>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00087">87</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a3160f62cb41f951fd42e7fb7b9c5ecbf"></a>uint8_t</td>
<td class="fieldname">
data[]</td>
<td class="fielddoc">
Extension data. </td></tr>
<tr><td class="fieldtype">
<a id="a76ee0e270b2f2b1ab6151709a24ae1a6"></a>size_t</td>
<td class="fieldname">
len</td>
<td class="fielddoc">
Length of extension data. </td></tr>
</table>

</div>
</div>
<a name="structfr__ext__info__t" id="structfr__ext__info__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__ext__info__t">&#9670;&nbsp;</a></span>fr_ext_info_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_ext_info_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Additional information for a given extension. </p>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00064">64</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a098d8dd89a38d46157c677c04d9d62f6"></a>bool</td>
<td class="fieldname">
can_copy</td>
<td class="fielddoc">
Copying this extension between structs is allowed. </td></tr>
<tr><td class="fieldtype">
<a id="a95fa0d24324bcc0e9990505ed5139923"></a><a class="el" href="ext_8h.html#a4ef1a2839493f6b2329daa8a4df330a4">fr_ext_copy_t</a></td>
<td class="fieldname">
copy</td>
<td class="fielddoc">
Override the normal copy operation with a callback. </td></tr>
<tr><td class="fieldtype">
<a id="a576305aa6194fe271d67fb932a8f0bf0"></a>bool</td>
<td class="fieldname">
has_hdr</td>
<td class="fielddoc">
Additional metadata should be allocated before the extension data to record the exact length of the extension. </td></tr>
<tr><td class="fieldtype">
<a id="ae557b4489d4976c7a73f31ed9d92080c"></a>size_t</td>
<td class="fieldname">
min</td>
<td class="fielddoc">
Minimum size of extension. </td></tr>
</table>

</div>
</div>
<a name="structfr__ext__t" id="structfr__ext__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__ext__t">&#9670;&nbsp;</a></span>fr_ext_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_ext_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Structure to define a set of extensions. </p>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00076">76</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_ext_t:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structfr__ext__t__coll__graph.svg" width="288" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a93ecd72958b2f2dab5363b71a50308bf"></a><a class="el" href="ext_8h.html#structfr__ext__info__t">fr_ext_info_t</a> const</td>
<td class="fieldname">
info[]</td>
<td class="fielddoc">
Additional information about each extension. </td></tr>
<tr><td class="fieldtype">
<a id="a0a979aac953c03b3ba11b5439bc33fca"></a>int</td>
<td class="fieldname">
max</td>
<td class="fielddoc">
The highest extension value. </td></tr>
<tr><td class="fieldtype">
<a id="a4b562638677725807119863f9d66035b"></a><a class="el" href="table_8h.html#structfr__table__num__ordered__t">fr_table_num_ordered_t</a> const  *</td>
<td class="fieldname">
name_table</td>
<td class="fielddoc">
String identifiers for the extensions. </td></tr>
<tr><td class="fieldtype">
<a id="a442b084540c6a6ad9ad40b8c231c2982"></a>size_t *</td>
<td class="fieldname">
name_table_len</td>
<td class="fielddoc">
How many extensions there are in the table. </td></tr>
<tr><td class="fieldtype">
<a id="a0a725e2ea43d8a61c942dfdef9758ffc"></a>size_t</td>
<td class="fieldname">
offset_of_exts</td>
<td class="fielddoc">
Where in the extended struct the extensions array starts. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae4c969867c4831a2a060a987cd3a67f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c969867c4831a2a060a987cd3a67f9">&#9670;&nbsp;</a></span>FR_EXT_ALIGNMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_EXT_ALIGNMENT&#160;&#160;&#160;sizeof(uint64_t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The alignment of object extension structures. </p>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00054">54</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>

</div>
</div>
<a id="a47bf6cf57a1cb430b421db807501db81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47bf6cf57a1cb430b421db807501db81">&#9670;&nbsp;</a></span>FR_EXT_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> FR_EXT_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_ext&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((void *)(((_ptr)-&gt;_field[_ext] * <a class="el" href="ext_8h.html#ae4c969867c4831a2a060a987cd3a67f9">FR_EXT_ALIGNMENT</a>) + ((uintptr_t)(_ptr))))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer to the specified extension structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_ptr</td><td>to fetch extension for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_field</td><td>Array of extensions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_ext</td><td>to retrieve. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00098">98</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a4ef1a2839493f6b2329daa8a4df330a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef1a2839493f6b2329daa8a4df330a4">&#9670;&nbsp;</a></span>fr_ext_copy_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(*  fr_ext_copy_t) (void **chunk_p, int ext, void *ext_ptr, size_t ext_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for fixing up extensions after they're copied. </p>

<p class="definition">Definition at line <a class="el" href="ext_8h_source.html#l00060">60</a> of file <a class="el" href="ext_8h_source.html">ext.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a33a286199ebd60aa499fb2fcd1e823fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a286199ebd60aa499fb2fcd1e823fb">&#9670;&nbsp;</a></span>fr_ext_alloc_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fr_ext_alloc_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>chunk_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ext_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a variable length extension to a talloc chunk. </p>
<p>This is used to build a structure from a primary struct type and one or more extension structures. The memory for the composed structure is contiguous which has performance benefits, and means we don't have the overhead of talloc headers for each of the extensions.</p>
<dl class="section note"><dt>Note</dt><dd>When a new extension is allocated its memory will not be initialised.</dd>
<dd>
It is highly recommended to allocate composed structures within a talloc_pool to avoid the overhead of malloc+memcpy.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">def</td><td>Extension definitions. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chunk_p</td><td>The chunk to add an extension for. Under certain circumstances the value of *chunk_p will be changed to point to a new memory block. All cached copies of the previous pointer should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ext</td><td>to alloc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ext_len</td><td>The length of the extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NULL if we failed allocating an extension.</li>
<li>A pointer to the extension we allocated. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="ext_8c_source.html#l00060">60</a> of file <a class="el" href="ext_8c_source.html">ext.c</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_a33a286199ebd60aa499fb2fcd1e823fb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_a33a286199ebd60aa499fb2fcd1e823fb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="abebee37173b5053f576f9e1df4f2bf58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebee37173b5053f576f9e1df4f2bf58">&#9670;&nbsp;</a></span>fr_ext_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fr_ext_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>chunk_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>chunk_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy extension data from one attribute to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">def</td><td>Extension definitions. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chunk_out</td><td>to copy extension to. Under certain circumstances the value of *chunk_out will be changed to point to a new memory block. All cached copies of the previous pointer should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_in</td><td>to copy extension from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ext</td><td>to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NULL if we failed to allocate an extension structure.</li>
<li>A pointer to the offset of the extension in da_out. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="ext_8c_source.html#l00164">164</a> of file <a class="el" href="ext_8c_source.html">ext.c</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_abebee37173b5053f576f9e1df4f2bf58_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_abebee37173b5053f576f9e1df4f2bf58_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3593d933eb0c050d47c4bd627aa037fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3593d933eb0c050d47c4bd627aa037fe">&#9670;&nbsp;</a></span>fr_ext_copy_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_ext_copy_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>chunk_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>chunk_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy all the extensions from one attribute to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">def</td><td>Extension definitions. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chunk_out</td><td>to copy extensions to. Under certain circumstances the value of *chunk_out will be changed to point to a new memory block. All cached copies of the previous pointer should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_in</td><td>to copy extensions from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>-1 if a copy operation failed. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="ext_8c_source.html#l00215">215</a> of file <a class="el" href="ext_8c_source.html">ext.c</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_a3593d933eb0c050d47c4bd627aa037fe_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_a3593d933eb0c050d47c4bd627aa037fe_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aae51ca66d3c0cdeec90855ea257583e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae51ca66d3c0cdeec90855ea257583e5">&#9670;&nbsp;</a></span>fr_ext_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_ext_debug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out all extensions and hexdump their contents. </p>
<p>This function is intended to be called from interactive debugging sessions only. It does not use the normal logging infrastructure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">def</td><td>Extension definitions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the identifier of the structure being debugged i.e da-&gt;name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk</td><td>to debug. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ext_8c_source.html#l00238">238</a> of file <a class="el" href="ext_8c_source.html">ext.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="ext_8h_aae51ca66d3c0cdeec90855ea257583e5_cgraph.svg" width="294" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_aae51ca66d3c0cdeec90855ea257583e5_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a290f5e9ef5e3e46e7690e23032a7187d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a290f5e9ef5e3e46e7690e23032a7187d">&#9670;&nbsp;</a></span>fr_ext_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t fr_ext_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext_8h.html#structfr__ext__t">fr_ext_t</a> const *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the length of an extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">def</td><td>Extension definitions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk</td><td>to return extension length for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ext</td><td>to return length for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if no extension exists or is of zero length.</li>
<li>&gt;0 the length of the extension. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="ext_8c_source.html#l00132">132</a> of file <a class="el" href="ext_8c_source.html">ext.c</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ext_8h_a290f5e9ef5e3e46e7690e23032a7187d_icgraph.svg" width="100%" height="454"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 16 2020 14:51:43 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
