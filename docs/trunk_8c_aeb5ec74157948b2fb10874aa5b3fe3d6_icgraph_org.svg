<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: trunk_connection_enter_draining_to_free Pages: 1 -->
<svg width="902pt" height="237pt"
 viewBox="0.00 0.00 902.00 237.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 233)">
<title>trunk_connection_enter_draining_to_free</title>
<!-- Node8780 -->
<g id="node1" class="node">
<title>Node8780</title>
<polygon fill="#bfbfbf" stroke="#000000" points="0,-52 0,-82 118,-82 118,-52 0,-52"/>
<text text-anchor="start" x="8" y="-70" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">trunk_connection_enter</text>
<text text-anchor="middle" x="59" y="-59" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_draining_to_free</text>
</g>
<!-- Node8781 -->
<g id="node2" class="node">
<title>Node8781</title>
<g id="a_node2"><a xlink:href="trunk_8c.html#a25de4b8d6e90f9001b5bc02a0cef5980" target="_top" xlink:title="Transition a request to the sent state, indicating that it&#39;s been sent in its entirety. ">
<polygon fill="none" stroke="#000000" points="157,-114.5 157,-133.5 284,-133.5 284,-114.5 157,-114.5"/>
<text text-anchor="middle" x="220.5" y="-121.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">trunk_request_enter_sent</text>
</a>
</g>
</g>
<!-- Node8780&#45;&gt;Node8781 -->
<g id="edge1" class="edge">
<title>Node8780&#45;&gt;Node8781</title>
<path fill="none" stroke="#191970" d="M111.6352,-85.5771C138.8532,-95.1835 170.9407,-106.5085 193.1965,-114.3635"/>
<polygon fill="#191970" stroke="#191970" points="112.4498,-82.1531 101.855,-82.1253 110.12,-88.754 112.4498,-82.1531"/>
</g>
<!-- Node8800 -->
<g id="node11" class="node">
<title>Node8800</title>
<g id="a_node11"><a xlink:href="trunk_8c.html#a3cf8514dfb66111bc5ebb69c1ade7232" target="_top" xlink:title="Connection transitioned to the shutdown state. ">
<polygon fill="none" stroke="#000000" points="338,-52 338,-82 450,-82 450,-52 338,-52"/>
<text text-anchor="start" x="346" y="-70" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_trunk_connection_on</text>
<text text-anchor="middle" x="394" y="-59" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_shutdown</text>
</a>
</g>
</g>
<!-- Node8780&#45;&gt;Node8800 -->
<g id="edge11" class="edge">
<title>Node8780&#45;&gt;Node8800</title>
<path fill="none" stroke="#191970" d="M128.2213,-67C190.3183,-67 280.2984,-67 337.9779,-67"/>
<polygon fill="#191970" stroke="#191970" points="128.1202,-63.5001 118.1201,-67 128.1201,-70.5001 128.1202,-63.5001"/>
</g>
<!-- Node8849 -->
<g id="node16" class="node">
<title>Node8849</title>
<g id="a_node16"><a xlink:href="trunk_8c.html#aa7dc82680fd0d29e86525577b75de5b4" target="_top" xlink:title="Trigger a reconnection of the trunk connection. ">
<polygon fill="none" stroke="#000000" points="154,-6 154,-36 287,-36 287,-6 154,-6"/>
<text text-anchor="start" x="162" y="-24" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_trunk_connection_lifetime</text>
<text text-anchor="middle" x="220.5" y="-13" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_expire</text>
</a>
</g>
</g>
<!-- Node8780&#45;&gt;Node8849 -->
<g id="edge17" class="edge">
<title>Node8780&#45;&gt;Node8849</title>
<path fill="none" stroke="#191970" d="M121.7294,-49.1328C136.9501,-44.7975 153.0708,-40.2058 167.776,-36.0174"/>
<polygon fill="#191970" stroke="#191970" points="120.5398,-45.8323 111.8811,-51.9379 122.4574,-52.5646 120.5398,-45.8323"/>
</g>
<!-- Node8782 -->
<g id="node3" class="node">
<title>Node8782</title>
<g id="a_node3"><a xlink:href="trunk_8h.html#a4280399df4f7f50713e75983220b6893" target="_top" xlink:title="Signal that the request was written to a connection successfully. ">
<polygon fill="none" stroke="#000000" points="323,-133.5 323,-152.5 465,-152.5 465,-133.5 323,-133.5"/>
<text text-anchor="middle" x="394" y="-140.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">fr_trunk_request_signal_sent</text>
</a>
</g>
</g>
<!-- Node8781&#45;&gt;Node8782 -->
<g id="edge2" class="edge">
<title>Node8781&#45;&gt;Node8782</title>
<path fill="none" stroke="#191970" d="M294.2648,-132.078C303.7102,-133.1124 313.3658,-134.1697 322.7699,-135.1996"/>
<polygon fill="#191970" stroke="#191970" points="294.4414,-128.5765 284.1198,-130.967 293.6793,-135.5349 294.4414,-128.5765"/>
</g>
<!-- Node8783 -->
<g id="node4" class="node">
<title>Node8783</title>
<g id="a_node4"><a xlink:href="pipeline_8c.html#ad4f604d6060fb90d10347fc70af5ec7b" target="_top" xlink:title="Enqueue one or more command sets onto a redis handle. ">
<polygon fill="none" stroke="#000000" points="507.5,-209.5 507.5,-228.5 612.5,-228.5 612.5,-209.5 507.5,-209.5"/>
<text text-anchor="middle" x="560" y="-216.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_redis_pipeline_mux</text>
</a>
</g>
</g>
<!-- Node8782&#45;&gt;Node8783 -->
<g id="edge3" class="edge">
<title>Node8782&#45;&gt;Node8783</title>
<path fill="none" stroke="#191970" d="M418.5921,-157.7212C439.8923,-170.074 471.7913,-187.6332 501,-200 509.2249,-203.4824 518.3184,-206.7039 526.8527,-209.4676"/>
<polygon fill="#191970" stroke="#191970" points="420.2726,-154.6493 409.8753,-152.6129 416.7333,-160.6887 420.2726,-154.6493"/>
</g>
<!-- Node8786 -->
<g id="node6" class="node">
<title>Node8786</title>
<g id="a_node6"><a xlink:href="trunk__tests_8c.html#a3a1b2bf5ad7a59a5c3884148f8bd4417" target="_top" xlink:title="test_mux">
<polygon fill="none" stroke="#000000" points="531.5,-171.5 531.5,-190.5 588.5,-190.5 588.5,-171.5 531.5,-171.5"/>
<text text-anchor="middle" x="560" y="-178.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">test_mux</text>
</a>
</g>
</g>
<!-- Node8782&#45;&gt;Node8786 -->
<g id="edge5" class="edge">
<title>Node8782&#45;&gt;Node8786</title>
<path fill="none" stroke="#191970" d="M446.0017,-154.904C474.2164,-161.3628 508.012,-169.0991 531.4459,-174.4635"/>
<polygon fill="#191970" stroke="#191970" points="446.4177,-151.4088 435.8888,-152.589 444.8556,-158.2323 446.4177,-151.4088"/>
</g>
<!-- Node8797 -->
<g id="node8" class="node">
<title>Node8797</title>
<g id="a_node8"><a xlink:href="rlm__radius__udp_8c.html#a3305dcbb1c5cd85ad338cd3b3f44b3e0" target="_top" xlink:title="request_mux">
<polygon fill="none" stroke="#000000" points="523.5,-133.5 523.5,-152.5 596.5,-152.5 596.5,-133.5 523.5,-133.5"/>
<text text-anchor="middle" x="560" y="-140.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">request_mux</text>
</a>
</g>
</g>
<!-- Node8782&#45;&gt;Node8797 -->
<g id="edge7" class="edge">
<title>Node8782&#45;&gt;Node8797</title>
<path fill="none" stroke="#191970" d="M475.7505,-143C492.4877,-143 509.2927,-143 523.4422,-143"/>
<polygon fill="#191970" stroke="#191970" points="475.3624,-139.5001 465.3623,-143 475.3623,-146.5001 475.3624,-139.5001"/>
</g>
<!-- Node8799 -->
<g id="node10" class="node">
<title>Node8799</title>
<g id="a_node10"><a xlink:href="rlm__radius__udp_8c.html#a06956c06159d9eb34d4ea3d3ceade2b0" target="_top" xlink:title="request_mux_replicate">
<polygon fill="none" stroke="#000000" points="502.5,-95.5 502.5,-114.5 617.5,-114.5 617.5,-95.5 502.5,-95.5"/>
<text text-anchor="middle" x="560" y="-102.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">request_mux_replicate</text>
</a>
</g>
</g>
<!-- Node8782&#45;&gt;Node8799 -->
<g id="edge9" class="edge">
<title>Node8782&#45;&gt;Node8799</title>
<path fill="none" stroke="#191970" d="M445.6534,-131.1757C469.0564,-125.8184 496.3571,-119.5689 518.4124,-114.5201"/>
<polygon fill="#191970" stroke="#191970" points="444.8556,-127.7677 435.8888,-133.411 446.4177,-134.5912 444.8556,-127.7677"/>
</g>
<!-- Node8784 -->
<g id="node5" class="node">
<title>Node8784</title>
<g id="a_node5"><a xlink:href="pipeline_8h.html#a1783c8caef2ebedfab3e0886489b322c" target="_top" xlink:title="Allocate a new trunk. ">
<polygon fill="none" stroke="#ff0000" points="667,-209.5 667,-228.5 768,-228.5 768,-209.5 667,-209.5"/>
<text text-anchor="middle" x="717.5" y="-216.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">fr_redis_trunk_alloc</text>
</a>
</g>
</g>
<!-- Node8783&#45;&gt;Node8784 -->
<g id="edge4" class="edge">
<title>Node8783&#45;&gt;Node8784</title>
<path fill="none" stroke="#191970" d="M623.2821,-219C637.7804,-219 653.0068,-219 666.8898,-219"/>
<polygon fill="#191970" stroke="#191970" points="622.8834,-215.5001 612.8834,-219 622.8833,-222.5001 622.8834,-215.5001"/>
</g>
<!-- Node8787 -->
<g id="node7" class="node">
<title>Node8787</title>
<g id="a_node7"><a xlink:href="trunk__tests_8c.html#a56a39a13b6c03335982f3340bfad866b" target="_top" xlink:title="test_setup_trunk">
<polygon fill="none" stroke="#ff0000" points="673,-171.5 673,-190.5 762,-190.5 762,-171.5 673,-171.5"/>
<text text-anchor="middle" x="717.5" y="-178.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">test_setup_trunk</text>
</a>
</g>
</g>
<!-- Node8786&#45;&gt;Node8787 -->
<g id="edge6" class="edge">
<title>Node8786&#45;&gt;Node8787</title>
<path fill="none" stroke="#191970" d="M598.688,-181C621.111,-181 649.4405,-181 672.8119,-181"/>
<polygon fill="#191970" stroke="#191970" points="598.5221,-177.5001 588.5221,-181 598.522,-184.5001 598.5221,-177.5001"/>
</g>
<!-- Node8798 -->
<g id="node9" class="node">
<title>Node8798</title>
<g id="a_node9"><a xlink:href="rlm__radius__udp_8c.html#a1862560a87e2e86c88fe28897495c674" target="_top" xlink:title="Instantiate thread data for the submodule. ">
<polygon fill="none" stroke="#000000" points="658.5,-114.5 658.5,-133.5 776.5,-133.5 776.5,-114.5 658.5,-114.5"/>
<text text-anchor="middle" x="717.5" y="-121.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">mod_thread_instantiate</text>
</a>
</g>
</g>
<!-- Node8797&#45;&gt;Node8798 -->
<g id="edge8" class="edge">
<title>Node8797&#45;&gt;Node8798</title>
<path fill="none" stroke="#191970" d="M606.8092,-137.3532C622.9817,-135.4022 641.3181,-133.1902 658.3487,-131.1357"/>
<polygon fill="#191970" stroke="#191970" points="606.0383,-133.9207 596.5295,-138.5933 606.8768,-140.8703 606.0383,-133.9207"/>
</g>
<!-- Node8799&#45;&gt;Node8798 -->
<g id="edge10" class="edge">
<title>Node8799&#45;&gt;Node8798</title>
<path fill="none" stroke="#191970" d="M627.8302,-113.1827C638.0162,-114.4115 648.4509,-115.6703 658.4345,-116.8746"/>
<polygon fill="#191970" stroke="#191970" points="628.1001,-109.69 617.7529,-111.967 627.2617,-116.6396 628.1001,-109.69"/>
</g>
<!-- Node8801 -->
<g id="node12" class="node">
<title>Node8801</title>
<g id="a_node12"><a xlink:href="trunk_8c.html#a213ea6729e8bcd5958923a9bdbc743c9" target="_top" xlink:title="Free a connection. ">
<polygon fill="none" stroke="#000000" points="501,-19.5 501,-38.5 619,-38.5 619,-19.5 501,-19.5"/>
<text text-anchor="middle" x="560" y="-26.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_trunk_connection_free</text>
</a>
</g>
</g>
<!-- Node8800&#45;&gt;Node8801 -->
<g id="edge12" class="edge">
<title>Node8800&#45;&gt;Node8801</title>
<path fill="none" stroke="#191970" d="M460.0242,-51.886C479.6755,-47.3875 500.653,-42.5855 518.292,-38.5476"/>
<polygon fill="#191970" stroke="#191970" points="459.1669,-48.4917 450.2,-54.1349 460.7289,-55.3152 459.1669,-48.4917"/>
</g>
<!-- Node8802 -->
<g id="node13" class="node">
<title>Node8802</title>
<g id="a_node13"><a xlink:href="trunk_8c.html#a62baa359a34e9d6dd05554c3e20c8caa" target="_top" xlink:title="Attempt to spawn a new connection. ">
<polygon fill="none" stroke="#000000" points="655,-19.5 655,-38.5 780,-38.5 780,-19.5 655,-19.5"/>
<text text-anchor="middle" x="717.5" y="-26.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">trunk_connection_spawn</text>
</a>
</g>
</g>
<!-- Node8800&#45;&gt;Node8802 -->
<g id="edge16" class="edge">
<title>Node8800&#45;&gt;Node8802</title>
<path fill="none" stroke="#191970" d="M460.3247,-63.2583C505.2435,-60.2687 565.8619,-55.3474 619,-48 636.9419,-45.5192 656.5623,-41.9183 673.5364,-38.5168"/>
<polygon fill="#191970" stroke="#191970" points="459.8763,-59.78 450.1247,-63.922 460.3308,-66.7652 459.8763,-59.78"/>
</g>
<!-- Node8801&#45;&gt;Node8802 -->
<g id="edge13" class="edge">
<title>Node8801&#45;&gt;Node8802</title>
<path fill="none" stroke="#191970" d="M629.3661,-29C637.8688,-29 646.5196,-29 654.9142,-29"/>
<polygon fill="#191970" stroke="#191970" points="629.0953,-25.5001 619.0953,-29 629.0953,-32.5001 629.0953,-25.5001"/>
</g>
<!-- Node8803 -->
<g id="node14" class="node">
<title>Node8803</title>
<g id="a_node14"><a xlink:href="trunk_8c.html#a8fb6d1576f81b578b3090bfa8bb3c366" target="_top" xlink:title="Implements the algorithm we use to manage requests per connection levels. ">
<polygon fill="none" stroke="#ff0000" points="816,-38.5 816,-57.5 894,-57.5 894,-38.5 816,-38.5"/>
<text text-anchor="middle" x="855" y="-45.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">trunk_manage</text>
</a>
</g>
</g>
<!-- Node8802&#45;&gt;Node8803 -->
<g id="edge14" class="edge">
<title>Node8802&#45;&gt;Node8803</title>
<path fill="none" stroke="#191970" d="M790.2334,-39.0504C799.102,-40.2759 807.8819,-41.4891 815.9802,-42.6082"/>
<polygon fill="#191970" stroke="#191970" points="790.5994,-35.5678 780.2144,-37.666 789.6412,-42.5019 790.5994,-35.5678"/>
</g>
<!-- Node8805 -->
<g id="node15" class="node">
<title>Node8805</title>
<g id="a_node15"><a xlink:href="trunk_8h.html#a055d797a7b5348770b776a633780ee1d" target="_top" xlink:title="Start the trunk running. ">
<polygon fill="none" stroke="#ff0000" points="818,-.5 818,-19.5 892,-19.5 892,-.5 818,-.5"/>
<text text-anchor="middle" x="855" y="-7.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">fr_trunk_start</text>
</a>
</g>
</g>
<!-- Node8802&#45;&gt;Node8805 -->
<g id="edge15" class="edge">
<title>Node8802&#45;&gt;Node8805</title>
<path fill="none" stroke="#191970" d="M790.2101,-18.9528C799.7963,-17.6281 809.2795,-16.3177 817.9108,-15.125"/>
<polygon fill="#191970" stroke="#191970" points="789.6412,-15.4981 780.2144,-20.334 790.5994,-22.4322 789.6412,-15.4981"/>
</g>
<!-- Node8844 -->
<g id="node17" class="node">
<title>Node8844</title>
<g id="a_node17"><a xlink:href="trunk_8c.html#ad121aefa7ec92e92c50dcfc320181c43" target="_top" xlink:title="Connection transitioned to the connected state. ">
<polygon fill="none" stroke="#000000" points="338,-3 338,-33 450,-33 450,-3 338,-3"/>
<text text-anchor="start" x="346" y="-21" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_trunk_connection_on</text>
<text text-anchor="middle" x="394" y="-10" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_connected</text>
</a>
</g>
</g>
<!-- Node8849&#45;&gt;Node8844 -->
<g id="edge18" class="edge">
<title>Node8849&#45;&gt;Node8844</title>
<path fill="none" stroke="#191970" d="M297.3828,-19.6706C310.964,-19.4358 324.8719,-19.1953 337.7519,-18.9726"/>
<polygon fill="#191970" stroke="#191970" points="297.0214,-16.1762 287.0834,-19.8487 297.1425,-23.1752 297.0214,-16.1762"/>
</g>
<!-- Node8844&#45;&gt;Node8801 -->
<g id="edge19" class="edge">
<title>Node8844&#45;&gt;Node8801</title>
<path fill="none" stroke="#191970" d="M460.2821,-22.3922C473.652,-23.2781 487.6257,-24.2041 500.7367,-25.0729"/>
<polygon fill="#191970" stroke="#191970" points="460.4096,-18.8931 450.2,-21.7241 459.9467,-25.8777 460.4096,-18.8931"/>
</g>
<!-- Node8844&#45;&gt;Node8802 -->
<g id="edge20" class="edge">
<title>Node8844&#45;&gt;Node8802</title>
<path fill="none" stroke="#191970" d="M460.2555,-11.1064C505.1443,-7.5489 565.7554,-4.9116 619,-10 638.4174,-11.8556 659.6981,-15.7243 677.4951,-19.4894"/>
<polygon fill="#191970" stroke="#191970" points="459.7395,-7.6371 450.0628,-11.9513 460.3178,-14.6132 459.7395,-7.6371"/>
</g>
</g>
</svg>
