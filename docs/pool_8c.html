<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/runner/work/freeradius-server/freeradius-server/src/lib/server/pool.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="freeradius.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_dd8369ac01888559ff22cc7524970144.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pool.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handle pools of connections (threads, sockets, etc.)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freeradius-devel/server/base.h&gt;</code><br />
<code>#include &lt;freeradius-devel/server/modpriv.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/debug.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/heap.h&gt;</code><br />
<code>#include &lt;freeradius-devel/util/misc.h&gt;</code><br />
<code>#include &lt;<a class="el" href="time_8h_source.html">time.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for pool.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c__incl.svg" width="100%" height="484"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="pool_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structfr__pool__connection__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#structfr__pool__connection__s">fr_pool_connection_s</a></td></tr>
<tr class="memdesc:structfr__pool__connection__s"><td class="mdescLeft">&#160;</td><td class="mdescRight">An individual connection within the connection pool.  <a href="pool_8c.html#structfr__pool__connection__s">More...</a><br /></td></tr>
<tr class="separator:structfr__pool__connection__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfr__pool__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#structfr__pool__s">fr_pool_s</a></td></tr>
<tr class="memdesc:structfr__pool__s"><td class="mdescLeft">&#160;</td><td class="mdescRight">A connection pool.  <a href="pool_8c.html#structfr__pool__s">More...</a><br /></td></tr>
<tr class="separator:structfr__pool__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aae1d11681b36518afb9413f4194b18a6"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#aae1d11681b36518afb9413f4194b18a6">LOG_PREFIX</a>&#160;&#160;&#160;&quot;%s - &quot;</td></tr>
<tr class="separator:aae1d11681b36518afb9413f4194b18a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1160f41bcf76f349186b6cfce11bcc"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#adf1160f41bcf76f349186b6cfce11bcc">LOG_PREFIX_ARGS</a>&#160;&#160;&#160;pool-&gt;log_prefix</td></tr>
<tr class="separator:adf1160f41bcf76f349186b6cfce11bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4249f5c48884639bd0769ca6dae8e19e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="pool_8c.html#structfr__pool__connection__s">fr_pool_connection_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a></td></tr>
<tr class="separator:a4249f5c48884639bd0769ca6dae8e19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34653fe49349ad33c89e7a459e24293a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a34653fe49349ad33c89e7a459e24293a">connection_check</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request)</td></tr>
<tr class="memdesc:a34653fe49349ad33c89e7a459e24293a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether any connections need to be removed from the pool.  <a href="#a34653fe49349ad33c89e7a459e24293a">More...</a><br /></td></tr>
<tr class="separator:a34653fe49349ad33c89e7a459e24293a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405d785679ea12b6919284a0cc70e479"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a405d785679ea12b6919284a0cc70e479">connection_close_internal</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *this)</td></tr>
<tr class="memdesc:a405d785679ea12b6919284a0cc70e479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an existing connection.  <a href="#a405d785679ea12b6919284a0cc70e479">More...</a><br /></td></tr>
<tr class="separator:a405d785679ea12b6919284a0cc70e479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14166bb15f94ea500ee77d1e702fb6b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a14166bb15f94ea500ee77d1e702fb6b5">connection_find</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, void *conn)</td></tr>
<tr class="memdesc:a14166bb15f94ea500ee77d1e702fb6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a connection handle in the connection list.  <a href="#a14166bb15f94ea500ee77d1e702fb6b5">More...</a><br /></td></tr>
<tr class="separator:a14166bb15f94ea500ee77d1e702fb6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f577ec1c9437bc561bace7b90d6768"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a11f577ec1c9437bc561bace7b90d6768">connection_get_internal</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, bool spawn)</td></tr>
<tr class="memdesc:a11f577ec1c9437bc561bace7b90d6768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a connection from the connection pool.  <a href="#a11f577ec1c9437bc561bace7b90d6768">More...</a><br /></td></tr>
<tr class="separator:a11f577ec1c9437bc561bace7b90d6768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be38f12c9e895bd5c9ba5ba3bc0662f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a0be38f12c9e895bd5c9ba5ba3bc0662f">connection_link_head</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *this)</td></tr>
<tr class="memdesc:a0be38f12c9e895bd5c9ba5ba3bc0662f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a connection to the head of the connection list.  <a href="#a0be38f12c9e895bd5c9ba5ba3bc0662f">More...</a><br /></td></tr>
<tr class="separator:a0be38f12c9e895bd5c9ba5ba3bc0662f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4d51ce852622144646a301d95bd3ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a5c4d51ce852622144646a301d95bd3ec">connection_manage</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *this, time_t now)</td></tr>
<tr class="memdesc:a5c4d51ce852622144646a301d95bd3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a connection needs to be removed from the pool.  <a href="#a5c4d51ce852622144646a301d95bd3ec">More...</a><br /></td></tr>
<tr class="separator:a5c4d51ce852622144646a301d95bd3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41541ea89745dd51029d73fb008d6021"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a41541ea89745dd51029d73fb008d6021">connection_spawn</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, <a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a> now, bool in_use, bool unlock)</td></tr>
<tr class="memdesc:a41541ea89745dd51029d73fb008d6021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spawns a new connection.  <a href="#a41541ea89745dd51029d73fb008d6021">More...</a><br /></td></tr>
<tr class="separator:a41541ea89745dd51029d73fb008d6021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d50aacfed1e9516241ca7b08a47e872"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a2d50aacfed1e9516241ca7b08a47e872">connection_unlink</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *this)</td></tr>
<tr class="memdesc:a2d50aacfed1e9516241ca7b08a47e872"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a connection from the connection list.  <a href="#a2d50aacfed1e9516241ca7b08a47e872">More...</a><br /></td></tr>
<tr class="separator:a2d50aacfed1e9516241ca7b08a47e872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e041afb94fecd27acff57ef29850403"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a8e041afb94fecd27acff57ef29850403">fr_pool_connection_close</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *conn)</td></tr>
<tr class="memdesc:a8e041afb94fecd27acff57ef29850403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a connection from the connection pool.  <a href="#a8e041afb94fecd27acff57ef29850403">More...</a><br /></td></tr>
<tr class="separator:a8e041afb94fecd27acff57ef29850403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e7ac5bfdae66159d35be3825d5b0b1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a75e7ac5bfdae66159d35be3825d5b0b1">fr_pool_connection_get</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request)</td></tr>
<tr class="memdesc:a75e7ac5bfdae66159d35be3825d5b0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a connection in the connection pool.  <a href="#a75e7ac5bfdae66159d35be3825d5b0b1">More...</a><br /></td></tr>
<tr class="separator:a75e7ac5bfdae66159d35be3825d5b0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1511bb1bd5b110243f5e53e9188e3dd"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#af1511bb1bd5b110243f5e53e9188e3dd">fr_pool_connection_reconnect</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *conn)</td></tr>
<tr class="memdesc:af1511bb1bd5b110243f5e53e9188e3dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect a suspected inviable connection.  <a href="#af1511bb1bd5b110243f5e53e9188e3dd">More...</a><br /></td></tr>
<tr class="separator:af1511bb1bd5b110243f5e53e9188e3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350d125044416cf2309470d9d6a43a3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a350d125044416cf2309470d9d6a43a3f">fr_pool_connection_release</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, void *conn)</td></tr>
<tr class="memdesc:a350d125044416cf2309470d9d6a43a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a connection.  <a href="#a350d125044416cf2309470d9d6a43a3f">More...</a><br /></td></tr>
<tr class="separator:a350d125044416cf2309470d9d6a43a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bd3866642e6398e3725dd12fef0d59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#ad5bd3866642e6398e3725dd12fef0d59">fr_pool_copy</a> (TALLOC_CTX *ctx, <a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, void *opaque)</td></tr>
<tr class="memdesc:ad5bd3866642e6398e3725dd12fef0d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new pool using an existing one as a template.  <a href="#ad5bd3866642e6398e3725dd12fef0d59">More...</a><br /></td></tr>
<tr class="separator:ad5bd3866642e6398e3725dd12fef0d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafb70f162af494b1cadf6887435fc49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#aeafb70f162af494b1cadf6887435fc49">fr_pool_enable_triggers</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, char const *trigger_prefix, <a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *trigger_args)</td></tr>
<tr class="memdesc:aeafb70f162af494b1cadf6887435fc49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable triggers for a connection pool.  <a href="#aeafb70f162af494b1cadf6887435fc49">More...</a><br /></td></tr>
<tr class="separator:aeafb70f162af494b1cadf6887435fc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f7fb0b27217494c13b53f14711d760"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a44f7fb0b27217494c13b53f14711d760">fr_pool_free</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a44f7fb0b27217494c13b53f14711d760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a connection pool.  <a href="#a44f7fb0b27217494c13b53f14711d760">More...</a><br /></td></tr>
<tr class="separator:a44f7fb0b27217494c13b53f14711d760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad534d61895e650a46ed2078e0dc6714a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#ad534d61895e650a46ed2078e0dc6714a">fr_pool_init</a> (TALLOC_CTX *ctx, <a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> const *cs, void *opaque, <a class="el" href="pool_8h.html#aa08dee55fa46bb081affb4ed89ad8147">fr_pool_connection_create_t</a> c, <a class="el" href="pool_8h.html#ac28b5484f6f43c4d77c4632706152ab2">fr_pool_connection_alive_t</a> a, char const *log_prefix)</td></tr>
<tr class="memdesc:ad534d61895e650a46ed2078e0dc6714a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection pool.  <a href="#ad534d61895e650a46ed2078e0dc6714a">More...</a><br /></td></tr>
<tr class="separator:ad534d61895e650a46ed2078e0dc6714a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349d07bd81770f3f6e5e4a81e5ad27d0"><td class="memItemLeft" align="right" valign="top">void const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a349d07bd81770f3f6e5e4a81e5ad27d0">fr_pool_opaque</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a349d07bd81770f3f6e5e4a81e5ad27d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the opaque data associated with a connection pool.  <a href="#a349d07bd81770f3f6e5e4a81e5ad27d0">More...</a><br /></td></tr>
<tr class="separator:a349d07bd81770f3f6e5e4a81e5ad27d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b87c78e8f39bd2704842359db2f263c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a6b87c78e8f39bd2704842359db2f263c">fr_pool_reconnect</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request)</td></tr>
<tr class="memdesc:a6b87c78e8f39bd2704842359db2f263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark connections for reconnection, and spawn at least 'start' connections.  <a href="#a6b87c78e8f39bd2704842359db2f263c">More...</a><br /></td></tr>
<tr class="separator:a6b87c78e8f39bd2704842359db2f263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf28ee710f147c7d0d6153a617698b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#adf28ee710f147c7d0d6153a617698b5d">fr_pool_reconnect_func</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="pool_8h.html#a77d52e80185c7168d93db91824c156ec">fr_pool_reconnect_t</a> reconnect)</td></tr>
<tr class="memdesc:adf28ee710f147c7d0d6153a617698b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a reconnection callback for the connection pool.  <a href="#adf28ee710f147c7d0d6153a617698b5d">More...</a><br /></td></tr>
<tr class="separator:adf28ee710f147c7d0d6153a617698b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574d50913d2908715785fdf4ec02135b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a574d50913d2908715785fdf4ec02135b">fr_pool_ref</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a574d50913d2908715785fdf4ec02135b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment pool reference by one.  <a href="#a574d50913d2908715785fdf4ec02135b">More...</a><br /></td></tr>
<tr class="separator:a574d50913d2908715785fdf4ec02135b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c11a25b05c71aab4392cb778959e7ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a0c11a25b05c71aab4392cb778959e7ce">fr_pool_start</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="separator:a0c11a25b05c71aab4392cb778959e7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a0f06af3da27c3af69883544ddd6a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#ac4a0f06af3da27c3af69883544ddd6a7">fr_pool_start_num</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:ac4a0f06af3da27c3af69883544ddd6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection pool get start.  <a href="#ac4a0f06af3da27c3af69883544ddd6a7">More...</a><br /></td></tr>
<tr class="separator:ac4a0f06af3da27c3af69883544ddd6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b251d458c1229ed4a5f061ac6c70616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pool_8h.html#a63674e9f90d86b0dd6d290f3b90723e5">fr_pool_state_t</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a6b251d458c1229ed4a5f061ac6c70616">fr_pool_state</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a6b251d458c1229ed4a5f061ac6c70616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of connections currently in the pool.  <a href="#a6b251d458c1229ed4a5f061ac6c70616">More...</a><br /></td></tr>
<tr class="separator:a6b251d458c1229ed4a5f061ac6c70616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b039da90c3bff218111d75bc71c08bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a0b039da90c3bff218111d75bc71c08bd">fr_pool_timeout</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a0b039da90c3bff218111d75bc71c08bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection pool get timeout.  <a href="#a0b039da90c3bff218111d75bc71c08bd">More...</a><br /></td></tr>
<tr class="separator:a0b039da90c3bff218111d75bc71c08bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8965c10f53aba7de0ad83e031f8568"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#adf8965c10f53aba7de0ad83e031f8568">fr_pool_trigger_exec</a> (<a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *pool, <a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *request, char const *event)</td></tr>
<tr class="memdesc:adf8965c10f53aba7de0ad83e031f8568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a connection pool trigger.  <a href="#adf8965c10f53aba7de0ad83e031f8568">More...</a><br /></td></tr>
<tr class="separator:adf8965c10f53aba7de0ad83e031f8568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b7ddc3f4595cbb550c28c79e0a5261"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#a10b7ddc3f4595cbb550c28c79e0a5261">last_released_cmp</a> (void const *one, void const *two)</td></tr>
<tr class="memdesc:a10b7ddc3f4595cbb550c28c79e0a5261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order connections by released longest ago.  <a href="#a10b7ddc3f4595cbb550c28c79e0a5261">More...</a><br /></td></tr>
<tr class="separator:a10b7ddc3f4595cbb550c28c79e0a5261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ea2c00e4071eed4f44f51c202b0b9c"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#ad4ea2c00e4071eed4f44f51c202b0b9c">last_reserved_cmp</a> (void const *one, void const *two)</td></tr>
<tr class="memdesc:ad4ea2c00e4071eed4f44f51c202b0b9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order connections by reserved most recently.  <a href="#ad4ea2c00e4071eed4f44f51c202b0b9c">More...</a><br /></td></tr>
<tr class="separator:ad4ea2c00e4071eed4f44f51c202b0b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abfc286252ed14ba408f096213ea66f0c"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8c.html#abfc286252ed14ba408f096213ea66f0c">pool_config</a> []</td></tr>
<tr class="separator:abfc286252ed14ba408f096213ea66f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handle pools of connections (threads, sockets, etc.) </p>
<dl class="section note"><dt>Note</dt><dd>This API must be used by all modules in the public distribution that maintain pools of connections.</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2012 The FreeRADIUS server project </dd>
<dd>
2012 Alan DeKok (<a href="#" onclick="location.href='mai'+'lto:'+'ala'+'nd'+'@de'+'pl'+'oyi'+'ng'+'rad'+'iu'+'s.c'+'om'; return false;">aland<span style="display: none;">.nosp@m.</span>@dep<span style="display: none;">.nosp@m.</span>loyin<span style="display: none;">.nosp@m.</span>grad<span style="display: none;">.nosp@m.</span>ius.c<span style="display: none;">.nosp@m.</span>om</a>) </dd></dl>

<p class="definition">Definition in file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structfr__pool__connection__s" id="structfr__pool__connection__s"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__pool__connection__s">&#9670;&nbsp;</a></span>fr_pool_connection_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_pool_connection_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>An individual connection within the connection pool. </p>
<p>Defines connection counters, timestamps, and holds a pointer to the connection handle itself.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00051">51</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_pool_connection_s:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structfr__pool__connection__s__coll__graph.svg" width="210" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a6aef0db302e0d3fe0ca537185887d7aa"></a>void *</td>
<td class="fieldname">
connection</td>
<td class="fielddoc">
Pointer to whatever the module uses for a connection handle. </td></tr>
<tr><td class="fieldtype">
<a id="a54a338dc37c491a3c9caf8b8a91ebef5"></a>time_t</td>
<td class="fieldname">
created</td>
<td class="fielddoc">
Time connection was created. </td></tr>
<tr><td class="fieldtype">
<a id="adca187e8709f7911597e2a27128137a1"></a>int32_t</td>
<td class="fieldname">
heap_id</td>
<td class="fielddoc">
For the next connection heap. </td></tr>
<tr><td class="fieldtype">
<a id="ad20394f90f1ee63c5589d5eb538508fb"></a>bool</td>
<td class="fieldname">
in_use</td>
<td class="fielddoc">
Whether the connection is currently reserved. </td></tr>
<tr><td class="fieldtype">
<a id="aef344a8523c5da92fb0ebd2a731a6369"></a><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a></td>
<td class="fieldname">
last_released</td>
<td class="fielddoc">
Time the connection was released. </td></tr>
<tr><td class="fieldtype">
<a id="a15ef8064cd78ff55e61014e327c2c2ba"></a><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a></td>
<td class="fieldname">
last_reserved</td>
<td class="fielddoc">
Last time the connection was reserved. </td></tr>
<tr><td class="fieldtype">
<a id="a731b99a1b89d96af014b4720ce02f347"></a>bool</td>
<td class="fieldname">
needs_reconnecting</td>
<td class="fielddoc">
Reconnect this connection before use. </td></tr>
<tr><td class="fieldtype">
<a id="ae32e13120b9b640003a9ab0e39215464"></a><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
Next connection in list. </td></tr>
<tr><td class="fieldtype">
<a id="a7e9762a040b4fd3c64a1ba5f8cc11229"></a>uint32_t</td>
<td class="fieldname">
num_uses</td>
<td class="fielddoc">
Number of times the connection has been reserved. </td></tr>
<tr><td class="fieldtype">
<a id="a41e0533a170a2891736dbe4e92983390"></a>uint64_t</td>
<td class="fieldname">
number</td>
<td class="fielddoc">
Unique ID assigned when the connection is created, these will monotonically increase over the lifetime of the connection pool. </td></tr>
<tr><td class="fieldtype">
<a id="adc77856ec7dfce963cbe9774e06ee434"></a><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *</td>
<td class="fieldname">
prev</td>
<td class="fielddoc">
Previous connection in list. </td></tr>
</table>

</div>
</div>
<a name="structfr__pool__s" id="structfr__pool__s"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structfr__pool__s">&#9670;&nbsp;</a></span>fr_pool_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fr_pool_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A connection pool. </p>
<p>Defines the configuration of the connection pool, all the counters and timestamps related to the connection pool, the mutex that stops multiple threads leaving the pool in an inconsistent state, and the callbacks required to open, close and check the status of connections within the pool.</p>
<dl class="section see"><dt>See also</dt><dd>fr_connection </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00085">85</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for fr_pool_s:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structfr__pool__s__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a74c3dbfc0a7fbd3829d9477dd043c219"></a><a class="el" href="pool_8h.html#ac28b5484f6f43c4d77c4632706152ab2">fr_pool_connection_alive_t</a></td>
<td class="fieldname">
alive</td>
<td class="fielddoc">
Function used to check status of connections. </td></tr>
<tr><td class="fieldtype">
<a id="a5ce67cfaf4b452a47db6cf52d73b3548"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
cleanup_interval</td>
<td class="fielddoc">
Initial timer for how often we sweep the pool for free connections. <p>(0 is infinite). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a85b8a321375faf544ad2844ee66ef0d6"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
connect_timeout</td>
<td class="fielddoc">
New connection timeout, enforced by the create callback. </td></tr>
<tr><td class="fieldtype">
<a id="a210bdb47a5e0a3cc4959d4e1d6535bd2"></a><a class="el" href="pool_8h.html#aa08dee55fa46bb081affb4ed89ad8147">fr_pool_connection_create_t</a></td>
<td class="fieldname">
create</td>
<td class="fielddoc">
Function used to create new connections. </td></tr>
<tr><td class="fieldtype">
<a id="a41ee0a5169c4bf91020da24460f2f73c"></a><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> const  *</td>
<td class="fieldname">
cs</td>
<td class="fielddoc">
Configuration section holding the section of parsed config file that relates to this pool. </td></tr>
<tr><td class="fieldtype">
<a id="a0f4bcac54d5a0322fe738303a5ff060b"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
delay_interval</td>
<td class="fielddoc">
When we next do a cleanup. <p>Initialized to cleanup_interval, and increase from there based on the delay. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aa9010d136d2593e7758a3112689db887"></a>pthread_cond_t</td>
<td class="fieldname">
done_reconnecting</td>
<td class="fielddoc">
Before calling the create callback, threads should block on this condition if reconnecting == true. </td></tr>
<tr><td class="fieldtype">
<a id="ad8a4ca7827ecc6417f3d15e8d1772b47"></a>pthread_cond_t</td>
<td class="fieldname">
done_spawn</td>
<td class="fielddoc">
Threads that need to ensure no spawning is in progress, should block on this condition if pending != 0. </td></tr>
<tr><td class="fieldtype">
<a id="aba7d8b6c481bc1c8d9ae76c7277359aa"></a><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
Start of the connection list. </td></tr>
<tr><td class="fieldtype">
<a id="a177e8f695423aa7bff31cbd0921ebeea"></a><a class="el" href="heap_8h.html#aba9d95442e5a2c85ef57dfc59d494663">fr_heap_t</a> *</td>
<td class="fieldname">
heap</td>
<td class="fielddoc">
For the next connection heap. </td></tr>
<tr><td class="fieldtype">
<a id="a73d1b453478d6751ceb30b2db58a2154"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
held_trigger_max</td>
<td class="fielddoc">
If a connection is held for longer than the specified period, fire a trigger. </td></tr>
<tr><td class="fieldtype">
<a id="a1b1474efd1112f8f8cdbd819ff3cecf1"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
held_trigger_min</td>
<td class="fielddoc">
If a connection is held for less than the specified period, fire a trigger. </td></tr>
<tr><td class="fieldtype">
<a id="a2b582b36ac13c0050c6b8917ea0e621f"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
idle_timeout</td>
<td class="fielddoc">
How long a connection can be idle before being closed. </td></tr>
<tr><td class="fieldtype">
<a id="ab01406a21d869f88702b359d6bab9194"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
lifetime</td>
<td class="fielddoc">
How long a connection can be open before being closed (irrespective of whether it's idle or not). </td></tr>
<tr><td class="fieldtype">
<a id="af7288c89c6692470e271085236419bd6"></a>char const  *</td>
<td class="fieldname">
log_prefix</td>
<td class="fielddoc">
Log prefix to prepend to all log messages created by the connection pool code. </td></tr>
<tr><td class="fieldtype">
<a id="ab8562835de2eafb35433106f4bd5bd53"></a>uint32_t</td>
<td class="fieldname">
max</td>
<td class="fielddoc">
Maximum number of concurrent connections to allow. </td></tr>
<tr><td class="fieldtype">
<a id="a0ec2325a5a4170fbba3ad623c77f3a7a"></a>uint32_t</td>
<td class="fieldname">
max_pending</td>
<td class="fielddoc">
Max number of pending connections to allow. </td></tr>
<tr><td class="fieldtype">
<a id="aa0a464cb4044df27ab8f2d3e95e39b72"></a>uint64_t</td>
<td class="fieldname">
max_uses</td>
<td class="fielddoc">
Maximum number of times a connection can be used before being closed. </td></tr>
<tr><td class="fieldtype">
<a id="a3a6e15e3368f8fc83f7faf6372753e2b"></a>uint32_t</td>
<td class="fieldname">
min</td>
<td class="fielddoc">
Minimum number of concurrent connections to keep open. </td></tr>
<tr><td class="fieldtype">
<a id="ab31b90deca662f6922bce497e96f8998"></a>pthread_mutex_t</td>
<td class="fieldname">
mutex</td>
<td class="fielddoc">
Mutex used to keep consistent state when making modifications in threaded mode. </td></tr>
<tr><td class="fieldtype">
<a id="ae367f2e56f0276eb354ffd08a20c8a14"></a>void *</td>
<td class="fieldname">
opaque</td>
<td class="fielddoc">
Pointer to context data that will be passed to callbacks. </td></tr>
<tr><td class="fieldtype">
<a id="a5908717f8ee65f47f8e2daf69e9bae76"></a>uint32_t</td>
<td class="fieldname">
pending_window</td>
<td class="fielddoc">
Sliding window of pending connections. </td></tr>
<tr><td class="fieldtype">
<a id="a07d165f561ae702a2496c28dc514c2bc"></a><a class="el" href="pool_8h.html#a77d52e80185c7168d93db91824c156ec">fr_pool_reconnect_t</a></td>
<td class="fieldname">
reconnect</td>
<td class="fielddoc">
Called during connection pool reconnect. </td></tr>
<tr><td class="fieldtype">
<a id="ac25e7248ce9712a5c49685cf02fc0afb"></a>int</td>
<td class="fieldname">
ref</td>
<td class="fielddoc">
Reference counter to prevent connection pool being freed multiple times. </td></tr>
<tr><td class="fieldtype">
<a id="ad345c24ef84bd07ceebb5379c32b67a6"></a><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a></td>
<td class="fieldname">
retry_delay</td>
<td class="fielddoc">
seconds to delay re-open after a failed open. </td></tr>
<tr><td class="fieldtype">
<a id="a93c231b76baaaf8f8a971a32e7557f8e"></a>uint32_t</td>
<td class="fieldname">
spare</td>
<td class="fielddoc">
Number of spare connections to try. </td></tr>
<tr><td class="fieldtype">
<a id="a0d965eaf99e8a3cce3b44407e26259e9"></a>bool</td>
<td class="fieldname">
spread</td>
<td class="fielddoc">
If true we spread requests over the connections, using the connection released longest ago, first. </td></tr>
<tr><td class="fieldtype">
<a id="a28a3b50f288f4d441b61586c830dcfea"></a>uint32_t</td>
<td class="fieldname">
start</td>
<td class="fielddoc">
Number of initial connections. </td></tr>
<tr><td class="fieldtype">
<a id="ac4b124aa637bd7cad2669845bff1796b"></a><a class="el" href="pool_8h.html#a63674e9f90d86b0dd6d290f3b90723e5">fr_pool_state_t</a></td>
<td class="fieldname">
state</td>
<td class="fielddoc">
Stats and state of the connection pool. </td></tr>
<tr><td class="fieldtype">
<a id="a6ddf0624305fa0862757a7dfd893c20c"></a><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *</td>
<td class="fieldname">
tail</td>
<td class="fielddoc">
End of the connection list. </td></tr>
<tr><td class="fieldtype">
<a id="a1d07a9a87ab541888ef8cbe836b117f7"></a><a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *</td>
<td class="fieldname">
trigger_args</td>
<td class="fielddoc">
Arguments to make available in connection pool triggers. </td></tr>
<tr><td class="fieldtype">
<a id="a5b71dad93750aee6170d58d4ed0c9f97"></a>char const  *</td>
<td class="fieldname">
trigger_prefix</td>
<td class="fielddoc">
Prefix to prepend to names of all triggers fired by the connection pool code. </td></tr>
<tr><td class="fieldtype">
<a id="a853bffcc8c8c3b44abf3a6ef037b984a"></a>bool</td>
<td class="fieldname">
triggers_enabled</td>
<td class="fielddoc">
Whether we call the trigger functions. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aae1d11681b36518afb9413f4194b18a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1d11681b36518afb9413f4194b18a6">&#9670;&nbsp;</a></span>LOG_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> LOG_PREFIX&#160;&#160;&#160;&quot;%s - &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00028">28</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>

</div>
</div>
<a id="adf1160f41bcf76f349186b6cfce11bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf1160f41bcf76f349186b6cfce11bcc">&#9670;&nbsp;</a></span>LOG_PREFIX_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="build_8h.html#a0ec3f1f76900803ac4f041eb90b84a34">define</a> LOG_PREFIX_ARGS&#160;&#160;&#160;pool-&gt;log_prefix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00029">29</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a4249f5c48884639bd0769ca6dae8e19e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4249f5c48884639bd0769ca6dae8e19e">&#9670;&nbsp;</a></span>fr_pool_connection_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="pool_8c.html#structfr__pool__connection__s">fr_pool_connection_s</a> <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00040">40</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a34653fe49349ad33c89e7a459e24293a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34653fe49349ad33c89e7a459e24293a">&#9670;&nbsp;</a></span>connection_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int connection_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether any connections need to be removed from the pool. </p>
<p>Maintains the number of connections in the pool as per the configuration parameters for the connection pool.</p>
<dl class="section note"><dt>Note</dt><dd>Will only run checks the first time it's called in a given second, to throttle connection spawning/closing. </dd>
<dd>
Will only close connections not in use. </dd>
<dd>
Must be called with the mutex held, will release mutex before returning.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to manage. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00644">644</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a34653fe49349ad33c89e7a459e24293a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a34653fe49349ad33c89e7a459e24293a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a405d785679ea12b6919284a0cc70e479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a405d785679ea12b6919284a0cc70e479">&#9670;&nbsp;</a></span>connection_close_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_close_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an existing connection. </p>
<p>Removes the connection from the list, calls the delete callback to close the connection, then frees memory allocated to the connection.</p>
<dl class="section note"><dt>Note</dt><dd>Will call the 'close' trigger. </dd>
<dd>
Must be called with the mutex held.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>Connection to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00536">536</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a405d785679ea12b6919284a0cc70e479_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a405d785679ea12b6919284a0cc70e479_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a14166bb15f94ea500ee77d1e702fb6b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14166bb15f94ea500ee77d1e702fb6b5">&#9670;&nbsp;</a></span>connection_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a>* connection_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a connection handle in the connection list. </p>
<p>Walks over the list of connections searching for a specified connection handle and returns the first connection that contains that pointer.</p>
<dl class="section note"><dt>Note</dt><dd>Will lock mutex and only release mutex if connection handle is not found, so will usually return will mutex held. </dd>
<dd>
Must be called with the mutex free.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to search in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>handle to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Connection containing the specified handle.</li>
<li>NULL if non if connection was found. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00277">277</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a14166bb15f94ea500ee77d1e702fb6b5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a11f577ec1c9437bc561bace7b90d6768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f577ec1c9437bc561bace7b90d6768">&#9670;&nbsp;</a></span>connection_get_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* connection_get_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>spawn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a connection from the connection pool. </p>
<dl class="section note"><dt>Note</dt><dd>Must be called with the mutex free.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to reserve the connection from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spawn</td><td>whether to spawn a new connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>A pointer to the connection handle.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00805">805</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a11f577ec1c9437bc561bace7b90d6768_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a11f577ec1c9437bc561bace7b90d6768_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0be38f12c9e895bd5c9ba5ba3bc0662f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be38f12c9e895bd5c9ba5ba3bc0662f">&#9670;&nbsp;</a></span>connection_link_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_link_head </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a connection to the head of the connection list. </p>
<dl class="section note"><dt>Note</dt><dd>Must be called with the mutex held.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>Connection to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00221">221</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a0be38f12c9e895bd5c9ba5ba3bc0662f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5c4d51ce852622144646a301d95bd3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4d51ce852622144646a301d95bd3ec">&#9670;&nbsp;</a></span>connection_manage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int connection_manage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a connection needs to be removed from the pool. </p>
<p>Will verify that the connection is within idle_timeout, max_uses, and lifetime values. If it is not, the connection will be closed.</p>
<dl class="section note"><dt>Note</dt><dd>Will only close connections not in use. </dd>
<dd>
Must be called with the mutex held.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>Connection to manage. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if connection was closed.</li>
<li>1 if connection handle was left open. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00584">584</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a5c4d51ce852622144646a301d95bd3ec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a5c4d51ce852622144646a301d95bd3ec_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a41541ea89745dd51029d73fb008d6021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41541ea89745dd51029d73fb008d6021">&#9670;&nbsp;</a></span>connection_spawn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a>* connection_spawn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#ae3bbe82b46d7b09dbfc1caa6765ddbde">fr_time_t</a>&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_use</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Spawns a new connection. </p>
<p>Spawns a new connection using the create callback, and returns it for adding to the connection list.</p>
<dl class="section note"><dt>Note</dt><dd>Will call the 'open' trigger. </dd>
<dd>
Must be called with the mutex free.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">now</td><td>Current time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_use</td><td>whether the new connection should be "in_use" or not </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unlock</td><td>whether we should unlock the mutex before returning </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>New connection struct.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00326">326</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a41541ea89745dd51029d73fb008d6021_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a41541ea89745dd51029d73fb008d6021_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2d50aacfed1e9516241ca7b08a47e872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d50aacfed1e9516241ca7b08a47e872">&#9670;&nbsp;</a></span>connection_unlink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_unlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8c.html#a4249f5c48884639bd0769ca6dae8e19e">fr_pool_connection_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a connection from the connection list. </p>
<dl class="section note"><dt>Note</dt><dd>Must be called with the mutex held.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>Connection to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00194">194</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a2d50aacfed1e9516241ca7b08a47e872_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8e041afb94fecd27acff57ef29850403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e041afb94fecd27acff57ef29850403">&#9670;&nbsp;</a></span>fr_pool_connection_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_pool_connection_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a connection from the connection pool. </p>
<p>Resolves the connection handle to a connection, then (if found) closes, unlinks and frees that connection.</p>
<dl class="section note"><dt>Note</dt><dd>Must be called with the mutex free.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Connection pool to modify. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 If the connection could not be found.</li>
<li>1 if the connection was deleted. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01507">1507</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a8e041afb94fecd27acff57ef29850403_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a8e041afb94fecd27acff57ef29850403_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a75e7ac5bfdae66159d35be3825d5b0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e7ac5bfdae66159d35be3825d5b0b1">&#9670;&nbsp;</a></span>fr_pool_connection_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fr_pool_connection_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a connection in the connection pool. </p>
<p>Will attempt to find an unused connection in the connection pool, if one is found, will mark it as in in use increment the number of active connections and return the connection handle.</p>
<p>If no free connections are found will attempt to spawn a new one, conditional on a connection spawning not already being in progress, and not being at the 'max' connection limit.</p>
<dl class="section note"><dt>Note</dt><dd>fr_pool_connection_release must be called once the caller has finished using the connection.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="pool_8c.html#a350d125044416cf2309470d9d6a43a3f" title="Release a connection. ">fr_pool_connection_release</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to reserve the connection from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>A pointer to the connection handle.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01362">1362</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a75e7ac5bfdae66159d35be3825d5b0b1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a75e7ac5bfdae66159d35be3825d5b0b1_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af1511bb1bd5b110243f5e53e9188e3dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1511bb1bd5b110243f5e53e9188e3dd">&#9670;&nbsp;</a></span>fr_pool_connection_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fr_pool_connection_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconnect a suspected inviable connection. </p>
<p>This should be called by the module if it suspects that a connection is not viable (e.g. the server has closed it).</p>
<p>When implementing a module that uses the connection pool API, it is advisable to pass a pointer to the pointer to the handle (void **conn) to all functions which may call reconnect. This is so that if a new handle is created and returned, the handle pointer can be updated up the callstack, and a function higher up the stack doesn't attempt to use a now invalid connection handle.</p>
<dl class="section note"><dt>Note</dt><dd>Will free any talloced memory hung off the context of the connection, being reconnected.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>After calling reconnect the caller <em>MUST NOT</em> attempt to use the old handle in any other operations, as its memory will have been freed.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="pool_8c.html#a75e7ac5bfdae66159d35be3825d5b0b1" title="Reserve a connection in the connection pool. ">fr_pool_connection_get</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to reconnect the connection in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>to reconnect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new connection handle if successful else NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01470">1470</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_af1511bb1bd5b110243f5e53e9188e3dd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_af1511bb1bd5b110243f5e53e9188e3dd_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a350d125044416cf2309470d9d6a43a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350d125044416cf2309470d9d6a43a3f">&#9670;&nbsp;</a></span>fr_pool_connection_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_pool_connection_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a connection. </p>
<p>Will mark a connection as unused and decrement the number of active connections.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="pool_8c.html#a75e7ac5bfdae66159d35be3825d5b0b1" title="Reserve a connection in the connection pool. ">fr_pool_connection_get</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to release the connection in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>to release. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01377">1377</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a350d125044416cf2309470d9d6a43a3f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a350d125044416cf2309470d9d6a43a3f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad5bd3866642e6398e3725dd12fef0d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5bd3866642e6398e3725dd12fef0d59">&#9670;&nbsp;</a></span>fr_pool_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a>* fr_pool_copy </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new pool using an existing one as a template. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>to allocate new pool in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to copy. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opaque</td><td>data to pass to connection function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>New connection pool.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01127">1127</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_ad5bd3866642e6398e3725dd12fef0d59_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aeafb70f162af494b1cadf6887435fc49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafb70f162af494b1cadf6887435fc49">&#9670;&nbsp;</a></span>fr_pool_enable_triggers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_pool_enable_triggers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>trigger_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="util_2pair_8h.html#a9ab81fd13d950dc8af802107f161d222">fr_pair_t</a> *&#160;</td>
          <td class="paramname"><em>trigger_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable triggers for a connection pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to enable triggers for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trigger_prefix</td><td>prefix to prepend to all trigger names. Usually a path to the module's trigger configuration .e.g. <pre class="fragment">modules.&lt;name&gt;.pool </pre> <pre class="fragment">&lt;trigger name&gt; </pre> is appended to form the complete path. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trigger_args</td><td>to make available in any triggers executed by the connection pool. These will usually be fr_pair_t (s) describing the host associated with the pool. Trigger args will be copied, input trigger_args should be freed if necessary. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00902">902</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_aeafb70f162af494b1cadf6887435fc49_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_aeafb70f162af494b1cadf6887435fc49_icgraph.svg" width="100%" height="483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a44f7fb0b27217494c13b53f14711d760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f7fb0b27217494c13b53f14711d760">&#9670;&nbsp;</a></span>fr_pool_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_pool_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a connection pool. </p>
<p>Closes, unlinks and frees all connections in the connection pool, then frees all memory used by the connection pool.</p>
<dl class="section note"><dt>Note</dt><dd>Will call the 'stop' trigger. </dd>
<dd>
Must be called with the mutex free.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pool</td><td>to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01300">1300</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a44f7fb0b27217494c13b53f14711d760_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a44f7fb0b27217494c13b53f14711d760_icgraph.svg" width="100%" height="577"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad534d61895e650a46ed2078e0dc6714a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad534d61895e650a46ed2078e0dc6714a">&#9670;&nbsp;</a></span>fr_pool_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a>* fr_pool_init </td>
          <td>(</td>
          <td class="paramtype">TALLOC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cf__util_8h.html#a0f39d8043920472ea4c687c97f7173b3">CONF_SECTION</a> const *&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aa08dee55fa46bb081affb4ed89ad8147">fr_pool_connection_create_t</a>&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8h.html#ac28b5484f6f43c4d77c4632706152ab2">fr_pool_connection_alive_t</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>log_prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new connection pool. </p>
<p>Allocates structures used by the connection pool, initialises the various configuration options and counters, and sets the callback functions.</p>
<p>Will also spawn the number of connections specified by the 'start' configuration option.</p>
<dl class="section note"><dt>Note</dt><dd>Will call the 'start' trigger.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>Context to link pool's destruction to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>pool section. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opaque</td><td>data pointer to pass to callbacks. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Callback to create new connections. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>Callback to check the status of connections. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_prefix</td><td>prefix to prepend to all log messages. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>New connection pool.</li>
<li>NULL on error. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00936">936</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_ad534d61895e650a46ed2078e0dc6714a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_ad534d61895e650a46ed2078e0dc6714a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a349d07bd81770f3f6e5e4a81e5ad27d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349d07bd81770f3f6e5e4a81e5ad27d0">&#9670;&nbsp;</a></span>fr_pool_opaque()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void const* fr_pool_opaque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the opaque data associated with a connection pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>to return data for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>opaque data associated with pool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01174">1174</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>

</div>
</div>
<a id="a6b87c78e8f39bd2704842359db2f263c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b87c78e8f39bd2704842359db2f263c">&#9670;&nbsp;</a></span>fr_pool_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_pool_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark connections for reconnection, and spawn at least 'start' connections. </p>
<dl class="section note"><dt>Note</dt><dd>This call may block whilst waiting for pending connection attempts to complete.</dd></dl>
<p>This intended to be called on a connection pool that's in use, to have it reflect a configuration change, or because the administrator knows that all connections in the pool are inviable and need to be reconnected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to reconnect. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 On success.</li>
<li>-1 If we couldn't create start connections, this may be ignored depending on the context in which this function is being called. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01215">1215</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a6b87c78e8f39bd2704842359db2f263c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a6b87c78e8f39bd2704842359db2f263c_icgraph.svg" width="100%" height="556"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adf28ee710f147c7d0d6153a617698b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf28ee710f147c7d0d6153a617698b5d">&#9670;&nbsp;</a></span>fr_pool_reconnect_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_pool_reconnect_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pool_8h.html#a77d52e80185c7168d93db91824c156ec">fr_pool_reconnect_t</a>&#160;</td>
          <td class="paramname"><em>reconnect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a reconnection callback for the connection pool. </p>
<p>This can be called at any time during the pool's lifecycle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to set reconnect callback for. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">reconnect</td><td>callback to call when reconnecting pool's connections. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01195">1195</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_adf28ee710f147c7d0d6153a617698b5d_icgraph.svg" width="100%" height="556"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a574d50913d2908715785fdf4ec02135b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574d50913d2908715785fdf4ec02135b">&#9670;&nbsp;</a></span>fr_pool_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fr_pool_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment pool reference by one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to increment reference counter for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01183">1183</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pool_8c_a574d50913d2908715785fdf4ec02135b_icgraph.svg" width="494" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0c11a25b05c71aab4392cb778959e7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c11a25b05c71aab4392cb778959e7ce">&#9670;&nbsp;</a></span>fr_pool_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_pool_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01087">1087</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a0c11a25b05c71aab4392cb778959e7ce_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a0c11a25b05c71aab4392cb778959e7ce_icgraph.svg" width="100%" height="575"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac4a0f06af3da27c3af69883544ddd6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a0f06af3da27c3af69883544ddd6a7">&#9670;&nbsp;</a></span>fr_pool_start_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fr_pool_start_num </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection pool get start. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to get connection start for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the connection start value configured for the pool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01164">1164</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pool_8c_ac4a0f06af3da27c3af69883544ddd6a7_icgraph.svg" width="592" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6b251d458c1229ed4a5f061ac6c70616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b251d458c1229ed4a5f061ac6c70616">&#9670;&nbsp;</a></span>fr_pool_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pool_8h.html#a63674e9f90d86b0dd6d290f3b90723e5">fr_pool_state_t</a> const* fr_pool_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of connections currently in the pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to count connections for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of connections in the pool </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01144">1144</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a6b251d458c1229ed4a5f061ac6c70616_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0b039da90c3bff218111d75bc71c08bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b039da90c3bff218111d75bc71c08bd">&#9670;&nbsp;</a></span>fr_pool_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="time_8h.html#a107fc1fa0fdf50e580c17fe543d2eeb5">fr_time_delta_t</a> fr_pool_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection pool get timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to get connection timeout for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the connection timeout configured for the pool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l01154">1154</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="pool_8c_a0b039da90c3bff218111d75bc71c08bd_icgraph.svg" width="647" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adf8965c10f53aba7de0ad83e031f8568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8965c10f53aba7de0ad83e031f8568">&#9670;&nbsp;</a></span>fr_pool_trigger_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fr_pool_trigger_exec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pool_8h.html#aba3234b79613f1a29d858b2b87ef8e38">fr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="radclient_8c.html#a2fc1b64f51f8225195d32592e6fe8fc5">request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a connection pool trigger. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>to send trigger for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The current request (may be NULL). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>trigger name suffix. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00249">249</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_adf8965c10f53aba7de0ad83e031f8568_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_adf8965c10f53aba7de0ad83e031f8568_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a10b7ddc3f4595cbb550c28c79e0a5261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10b7ddc3f4595cbb550c28c79e0a5261">&#9670;&nbsp;</a></span>last_released_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t last_released_cmp </td>
          <td>(</td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>two</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Order connections by released longest ago. </p>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00180">180</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a10b7ddc3f4595cbb550c28c79e0a5261_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_a10b7ddc3f4595cbb550c28c79e0a5261_icgraph.svg" width="100%" height="558"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad4ea2c00e4071eed4f44f51c202b0b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ea2c00e4071eed4f44f51c202b0b9c">&#9670;&nbsp;</a></span>last_reserved_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t last_reserved_cmp </td>
          <td>(</td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>two</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Order connections by reserved most recently. </p>

<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00171">171</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_ad4ea2c00e4071eed4f44f51c202b0b9c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="pool_8c_ad4ea2c00e4071eed4f44f51c202b0b9c_icgraph.svg" width="100%" height="558"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abfc286252ed14ba408f096213ea66f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc286252ed14ba408f096213ea66f0c">&#9670;&nbsp;</a></span>pool_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="cf__parse_8h.html#structCONF__PARSER">CONF_PARSER</a> pool_config[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;start&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, start), .dflt = <span class="stringliteral">&quot;5&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;min&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, <a class="code" href="dbuff_8c.html#a6e56446e714b3c7a19bf9537185674ec">min</a>), .dflt = <span class="stringliteral">&quot;5&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;max&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, max), .dflt = <span class="stringliteral">&quot;10&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;max_pending&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, max_pending), .dflt = <span class="stringliteral">&quot;0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;spare&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, spare), .dflt = <span class="stringliteral">&quot;3&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;uses&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02">FR_TYPE_UINT64</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, max_uses), .dflt = <span class="stringliteral">&quot;0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;lifetime&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, lifetime), .dflt = <span class="stringliteral">&quot;0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;cleanup_interval&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, cleanup_interval), .dflt = <span class="stringliteral">&quot;30&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;idle_timeout&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, idle_timeout), .dflt = <span class="stringliteral">&quot;60&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;connect_timeout&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, connect_timeout), .dflt = <span class="stringliteral">&quot;3.0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;held_trigger_min&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, held_trigger_min), .dflt = <span class="stringliteral">&quot;0.0&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;held_trigger_max&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, held_trigger_max), .dflt = <span class="stringliteral">&quot;0.5&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;retry_delay&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, retry_delay), .dflt = <span class="stringliteral">&quot;1&quot;</span> },</div><div class="line">        { <a class="code" href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a>(<span class="stringliteral">&quot;spread&quot;</span>, <a class="code" href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30ad2b7a961b1fad6fd4498c4ed804fd262">FR_TYPE_BOOL</a>, <a class="code" href="pool_8c.html#structfr__pool__s">fr_pool_t</a>, spread), .dflt = <span class="stringliteral">&quot;no&quot;</span> },</div><div class="line">        <a class="code" href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="line">}</div><div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a8e3243c385d006225c2eff3d38382552">FR_TYPE_UINT32</a></div><div class="ttdoc">32 Bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00054">types.h:54</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a0505c2d6520cd701b0ba43d06cbd62c7"><div class="ttname"><a href="cf__parse_8h.html#a0505c2d6520cd701b0ba43d06cbd62c7">CONF_PARSER_TERMINATOR</a></div><div class="ttdeci">#define CONF_PARSER_TERMINATOR</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00465">cf_parse.h:465</a></div></div>
<div class="ttc" id="cf__parse_8h_html_a65712f5c07f63ce95739dbd24c822080"><div class="ttname"><a href="cf__parse_8h.html#a65712f5c07f63ce95739dbd24c822080">FR_CONF_OFFSET</a></div><div class="ttdeci">#define FR_CONF_OFFSET(_n, _t, _s, _f)</div><div class="ttdef"><b>Definition:</b> <a href="cf__parse_8h_source.html#l00230">cf_parse.h:230</a></div></div>
<div class="ttc" id="dbuff_8c_html_a6e56446e714b3c7a19bf9537185674ec"><div class="ttname"><a href="dbuff_8c.html#a6e56446e714b3c7a19bf9537185674ec">min</a></div><div class="ttdeci">static size_t min(size_t x, size_t y)</div><div class="ttdef"><b>Definition:</b> <a href="dbuff_8c_source.html#l00063">dbuff.c:63</a></div></div>
<div class="ttc" id="pool_8c_html_structfr__pool__s"><div class="ttname"><a href="pool_8c.html#structfr__pool__s">fr_pool_s</a></div><div class="ttdoc">A connection pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00085">pool.c:85</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30ad2b7a961b1fad6fd4498c4ed804fd262"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30ad2b7a961b1fad6fd4498c4ed804fd262">FR_TYPE_BOOL</a></div><div class="ttdoc">A truth value. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00050">types.h:50</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30a0054f87082182f9b3147576101eda85e">FR_TYPE_TIME_DELTA</a></div><div class="ttdoc">A period of time measured in nanoseconds. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00070">types.h:70</a></div></div>
<div class="ttc" id="util_2types_8h_html_a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02"><div class="ttname"><a href="util_2types_8h.html#a372af96cb1f1bd71720f5b25c8acfd30aacc9d809a7a605775fff050eb108ff02">FR_TYPE_UINT64</a></div><div class="ttdoc">64 Bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="util_2types_8h_source.html#l00055">types.h:55</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="pool_8c_source.html#l00151">151</a> of file <a class="el" href="pool_8c_source.html">pool.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 15 2020 18:00:21 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
